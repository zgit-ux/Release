/**
* Copyright (c) 2025 Bytedance, Inc. and its affiliates.
* SPDX-License-Identifier: Apache-2.0
*/
import { WorkspacePathManager } from "./workspace-path.mjs";
function ensureWorkingDirectory(namespace, workspacePath, isolateSessions = false, isDebug = false) {
    try {
        const baseDir = process.cwd();
        const resolvedPath = WorkspacePathManager.resolveWorkspacePath(baseDir, workspacePath, namespace, isolateSessions);
        const workingDirectory = WorkspacePathManager.ensureWorkspaceDirectory(resolvedPath);
        if (isDebug) console.log(`Created or verified working directory: ${workingDirectory}`);
        return workingDirectory;
    } catch (error) {
        console.error("Failed to create working directory:", error);
        throw new Error(`Failed to initialize agent workspace: ${error instanceof Error ? error.message : String(error)}`);
    }
}
export { ensureWorkingDirectory };

//# sourceMappingURL=workspace.mjs.map