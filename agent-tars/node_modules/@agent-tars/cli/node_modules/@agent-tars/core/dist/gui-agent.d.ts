import { LocalBrowser } from '@agent-infra/browser';
import { ConsoleLogger, EventStream, ToolDefinition } from '@multimodal/mcp-agent';
import { Page } from 'puppeteer-core';
/**
 * Coordinate type definition
 */
export type Coords = [number, number] | [];
/**
 * Action input parameters for browser actions
 */
export interface ActionInputs {
    content?: string;
    start_box?: string;
    end_box?: string;
    key?: string;
    hotkey?: string;
    direction?: string;
    start_coords?: Coords;
    end_coords?: Coords;
}
/**
 * Parsed prediction from GUI agent
 */
export interface PredictionParsed {
    /** Action inputs parsed from action_type(action_inputs) */
    action_inputs: ActionInputs;
    /** Action type parsed from action_type(action_inputs) */
    action_type: string;
    /** Thinking content */
    thought?: string;
}
/**
 * Browser initialization options
 */
export interface GUIAgentOptions {
    /** browser instance to use */
    browser: LocalBrowser;
    /** The logger instance to use */
    logger: ConsoleLogger;
    /** Whether to run browser in headless mode */
    headless?: boolean;
    /** Scaling factors for coordinates */
    factors?: [number, number];
    /** Event stream instance for injecting environment info */
    eventStream?: EventStream;
}
/**
 * GUI Agent for visual browser automation
 */
export declare class GUIAgent {
    private options;
    private browser;
    private browserOperator;
    private screenWidth?;
    private screenHeight?;
    private guiAgentTool;
    private logger;
    private factors;
    private eventStream?;
    /**
     * Creates a new GUI Agent
     * @param options - Configuration options
     */
    constructor(options: GUIAgentOptions);
    /**
     * Capture page content and add it to event stream as environment info
     * This is called automatically after each browser_vision_control action
     */
    private capturePageContentAsEnvironmentInfo;
    /**
     * Set the event stream instance
     * @param eventStream - The event stream instance
     */
    setEventStream(eventStream: EventStream): void;
    /**
     * Get the tool definition for GUI Agent browser control
     */
    getToolDefinition(): ToolDefinition;
    /**
     * Hook for starting each agent loop
     * - Takes a screenshot
     * - Extracts image dimensions
     * - Sends the screenshot to the event stream
     */
    onEachAgentLoopStart(eventStream: EventStream, isReplaySnapshot?: boolean): Promise<void>;
    /**
     * Add data URI prefix to base64 image if not present
     */
    private addBase64ImagePrefix;
    /**
     * Parse operation string into a structured operation object
     */
    private parseAction;
    /**
     * Extract width and height information from base64 encoded image
     */
    private extractImageDimensionsFromBase64;
    /**
     * Get access to the underlying Puppeteer page
     * This allows custom browser tools to be implemented
     * without relying on the MCP Browser server
     */
    getPage(): Promise<Page>;
}
//# sourceMappingURL=gui-agent.d.ts.map