"use strict";
self["webpackHotUpdate_agent_tars_web_ui"]("index", {
"./src/entry.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749668561011
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/sdk/dialog/ConfirmDialog.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ConfirmDialog: () => (ConfirmDialog)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _headlessui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/.pnpm/@headlessui+react@1.7.19_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@headlessui/react/dist/components/dialog/dialog.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");





const ConfirmDialog = (param)=>{
    let { isOpen, onClose, onConfirm, title, message, confirmText = 'Confirm', cancelText = 'Cancel', type = 'danger' } = param;
    const getTypeStyles = ()=>{
        switch(type){
            case 'danger':
                return {
                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__.FiAlertTriangle, {
                        size: 24,
                        className: "text-red-500 dark:text-red-400"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                        lineNumber: 31,
                        columnNumber: 17
                    }, undefined),
                    confirmButton: 'bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 text-white',
                    iconBg: 'bg-red-100 dark:bg-red-900/30'
                };
            case 'warning':
                return {
                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__.FiAlertTriangle, {
                        size: 24,
                        className: "text-amber-500 dark:text-amber-400"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                        lineNumber: 38,
                        columnNumber: 17
                    }, undefined),
                    confirmButton: 'bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-700 text-white',
                    iconBg: 'bg-amber-100 dark:bg-amber-900/30'
                };
            default:
                return {
                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__.FiAlertTriangle, {
                        size: 24,
                        className: "text-blue-500 dark:text-blue-400"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                        lineNumber: 45,
                        columnNumber: 17
                    }, undefined),
                    confirmButton: 'bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 text-white',
                    iconBg: 'bg-blue-100 dark:bg-blue-900/30'
                };
        }
    };
    const typeStyles = getTypeStyles();
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_3__.Dialog, {
        open: isOpen,
        onClose: onClose,
        className: "relative z-[9999]",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm",
                "aria-hidden": "true"
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                lineNumber: 58,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "fixed inset-0 flex items-center justify-center p-4",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_3__.Dialog.Panel, {
                    className: "w-full max-w-md rounded-xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200/50 dark:border-gray-700/30",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-start",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: `p-3 rounded-full ${typeStyles.iconBg} mr-4 flex-shrink-0`,
                                    children: typeStyles.icon
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                    lineNumber: 64,
                                    columnNumber: 13
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "flex-1",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_3__.Dialog.Title, {
                                            className: "text-lg font-medium text-gray-900 dark:text-gray-100",
                                            children: title
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                            lineNumber: 69,
                                            columnNumber: 15
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "mt-2",
                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                                                className: "text-sm text-gray-600 dark:text-gray-400",
                                                children: message
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                                lineNumber: 74,
                                                columnNumber: 17
                                            }, undefined)
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                            lineNumber: 73,
                                            columnNumber: 15
                                        }, undefined)
                                    ]
                                }, void 0, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                    lineNumber: 68,
                                    columnNumber: 13
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {
                                    whileHover: {
                                        scale: 1.1
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    onClick: onClose,
                                    className: "text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_2__.FiX, {
                                        size: 18
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                        lineNumber: 84,
                                        columnNumber: 15
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                    lineNumber: 78,
                                    columnNumber: 13
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                            lineNumber: 63,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "mt-6 flex justify-end gap-3",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {
                                    whileHover: {
                                        scale: 1.02
                                    },
                                    whileTap: {
                                        scale: 0.98
                                    },
                                    onClick: onClose,
                                    className: "px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg text-sm font-medium transition-colors",
                                    children: cancelText
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                    lineNumber: 89,
                                    columnNumber: 13
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {
                                    whileHover: {
                                        scale: 1.02
                                    },
                                    whileTap: {
                                        scale: 0.98
                                    },
                                    onClick: onConfirm,
                                    className: `px-4 py-2 ${typeStyles.confirmButton} rounded-lg text-sm font-medium transition-colors`,
                                    children: confirmText
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                                    lineNumber: 97,
                                    columnNumber: 13
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                            lineNumber: 88,
                            columnNumber: 11
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                    lineNumber: 62,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
                lineNumber: 61,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/sdk/dialog/ConfirmDialog.tsx",
        lineNumber: 56,
        columnNumber: 5
    }, undefined);
};
_c = ConfirmDialog;
var _c;
$RefreshReg$(_c, "ConfirmDialog");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/sdk/dialog/index.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ConfirmDialog: () => (/* reexport safe */ _ConfirmDialog__WEBPACK_IMPORTED_MODULE_0__.ConfirmDialog)
});
/* ESM import */var _ConfirmDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/sdk/dialog/ConfirmDialog.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");


function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/sidebar/ChatSession.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ChatSession: () => (ChatSession)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("../node_modules/.pnpm/react-router@7.6.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router/dist/development/chunk-DQRVZFIR.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var _SessionItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/standalone/sidebar/SessionItem.tsx");
/* ESM import */var _sdk_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/sdk/dialog/index.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();







/**
 * ChatSession Component - Collapsible sidebar for session management
 *
 * Design principles:
 * - Clean, consistent visual hierarchy
 * - Collapsible interface to maximize workspace
 * - Time-based grouping for easy navigation
 * - Offline mode support with clear visual feedback
 */ const ChatSession = (param)=>{
    let { isCollapsed } = param;
    _s();
    const { sessions, activeSessionId, setActiveSession, updateSessionMetadata, deleteSession, loadSessions, connectionStatus, checkServerStatus } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useNavigate)();
    const [editingSessionId, setEditingSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [editedName, setEditedName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isRefreshing, setIsRefreshing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [loadingSessionId, setLoadingSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [collapsedSections, setCollapsedSections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const [deleteConfirmOpen, setDeleteConfirmOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [sessionToDelete, setSessionToDelete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    // 使用useRef减少过多的状态更新
    const refreshingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);
    const sessionActionInProgressRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    // 优化分组计算，减少不必要的重计算
    const groupedSessions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const yesterday = new Date(today);
        yesterday.setDate(yesterday.getDate() - 1);
        const lastWeek = new Date(today);
        lastWeek.setDate(lastWeek.getDate() - 7);
        // 初始化组
        const groups = [
            {
                label: 'Today',
                sessions: [],
                key: 'today'
            },
            {
                label: 'Yesterday',
                sessions: [],
                key: 'yesterday'
            },
            {
                label: 'This Week',
                sessions: [],
                key: 'thisWeek'
            },
            {
                label: 'Earlier',
                sessions: [],
                key: 'earlier'
            }
        ];
        // 使用循环一次性完成分类，避免多次迭代
        sessions.forEach((session)=>{
            const sessionDate = new Date(session.updatedAt || session.createdAt);
            if (sessionDate >= today) {
                groups[0].sessions.push(session);
            } else if (sessionDate >= yesterday) {
                groups[1].sessions.push(session);
            } else if (sessionDate >= lastWeek) {
                groups[2].sessions.push(session);
            } else {
                groups[3].sessions.push(session);
            }
        });
        // 优化：预先过滤空组，避免渲染循环中的条件检查
        return groups.filter((group)=>group.sessions.length > 0);
    }, [
        sessions
    ]);
    // 优化的 session 点击处理函数
    const handleSessionClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((sessionId)=>{
        if (sessionActionInProgressRef.current === sessionId || !connectionStatus.connected || loadingSessionId) {
            return;
        }
        // 使用防抖避免快速点击
        sessionActionInProgressRef.current = sessionId;
        setLoadingSessionId(sessionId);
        // 使用 requestAnimationFrame 推迟导航操作到下一帧，减少布局抖动
        requestAnimationFrame(()=>{
            navigate(`/${sessionId}`);
            // 给状态变更一些时间来完成
            setTimeout(()=>{
                setLoadingSessionId(null);
                sessionActionInProgressRef.current = null;
            }, 100);
        });
    }, [
        connectionStatus.connected,
        loadingSessionId,
        navigate
    ]);
    // 优化的刷新会话函数
    const refreshSessions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{
        if (refreshingRef.current) return;
        refreshingRef.current = true;
        setIsRefreshing(true);
        try {
            // 使用 Promise.all 优化并行请求
            const [isConnected] = await Promise.all([
                checkServerStatus()
            ]);
            if (isConnected) {
                await loadSessions();
            }
        } catch (error) {
            console.error('Failed to refresh sessions:', error);
        } finally{
            setIsRefreshing(false);
            refreshingRef.current = false;
        }
    }, [
        checkServerStatus,
        loadSessions
    ]);
    // 优化的事件处理函数
    const handleEditSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((sessionId, currentName)=>{
        setEditingSessionId(sessionId);
        setEditedName(currentName || '');
    }, []);
    const handleSaveEdit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (sessionId)=>{
        try {
            await updateSessionMetadata({
                sessionId,
                updates: {
                    name: editedName
                }
            });
            setEditingSessionId(null);
        } catch (error) {
            console.error('Failed to update session name:', error);
        }
    }, [
        updateSessionMetadata,
        editedName
    ]);
    const handleDeleteSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (sessionId, e)=>{
        e.stopPropagation();
        setSessionToDelete(sessionId);
        setDeleteConfirmOpen(true);
    }, []);
    const confirmDeleteSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{
        if (!sessionToDelete) return;
        try {
            // 在删除之前找到下一个可用的会话
            if (sessionToDelete === activeSessionId && sessions.length > 1) {
                // 找到不是要删除的会话的最近会话
                const nextSession = sessions.find((s)=>s.id !== sessionToDelete);
                if (nextSession) {
                    // 先导航到新会话
                    navigate(`/${nextSession.id}`);
                    // 给导航一点时间完成
                    await new Promise((resolve)=>setTimeout(resolve, 50));
                }
            }
            // 然后删除会话
            await deleteSession(sessionToDelete);
        } catch (error) {
            console.error('Failed to delete session:', error);
        } finally{
            setDeleteConfirmOpen(false);
            setSessionToDelete(null);
        }
    }, [
        deleteSession,
        sessionToDelete,
        sessions,
        activeSessionId,
        navigate
    ]);
    // 如果折叠，返回最小侧边栏
    if (isCollapsed) {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "flex flex-col h-full bg-transparent w-0 border-r border-gray-100/40 dark:border-gray-700/20"
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
            lineNumber: 192,
            columnNumber: 12
        }, undefined);
    }
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "w-64 flex flex-col h-full duration-200 backdrop-blur-sm border-r border-gray-100/40 dark:border-gray-700/20",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "p-4 flex items-center justify-between border-b border-gray-100/40 dark:border-gray-700/20",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                        children: "Recent Tasks"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                        lineNumber: 199,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: `h-2 w-2 rounded-full ${connectionStatus.connected ? 'bg-green-500 animate-pulse' : connectionStatus.reconnecting ? 'bg-yellow-500 animate-ping' : 'bg-gray-400'}`,
                                title: connectionStatus.connected ? 'Connected to server' : connectionStatus.reconnecting ? 'Reconnecting...' : 'Disconnected from server'
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                lineNumber: 202,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.button, {
                                whileHover: {
                                    rotate: 180
                                },
                                transition: {
                                    duration: 0.3
                                },
                                onClick: refreshSessions,
                                disabled: isRefreshing || !connectionStatus.connected,
                                className: `text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100/40 dark:hover:bg-gray-800/40 text-xs transition-all ${!connectionStatus.connected && 'opacity-50 cursor-not-allowed'}`,
                                title: connectionStatus.connected ? 'Refresh tasks' : 'Server disconnected',
                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiRefreshCw, {
                                    className: isRefreshing ? 'animate-spin' : '',
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 229,
                                    columnNumber: 13
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                lineNumber: 219,
                                columnNumber: 11
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                        lineNumber: 200,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 198,
                columnNumber: 7
            }, undefined),
            !connectionStatus.connected && sessions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "px-3 py-2",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "p-3 rounded-xl bg-red-50/30 dark:bg-red-900/15 text-gray-700 dark:text-gray-300 text-sm border border-red-200/50 dark:border-red-800/30 shadow-sm",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-center",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiWifiOff, {
                                    className: "mr-2 flex-shrink-0 text-red-500 dark:text-red-400"
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 239,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "font-medium text-red-700 dark:text-red-400",
                                    children: "Offline Mode"
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 240,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 238,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                            className: "mt-1 text-xs",
                            children: "You can view tasks but can't create new ones until reconnected."
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 242,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.button, {
                            whileHover: {
                                scale: 1.02
                            },
                            whileTap: {
                                scale: 0.98
                            },
                            onClick: ()=>checkServerStatus(),
                            className: "w-full mt-2 py-1.5 px-3 bg-red-100/70 dark:bg-red-800/30 hover:bg-red-200/70 dark:hover:bg-red-700/40 rounded-xl text-xs font-medium transition-colors flex items-center justify-center border border-red-200/30 dark:border-red-700/30 text-red-700 dark:text-red-300",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiRefreshCw, {
                                    className: `mr-1.5 ${connectionStatus.reconnecting ? 'animate-spin' : ''}`,
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 251,
                                    columnNumber: 15
                                }, undefined),
                                connectionStatus.reconnecting ? 'Reconnecting...' : 'Reconnect to Server'
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 245,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                    lineNumber: 237,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 236,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 overflow-y-auto sidebar-scrollbar p-3",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.AnimatePresence, {
                    children: groupedSessions.map((group)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "mb-4",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.button, {
                                    onClick: ()=>toggleSectionCollapse(group.key),
                                    className: "w-full flex items-center justify-between px-1 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hover:text-gray-700 dark:hover:text-gray-300",
                                    whileHover: {
                                        x: 2
                                    },
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                            children: group.label
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                            lineNumber: 272,
                                            columnNumber: 17
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {
                                            animate: {
                                                rotate: collapsedSections[group.key] ? 0 : 180
                                            },
                                            transition: {
                                                duration: 0.2
                                            },
                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiChevronUp, {
                                                size: 14
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                                lineNumber: 277,
                                                columnNumber: 19
                                            }, undefined)
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                            lineNumber: 273,
                                            columnNumber: 17
                                        }, undefined)
                                    ]
                                }, void 0, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 267,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.AnimatePresence, {
                                    children: !collapsedSections[group.key] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {
                                        initial: {
                                            height: 0,
                                            opacity: 0
                                        },
                                        animate: {
                                            height: 'auto',
                                            opacity: 1
                                        },
                                        exit: {
                                            height: 0,
                                            opacity: 0
                                        },
                                        transition: {
                                            duration: 0.3
                                        },
                                        className: "overflow-hidden",
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "space-y-1",
                                            children: group.sessions.slice(0, 10).map((session)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SessionItem__WEBPACK_IMPORTED_MODULE_3__["default"], {
                                                    session: session,
                                                    isActive: activeSessionId === session.id,
                                                    isLoading: loadingSessionId === session.id,
                                                    isConnected: connectionStatus.connected,
                                                    onSessionClick: handleSessionClick,
                                                    onEditSession: handleEditSession,
                                                    onDeleteSession: handleDeleteSession,
                                                    onSaveEdit: handleSaveEdit,
                                                    editingSessionId: editingSessionId,
                                                    editedName: editedName,
                                                    setEditedName: setEditedName
                                                }, session.id, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                                    lineNumber: 294,
                                                    columnNumber: 25
                                                }, undefined))
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                            lineNumber: 292,
                                            columnNumber: 21
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                        lineNumber: 284,
                                        columnNumber: 19
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 282,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, group.key, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 265,
                            columnNumber: 13
                        }, undefined))
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                    lineNumber: 263,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 262,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_sdk_dialog__WEBPACK_IMPORTED_MODULE_4__.ConfirmDialog, {
                isOpen: deleteConfirmOpen,
                onClose: ()=>setDeleteConfirmOpen(false),
                onConfirm: confirmDeleteSession,
                title: "Delete Task",
                message: "Are you sure you want to delete this task? This action cannot be undone.",
                confirmText: "Delete",
                cancelText: "Cancel",
                type: "danger"
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 319,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
        lineNumber: 196,
        columnNumber: 5
    }, undefined);
};
_s(ChatSession, "YFxQURDuOx1fj9PSJL4PYY/cNx0=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useNavigate
    ];
});
_c = ChatSession;
var _c;
$RefreshReg$(_c, "ChatSession");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/sidebar/SessionItem.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  "default": () => (__WEBPACK_DEFAULT_EXPORT__)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _common_utils_formatters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/utils/formatters.ts");
/* ESM import */var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js");
/* ESM import */var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();





const SessionItem = /*#__PURE__*/ _s(react__WEBPACK_IMPORTED_MODULE_1___default().memo(_c = _s((param)=>{
    let { session, isActive, isLoading, isConnected, onSessionClick, onEditSession, onDeleteSession, onSaveEdit, editingSessionId, editedName, setEditedName } = param;
    _s();
    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{
        onSessionClick(session.id);
    }, [
        onSessionClick,
        session.id
    ]);
    const handleEdit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{
        e.stopPropagation();
        onEditSession(session.id, session.name);
    }, [
        onEditSession,
        session.id,
        session.name
    ]);
    const handleDelete = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{
        e.stopPropagation();
        onDeleteSession(session.id, e);
    }, [
        onDeleteSession,
        session.id
    ]);
    const handleSaveEdit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{
        onSaveEdit(session.id);
    }, [
        onSaveEdit,
        session.id
    ]);
    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{
        if (e.key === 'Enter') onSaveEdit(session.id);
        if (e.key === 'Escape') onEditSession('', '');
    }, [
        onSaveEdit,
        onEditSession,
        session.id
    ]);
    const handleNameChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{
        setEditedName(e.target.value);
    }, [
        setEditedName
    ]);
    const isEditing = editingSessionId === session.id;
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
        className: "relative group",
        initial: {
            opacity: 0,
            x: -10
        },
        animate: {
            opacity: 1,
            x: 0
        },
        transition: {
            duration: 0.2
        },
        children: [
            isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center p-2 glass-effect rounded-xl",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("input", {
                        type: "text",
                        value: editedName,
                        onChange: handleNameChange,
                        className: "flex-1 px-2 py-1 text-sm bg-white/90 dark:bg-gray-700/90 border border-gray-200/50 dark:border-gray-600/30 rounded-lg focus:outline-none focus:ring-1 focus:ring-accent-500 dark:focus:ring-accent-400 w-[100px]",
                        autoFocus: true,
                        onKeyDown: handleKeyDown
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                        lineNumber: 87,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {
                        onClick: handleSaveEdit,
                        className: "ml-2 px-2 py-1 text-accent-600 dark:text-accent-400 bg-accent-50/70 dark:bg-accent-900/20 hover:bg-accent-100 dark:hover:bg-accent-800/30 rounded-lg text-xs transition-colors border border-accent-100/40 dark:border-accent-700/20",
                        children: "Save"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                        lineNumber: 95,
                        columnNumber: 13
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                lineNumber: 86,
                columnNumber: 11
            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {
                whileTap: {
                    scale: 0.98
                },
                onClick: handleClick,
                disabled: !isConnected || isLoading,
                className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('text-left text-sm transition-all duration-200 flex items-center p-2 w-full rounded-xl border', {
                    'bg-white/80 dark:bg-gray-800/80 border-gray-100/60 dark:border-gray-700/30 text-gray-900 dark:text-gray-100': isActive,
                    'hover:bg-white/60 dark:hover:bg-gray-800/60 border-transparent hover:border-gray-100/40 dark:hover:border-gray-700/20 backdrop-blur-sm': !isActive,
                    'opacity-60 cursor-not-allowed hover:bg-transparent dark:hover:bg-transparent hover:border-transparent dark:hover:border-transparent': !isConnected || isLoading && session.id !== isLoading
                }),
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: `mr-3 h-9 w-9 flex-shrink-0 rounded-xl flex items-center justify-center ${isActive ? 'bg-accent-50/50 dark:bg-gray-700/60 text-accent-500 dark:text-accent-400 border border-accent-100/30 dark:border-gray-600/30' : 'bg-gray-50/70 text-gray-500 dark:bg-gray-800/50 dark:text-gray-400 border border-gray-100/40 dark:border-gray-700/30'}`,
                        children: isLoading === session.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiLoader, {
                            className: "animate-spin",
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                            lineNumber: 127,
                            columnNumber: 17
                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiMessageSquare, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                            lineNumber: 129,
                            columnNumber: 17
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                        lineNumber: 119,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "flex-1 min-w-0",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "font-medium truncate",
                                children: session.name || 'Untitled Task'
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                lineNumber: 134,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "text-xs flex items-center mt-0.5 text-gray-500 dark:text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiClock, {
                                        className: "mr-1",
                                        size: 10
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                        lineNumber: 136,
                                        columnNumber: 17
                                    }, undefined),
                                    (0,_common_utils_formatters__WEBPACK_IMPORTED_MODULE_2__.formatTimestamp)(session.updatedAt || session.createdAt)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                lineNumber: 135,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                        lineNumber: 133,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "hidden group-hover:flex absolute right-2 gap-1",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {
                                whileHover: {
                                    scale: 1.1
                                },
                                whileTap: {
                                    scale: 0.9
                                },
                                onClick: handleEdit,
                                className: "text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100/50 dark:hover:bg-gray-700/50 transition-all border border-transparent hover:border-gray-100/40 dark:hover:border-gray-700/30 bg-white/80 dark:bg-gray-800/80",
                                title: "Edit task name",
                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiEdit2, {
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                    lineNumber: 150,
                                    columnNumber: 17
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                lineNumber: 143,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.button, {
                                whileHover: {
                                    scale: 1.1
                                },
                                whileTap: {
                                    scale: 0.9
                                },
                                onClick: handleDelete,
                                className: "text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100/50 dark:hover:bg-gray-700/50 transition-all border border-transparent hover:border-gray-100/40 dark:hover:border-gray-700/30 bg-white/80 dark:bg-gray-800/80",
                                title: "Delete task",
                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiTrash2, {
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                    lineNumber: 159,
                                    columnNumber: 17
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                lineNumber: 152,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                        lineNumber: 142,
                        columnNumber: 13
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                lineNumber: 103,
                columnNumber: 11
            }, undefined),
            session.tags && session.tags.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex flex-wrap gap-1 px-4 my-1 pb-2",
                children: session.tags.map((tag, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                        whileHover: {
                            y: -2
                        },
                        className: "flex items-center bg-gray-50/60 dark:bg-gray-800/50 text-gray-600 dark:text-gray-300 rounded-full px-2 py-0.5 text-[10px] border border-gray-100/40 dark:border-gray-700/30",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiTag, {
                                size: 8,
                                className: "mr-1"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                                lineNumber: 174,
                                columnNumber: 17
                            }, undefined),
                            tag
                        ]
                    }, idx, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                        lineNumber: 169,
                        columnNumber: 15
                    }, undefined))
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
                lineNumber: 167,
                columnNumber: 11
            }, undefined)
        ]
    }, session.id, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/SessionItem.tsx",
        lineNumber: 78,
        columnNumber: 7
    }, undefined);
}, "azevCLP2xO0fHZ0yBVmm12+PdEw=")), "azevCLP2xO0fHZ0yBVmm12+PdEw=");
_c1 = SessionItem;
SessionItem.displayName = 'SessionItem';
/* ESM default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SessionItem);
var _c, _c1;
$RefreshReg$(_c, "SessionItem$React.memo");
$RefreshReg$(_c1, "SessionItem");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),

},function(__webpack_require__) {
// webpack/runtime/get_full_hash
(() => {
__webpack_require__.h = () => ("4e2d58661918b1f4")
})();

}
);
//# sourceMappingURL=index.52609f49adfc2311.hot-update.js.map