"use strict";
self["webpackHotUpdate_agent_tars_web_ui"]("index", {
"./src/entry.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749334952468
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/hooks/usePlan.ts": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  usePlan: () => (usePlan)
});
/* ESM import */var jotai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/.pnpm/jotai@2.12.5_@types+react@18.3.23_react@18.3.1/node_modules/jotai/esm/react.mjs");
/* ESM import */var _state_atoms_plan__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./src/v2/state/atoms/plan.ts");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _usePro__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/hooks/usePro.ts");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");




/**
 * Hook for plan management functionality
 *
 * Provides:
 * - Access to plan data for the active session
 * - UI state for plan display
 * - Toggle functions for plan visibility
 */ function usePlan(sessionId) {
    const [plans, setPlans] = (0,jotai__WEBPACK_IMPORTED_MODULE_3__.useAtom)(_state_atoms_plan__WEBPACK_IMPORTED_MODULE_0__.plansAtom);
    const [planUIState, setPlanUIState] = (0,jotai__WEBPACK_IMPORTED_MODULE_3__.useAtom)(_state_atoms_plan__WEBPACK_IMPORTED_MODULE_0__.planUIStateAtom);
    const isProMode = (0,_usePro__WEBPACK_IMPORTED_MODULE_2__.usePro)();
    // Get plan for current session
    const currentPlan = sessionId ? plans[sessionId] : undefined;
    // Add debug logging to trace plan state
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (sessionId) {
            console.log(`[usePlan] Plan state for session ${sessionId}:`, currentPlan);
        }
    }, [
        sessionId,
        currentPlan
    ]);
    // Toggle plan visibility
    const togglePlanVisibility = ()=>{
        // 只有在 Pro 模式下才允许切换计划可见性
        if (isProMode) {
            setPlanUIState((prev)=>({
                    ...prev,
                    isVisible: !prev.isVisible
                }));
        }
    };
    // Show plan automatically when first created
    const showPlanAutomatically = ()=>{
        // 只有在 Pro 模式下才自动显示计划
        if (isProMode) {
            setPlanUIState((prev)=>({
                    ...prev,
                    isVisible: true
                }));
        }
    };
    return {
        currentPlan,
        isPlanVisible: planUIState.isVisible && isProMode,
        togglePlanVisibility,
        showPlanAutomatically
    };
}

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),

},function(__webpack_require__) {
// webpack/runtime/get_full_hash
(() => {
__webpack_require__.h = () => ("1a7c21aae78f0019")
})();

}
);
//# sourceMappingURL=index.483d4ebeb23bcbbf.hot-update.js.map