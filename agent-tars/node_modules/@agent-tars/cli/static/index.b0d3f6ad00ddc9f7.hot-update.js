"use strict";
self["webpackHotUpdate_agent_tars_web_ui"]("index", {
"./src/standalone/chat/ChatPanel.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ChatPanel: () => (ChatPanel)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var _Message_components_MessageGroup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/standalone/chat/Message/components/MessageGroup.tsx");
/* ESM import */var _MessageInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/standalone/chat/MessageInput.tsx");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var jotai__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("../node_modules/.pnpm/jotai@2.12.5_@types+react@18.3.23_react@18.3.1/node_modules/jotai/esm/react.mjs");
/* ESM import */var _common_state_atoms_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/common/state/atoms/message.ts");
/* ESM import */var _common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/common/hooks/useReplay.ts");
/* ESM import */var _common_state_atoms_replay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/common/state/atoms/replay.ts");
/* ESM import */var _common_hooks_useReplayMode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/common/hooks/useReplayMode.tsx");
/* ESM import */var _ChatPanel_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/standalone/chat/ChatPanel.css");
/* ESM import */var _ResearchReportEntry__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/standalone/chat/ResearchReportEntry.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();













/**
 * ChatPanel Component - Main chat interface
 *
 * Design principles:
 * - Clean, distraction-free message display area with ample whitespace
 * - Elegant loading indicators and status messages with subtle animations
 * - Visually distinct message bubbles with refined spacing
 * - Clear visual hierarchy through typography and subtle borders
 */ const ChatPanel = ()=>{
    _s();
    const { activeSessionId, isProcessing, connectionStatus, checkServerStatus } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const groupedMessages = (0,jotai__WEBPACK_IMPORTED_MODULE_11__.useAtomValue)(_common_state_atoms_message__WEBPACK_IMPORTED_MODULE_5__.groupedMessagesAtom);
    const allMessages = (0,jotai__WEBPACK_IMPORTED_MODULE_11__.useAtomValue)(_common_state_atoms_message__WEBPACK_IMPORTED_MODULE_5__.messagesAtom);
    const [replayState] = (0,jotai__WEBPACK_IMPORTED_MODULE_11__.useAtom)(_common_state_atoms_replay__WEBPACK_IMPORTED_MODULE_7__.replayStateAtom);
    const isReplayMode = (0,_common_hooks_useReplayMode__WEBPACK_IMPORTED_MODULE_8__.useReplayMode)();
    const { cancelAutoPlay } = (0,_common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__.useReplay)();
    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    // 使用当前会话的消息 - 这样与正常渲染保持一致
    // 回放模式下会通过 processEvent 来更新这些消息
    const activeMessages = activeSessionId ? groupedMessages[activeSessionId] || [] : [];
    // Auto-scroll when new messages arrive
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (messagesEndRef.current && messagesContainerRef.current) {
            var _activeMessages__messages_;
            const container = messagesContainerRef.current;
            // Check if user is already at bottom
            const { scrollTop, scrollHeight, clientHeight } = container;
            const isAtBottom = Math.abs(scrollHeight - scrollTop - clientHeight) < 30;
            // Auto-scroll if at bottom or if new user message
            if (isAtBottom || activeMessages.length > 0 && ((_activeMessages__messages_ = activeMessages[activeMessages.length - 1].messages[0]) === null || _activeMessages__messages_ === void 0 ? void 0 : _activeMessages__messages_.role) === 'user') {
                setTimeout(()=>{
                    container.scrollTo({
                        top: container.scrollHeight,
                        behavior: 'smooth'
                    });
                }, 100);
            }
        }
    }, [
        activeMessages
    ]);
    const scrollToBottom = ()=>{
        if (messagesEndRef.current && messagesContainerRef.current) {
            messagesContainerRef.current.scrollTo({
                top: messagesContainerRef.current.scrollHeight,
                behavior: 'smooth'
            });
        }
    };
    // Animation variants
    const containerVariants = {
        hidden: {
            opacity: 0
        },
        visible: {
            opacity: 1,
            transition: {
                duration: 0.4,
                staggerChildren: 0.1
            }
        }
    };
    const itemVariants = {
        hidden: {
            opacity: 0,
            y: 20
        },
        visible: {
            opacity: 1,
            y: 0,
            transition: {
                duration: 0.4
            }
        }
    };
    const renderOfflineBanner = ()=>{
        if (connectionStatus.connected || !activeSessionId || isReplayMode) return null;
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
            initial: {
                opacity: 0,
                y: -10
            },
            animate: {
                opacity: 1,
                y: 0
            },
            className: "mb-4 px-4 py-3 bg-red-50/30 dark:bg-red-900/15 text-red-700 dark:text-red-300 text-sm rounded-xl",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "font-medium flex items-center",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiWifiOff, {
                                        className: "mr-2 text-red-500 dark:text-red-400"
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                        lineNumber: 110,
                                        columnNumber: 15
                                    }, undefined),
                                    "Viewing in offline mode"
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 109,
                                columnNumber: 13
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "text-sm mt-1",
                                children: "You can view previous messages but cannot send new ones until reconnected."
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 113,
                                columnNumber: 13
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                        lineNumber: 108,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.button, {
                        whileHover: {
                            scale: 1.05
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: ()=>checkServerStatus(),
                        className: "ml-3 px-3 py-1.5 bg-red-100/70 dark:bg-red-800/30 hover:bg-red-200/70 dark:hover:bg-red-700/40 rounded-2xl text-sm font-medium transition-colors flex items-center border border-red-200/30 dark:border-red-700/30",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiRefreshCw, {
                                className: `mr-1.5 ${connectionStatus.reconnecting ? 'animate-spin' : ''}`,
                                size: 14
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 123,
                                columnNumber: 13
                            }, undefined),
                            connectionStatus.reconnecting ? 'Reconnecting...' : 'Reconnect'
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                        lineNumber: 117,
                        columnNumber: 11
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                lineNumber: 107,
                columnNumber: 9
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
            lineNumber: 102,
            columnNumber: 7
        }, undefined);
    };
    // 新增：查找会话中的研究报告
    const findResearchReport = ()=>{
        if (!activeSessionId || !allMessages[activeSessionId]) return null;
        const sessionMessages = allMessages[activeSessionId];
        // 查找类型为 final_answer 且 isDeepResearch 为 true 的最后一条消息
        const reportMessage = [
            ...sessionMessages
        ].reverse().find((msg)=>(msg.role === 'final_answer' || msg.role === 'assistant') && msg.isDeepResearch === true && msg.title);
        return reportMessage;
    };
    const researchReport = findResearchReport();
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "flex flex-col h-full",
        children: !activeSessionId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
            initial: "hidden",
            animate: "visible",
            variants: containerVariants,
            className: "flex items-center justify-center flex-1",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "text-center p-6 max-w-md",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
                        variants: itemVariants,
                        className: "w-16 h-16 bg-white dark:bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-6 text-gray-500 dark:text-gray-400 border border-gray-100/50 dark:border-gray-700/20",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiMessageSquare, {
                            size: 24
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 168,
                            columnNumber: 15
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                        lineNumber: 164,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.h2, {
                        variants: itemVariants,
                        className: "text-xl font-display font-bold mb-3 text-gray-800 dark:text-gray-200",
                        children: "Welcome to Agent TARS"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                        lineNumber: 170,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.p, {
                        variants: itemVariants,
                        className: "text-gray-600 dark:text-gray-400 mb-5 text-sm leading-relaxed",
                        children: "Create a new chat session to get started with the AI assistant."
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                        lineNumber: 176,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
                        variants: itemVariants,
                        whileHover: {
                            y: -2
                        },
                        className: "flex items-center p-4 bg-white dark:bg-gray-800 rounded-2xl mb-3 text-gray-600 dark:text-gray-400 text-sm border border-gray-100/40 dark:border-gray-700/20",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiInfo, {
                                className: "mr-3 text-gray-400 flex-shrink-0"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 187,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                children: "TARS can help with tasks involving web search, browsing, and file operations."
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 188,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                        lineNumber: 182,
                        columnNumber: 13
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                lineNumber: 163,
                columnNumber: 11
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
            lineNumber: 157,
            columnNumber: 9
        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    ref: messagesContainerRef,
                    className: "flex-1 overflow-y-auto px-5 py-5 overflow-x-hidden min-h-0 chat-scrollbar relative",
                    children: [
                        renderOfflineBanner(),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {
                            children: !connectionStatus.connected && !activeSessionId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
                                initial: {
                                    opacity: 0,
                                    y: -10
                                },
                                animate: {
                                    opacity: 1,
                                    y: 0
                                },
                                exit: {
                                    opacity: 0,
                                    y: -10
                                },
                                className: "mb-4 px-4 py-3 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm rounded-3xl border border-gray-100/40 dark:border-gray-700/20",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "font-medium",
                                        children: "Server disconnected"
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                        lineNumber: 210,
                                        columnNumber: 19
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "text-sm mt-1",
                                        children: connectionStatus.reconnecting ? 'Attempting to reconnect...' : 'Please check your connection and try again.'
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                        lineNumber: 211,
                                        columnNumber: 19
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 204,
                                columnNumber: 17
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 202,
                            columnNumber: 13
                        }, undefined),
                        activeMessages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
                            initial: {
                                opacity: 0
                            },
                            animate: {
                                opacity: 1
                            },
                            transition: {
                                duration: 0.3
                            },
                            className: "flex items-center justify-center h-full",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "text-center p-6 max-w-md",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h3", {
                                        className: "text-lg font-display font-medium mb-2",
                                        children: replayState.isActive ? 'Replay starting...' : 'Start a conversation'
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                        lineNumber: 229,
                                        columnNumber: 19
                                    }, undefined),
                                    replayState.isActive && replayState.autoPlayCountdown !== null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "mt-2",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                                                className: "text-gray-600 dark:text-gray-400 text-sm mb-2",
                                                children: [
                                                    "Auto-play in ",
                                                    replayState.autoPlayCountdown,
                                                    " seconds..."
                                                ]
                                            }, void 0, true, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                                lineNumber: 234,
                                                columnNumber: 23
                                            }, undefined),
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.button, {
                                                whileHover: {
                                                    scale: 1.05
                                                },
                                                whileTap: {
                                                    scale: 0.95
                                                },
                                                onClick: cancelAutoPlay,
                                                className: "px-3 py-1.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200/50 dark:border-gray-700/30 flex items-center mx-auto",
                                                children: [
                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiX, {
                                                        size: 12,
                                                        className: "mr-1.5"
                                                    }, void 0, false, {
                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                                        lineNumber: 243,
                                                        columnNumber: 25
                                                    }, undefined),
                                                    "Cancel auto-play"
                                                ]
                                            }, void 0, true, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                                lineNumber: 237,
                                                columnNumber: 23
                                            }, undefined)
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                        lineNumber: 233,
                                        columnNumber: 21
                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                                        className: "text-gray-600 dark:text-gray-400 text-sm",
                                        children: replayState.isActive ? 'Please wait while the replay loads or press play to begin' : 'Ask Agent TARS a question or provide a command to begin.'
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                        lineNumber: 248,
                                        columnNumber: 21
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 228,
                                columnNumber: 17
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 222,
                            columnNumber: 15
                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "space-y-6 pb-2",
                            children: activeMessages.map((group, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Message_components_MessageGroup__WEBPACK_IMPORTED_MODULE_3__.MessageGroup, {
                                    messages: group.messages,
                                    isThinking: isProcessing && !replayState.isActive && index === activeMessages.length - 1
                                }, `group-${index}-${group.messages[0].id}`, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                    lineNumber: 259,
                                    columnNumber: 19
                                }, undefined))
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 257,
                            columnNumber: 15
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            ref: messagesEndRef
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 270,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                    lineNumber: 196,
                    columnNumber: 11
                }, undefined),
                !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "p-4",
                    children: [
                        researchReport && !isProcessing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "mb-4",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ResearchReportEntry__WEBPACK_IMPORTED_MODULE_10__.ResearchReportEntry, {
                                title: researchReport.title || 'Research Report',
                                timestamp: researchReport.timestamp,
                                content: typeof researchReport.content === 'string' ? researchReport.content : ''
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                                lineNumber: 279,
                                columnNumber: 19
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 278,
                            columnNumber: 17
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex justify-center gap-3 mb-3"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 290,
                            columnNumber: 15
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageInput__WEBPACK_IMPORTED_MODULE_4__.MessageInput, {
                            isDisabled: !activeSessionId || isProcessing || !connectionStatus.connected || isReplayMode,
                            onReconnect: checkServerStatus,
                            connectionStatus: connectionStatus
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                            lineNumber: 292,
                            columnNumber: 15
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
                    lineNumber: 275,
                    columnNumber: 13
                }, undefined)
            ]
        }, void 0, true)
    }, void 0, false, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ChatPanel.tsx",
        lineNumber: 155,
        columnNumber: 5
    }, undefined);
};
_s(ChatPanel, "ZHX+OWRjCT3BoWe5p2TKstqTNoU=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        jotai__WEBPACK_IMPORTED_MODULE_11__.useAtomValue,
        jotai__WEBPACK_IMPORTED_MODULE_11__.useAtomValue,
        jotai__WEBPACK_IMPORTED_MODULE_11__.useAtom,
        _common_hooks_useReplayMode__WEBPACK_IMPORTED_MODULE_8__.useReplayMode,
        _common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__.useReplay
    ];
});
_c = ChatPanel;
var _c;
$RefreshReg$(_c, "ChatPanel");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/chat/Message/components/ReportFileEntry.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ReportFileEntry: () => (ReportFileEntry)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();




/**
 * ReportFileEntry - Displays a file-like entry for research reports
 *
 * This component creates a clickable file entry that opens the associated
 * research report in the workspace panel when clicked.
 */ const ReportFileEntry = (param)=>{
    let { title, timestamp, content } = param;
    _s();
    const { setActivePanelContent } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const handleClick = ()=>{
        setActivePanelContent({
            type: 'research_report',
            source: content,
            title: title || 'Research Report',
            timestamp
        });
    };
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.div, {
        whileHover: {
            y: -2,
            backgroundColor: 'rgba(0, 0, 0, 0.01)'
        },
        whileTap: {
            scale: 0.98
        },
        onClick: handleClick,
        className: "mt-3 p-3 bg-white dark:bg-gray-800 rounded-xl border border-gray-100/40 dark:border-gray-700/20 cursor-pointer flex items-center gap-3 group",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "w-10 h-10 flex-shrink-0 rounded-lg bg-accent-50 dark:bg-accent-900/20 flex items-center justify-center border border-accent-100/40 dark:border-accent-800/30",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiBookOpen, {
                    className: "text-accent-600 dark:text-accent-400",
                    size: 18
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
                    lineNumber: 38,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
                lineNumber: 37,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 min-w-0",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "font-medium text-gray-800 dark:text-gray-200 truncate",
                        children: title || 'Research Report'
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
                        lineNumber: 42,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "text-xs text-gray-500 dark:text-gray-400 flex items-center",
                        children: "Research report \u2022 Click to view"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
                        lineNumber: 45,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
                lineNumber: 41,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiChevronRight, {
                className: "text-gray-400 dark:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
                lineNumber: 50,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/ReportFileEntry.tsx",
        lineNumber: 31,
        columnNumber: 5
    }, undefined);
};
_s(ReportFileEntry, "jSpNGCOA/MKjNH0nXeyyaSAVp6E=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession
    ];
});
_c = ReportFileEntry;
var _c;
$RefreshReg$(_c, "ReportFileEntry");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/chat/MessageInput.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  MessageInput: () => (MessageInput)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var _common_hooks_usePlan__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/common/hooks/usePlan.ts");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("../node_modules/.pnpm/react-router@7.6.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router/dist/development/chunk-DQRVZFIR.mjs");
/* ESM import */var _MessageInput_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/standalone/chat/MessageInput.css");
/* ESM import */var _ImagePreview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/standalone/chat/ImagePreview.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();








/**
 * MessageInput Component - Input for sending messages
 */ const MessageInput = (param)=>{
    let { isDisabled = false, onReconnect, connectionStatus } = param;
    _s();
    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isAborting, setIsAborting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isFocused, setIsFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [uploadedImages, setUploadedImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useLocation)();
    const { sendMessage, isProcessing, abortQuery, activeSessionId, checkSessionStatus, setActivePanelContent } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const { currentPlan } = (0,_common_hooks_usePlan__WEBPACK_IMPORTED_MODULE_3__.usePlan)(activeSessionId);
    // Process query from URL parameters on component mount
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        const searchParams = new URLSearchParams(location.search);
        const query = searchParams.get('q');
        if (query && !isProcessing && activeSessionId) {
            setInput(query);
            // Submit the query automatically
            const submitQuery = async ()=>{
                try {
                    await sendMessage(query);
                    // Clear input after sending
                    setInput('');
                } catch (error) {
                    console.error('Failed to send message:', error);
                }
            };
            submitQuery();
        }
    }, [
        location.search,
        activeSessionId,
        isProcessing,
        sendMessage
    ]);
    // Ensure processing state is handled correctly
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (activeSessionId && (connectionStatus === null || connectionStatus === void 0 ? void 0 : connectionStatus.connected)) {
            // Initial check of session status
            checkSessionStatus(activeSessionId);
            // If session status changes, increase polling
            const intervalId = setInterval(()=>{
                checkSessionStatus(activeSessionId);
            }, 2000); // Check status every 2 seconds
            return ()=>clearInterval(intervalId);
        }
    }, [
        activeSessionId,
        connectionStatus === null || connectionStatus === void 0 ? void 0 : connectionStatus.connected,
        checkSessionStatus
    ]);
    const handleSubmit = async (e)=>{
        e.preventDefault();
        if (!input.trim() && uploadedImages.length === 0 || isDisabled) return;
        // Immediately clear input field, don't wait for message to be sent
        const messageToSend = input.trim();
        setInput('');
        // Build multimodal content if there are images
        const messageContent = uploadedImages.length > 0 ? [
            ...uploadedImages,
            ...messageToSend ? [
                {
                    type: 'text',
                    text: messageToSend
                }
            ] : []
        ] : messageToSend;
        // Clear uploaded images
        setUploadedImages([]);
        // Reset textarea height immediately
        if (inputRef.current) {
            inputRef.current.style.height = 'auto';
        }
        try {
            // Use previously saved message content to send
            await sendMessage(messageContent);
        } catch (error) {
            console.error('Failed to send message:', error);
        }
    };
    // Modified to not trigger send on Enter
    const handleKeyDown = (e)=>{
        // Ctrl+Enter as optional shortcut to send
        if (e.key === 'Enter' && e.ctrlKey) {
            e.preventDefault();
            handleSubmit(e);
        }
    };
    const handleAbort = async ()=>{
        if (!isProcessing) return;
        setIsAborting(true);
        try {
            await abortQuery();
        } catch (error) {
            console.error('Failed to abort:', error);
        } finally{
            setIsAborting(false);
        }
    };
    // Adjust textarea height based on content
    const handleInput = (e)=>{
        const target = e.target;
        setInput(target.value);
        // Reset height to recalculate proper scrollHeight
        target.style.height = 'auto';
        // Set to scrollHeight but max 200px
        target.style.height = `${Math.min(target.scrollHeight, 200)}px`;
    };
    // Auto-focus input when available
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (!isDisabled && inputRef.current) {
            inputRef.current.focus();
        }
    }, [
        isDisabled
    ]);
    // Dummy handler for file upload button
    const handleFileUpload = ()=>{
        if (fileInputRef.current) {
            fileInputRef.current.click();
        }
    };
    // Handle file selection
    const handleFileChange = (e)=>{
        const files = e.target.files;
        if (!files || files.length === 0) return;
        Array.from(files).forEach((file)=>{
            if (!file.type.startsWith('image/')) return;
            const reader = new FileReader();
            reader.onload = (event)=>{
                var _event_target;
                if ((_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result) {
                    const newImage = {
                        type: 'image_url',
                        image_url: {
                            url: event.target.result,
                            detail: 'auto'
                        }
                    };
                    setUploadedImages((prev)=>[
                            ...prev,
                            newImage
                        ]);
                }
            };
            reader.readAsDataURL(file);
        });
        // Reset the input so the same file can be selected again
        if (fileInputRef.current) {
            fileInputRef.current.value = '';
        }
    };
    // Handle paste event to support pasting images directly
    const handlePaste = (e)=>{
        var _e_clipboardData;
        // Skip if disabled or processing
        if (isDisabled || isProcessing) return;
        const items = (_e_clipboardData = e.clipboardData) === null || _e_clipboardData === void 0 ? void 0 : _e_clipboardData.items;
        if (!items) return;
        let hasProcessedImage = false;
        // Process each item in the clipboard
        for(let i = 0; i < items.length; i++){
            const item = items[i];
            // Check if item is an image
            if (item.type.indexOf('image') !== -1) {
                hasProcessedImage = true;
                // Get image as blob
                const blob = item.getAsFile();
                if (!blob) continue;
                // Read the image file
                const reader = new FileReader();
                reader.onload = (event)=>{
                    var _event_target;
                    if ((_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result) {
                        const newImage = {
                            type: 'image_url',
                            image_url: {
                                url: event.target.result,
                                detail: 'auto'
                            }
                        };
                        setUploadedImages((prev)=>[
                                ...prev,
                                newImage
                            ]);
                    }
                };
                reader.readAsDataURL(blob);
            }
        }
        // If we processed at least one image, prevent the default paste behavior
        if (hasProcessedImage) {
            // We don't prevent default completely so text can still be pasted
            // But we still log for debugging purposes
            console.log('Processed pasted image(s)');
        }
    };
    // Remove an image from the uploaded images list
    const handleRemoveImage = (index)=>{
        setUploadedImages((prev)=>prev.filter((_, i)=>i !== index));
    };
    // 添加一个查看计划按钮
    const renderPlanButton = ()=>{
        // 只在实际有计划且计划已经生成时显示按钮
        if (!currentPlan || !currentPlan.hasGeneratedPlan || currentPlan.steps.length === 0) return null;
        const completedSteps = currentPlan.steps.filter((step)=>step.done).length;
        const totalSteps = currentPlan.steps.length;
        const isComplete = currentPlan.isComplete;
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
            initial: {
                opacity: 0,
                scale: 0.8
            },
            animate: {
                opacity: 1,
                scale: 1
            },
            exit: {
                opacity: 0,
                scale: 0.8
            },
            whileTap: {
                scale: 0.9
            },
            whileHover: {
                scale: 1.05,
                y: -2
            },
            onClick: ()=>setActivePanelContent({
                    type: 'plan',
                    source: null,
                    title: 'Task Plan',
                    timestamp: Date.now()
                }),
            className: "flex items-center gap-1 px-3 py-1 text-xs font-medium rounded-full bg-white/80 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200/50 dark:border-gray-700/30 hover:bg-white hover:border-gray-300/50 dark:hover:bg-gray-700/50 dark:hover:border-gray-600/50 transition-all duration-200 shadow-sm",
            children: [
                isComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiCpu, {
                    size: 12,
                    className: "mr-0.5 text-green-500 dark:text-green-400"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                    lineNumber: 278,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiCpu, {
                    size: 12,
                    className: "mr-0.5 text-accent-500 dark:text-accent-400 animate-pulse"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                    lineNumber: 280,
                    columnNumber: 11
                }, undefined),
                "View Plan",
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                    className: `ml-1 px-1.5 py-0.5 rounded-full ${isComplete ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'} text-[10px]`,
                    children: [
                        completedSteps,
                        "/",
                        totalSteps
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                    lineNumber: 283,
                    columnNumber: 9
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
            lineNumber: 261,
            columnNumber: 7
        }, undefined);
    };
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("form", {
        onSubmit: handleSubmit,
        className: "relative",
        children: [
            currentPlan && currentPlan.hasGeneratedPlan && currentPlan.steps.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex justify-center mb-3",
                children: renderPlanButton()
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                lineNumber: 300,
                columnNumber: 9
            }, undefined),
            uploadedImages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "mb-3 flex flex-wrap gap-2",
                children: uploadedImages.map((image, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ImagePreview__WEBPACK_IMPORTED_MODULE_5__.ImagePreview, {
                        image: image,
                        onRemove: ()=>handleRemoveImage(index)
                    }, index, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                        lineNumber: 307,
                        columnNumber: 13
                    }, undefined))
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                lineNumber: 305,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: `relative overflow-hidden rounded-3xl transition-all duration-300 ${isFocused ? 'shadow-md' : ''}`,
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: `absolute inset-0 bg-gradient-to-r ${isFocused || input.trim() || uploadedImages.length > 0 ? 'from-indigo-500 via-purple-500 to-pink-500 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 animate-border-flow' : 'from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700'} bg-[length:200%_200%] ${isFocused ? 'opacity-100' : 'opacity-70'}`
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                        lineNumber: 319,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: `relative m-[2px] rounded-[1.4rem] bg-white dark:bg-gray-800 backdrop-blur-sm ${isDisabled ? 'opacity-90' : ''}`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("textarea", {
                                ref: inputRef,
                                value: input,
                                onChange: handleInput,
                                onKeyDown: handleKeyDown,
                                onFocus: ()=>setIsFocused(true),
                                onBlur: ()=>setIsFocused(false),
                                onPaste: handlePaste,
                                placeholder: connectionStatus && !connectionStatus.connected ? 'Server disconnected...' : isProcessing ? 'Agent TARS is thinking...' : 'Ask Agent TARS something... (Ctrl+Enter to send)',
                                disabled: isDisabled,
                                className: "w-full px-5 pt-4 pb-10 focus:outline-none resize-none min-h-[90px] max-h-[200px] bg-transparent text-sm leading-relaxed rounded-[1.4rem]",
                                rows: 2
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                lineNumber: 333,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "absolute left-3 bottom-2 flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                                        whileHover: {
                                            scale: 1.05
                                        },
                                        whileTap: {
                                            scale: 0.95
                                        },
                                        type: "button",
                                        onClick: handleFileUpload,
                                        disabled: isDisabled || isProcessing,
                                        className: `p-2 rounded-full transition-colors ${isDisabled || isProcessing ? 'text-gray-300 dark:text-gray-600 cursor-not-allowed' : 'text-gray-400 hover:text-accent-500 hover:bg-gray-50 dark:hover:bg-gray-700/30 dark:text-gray-400'}`,
                                        title: "Attach image (or paste directly)",
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiImage, {
                                            size: 18
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                            lineNumber: 368,
                                            columnNumber: 15
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                        lineNumber: 355,
                                        columnNumber: 13
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("input", {
                                        type: "file",
                                        ref: fileInputRef,
                                        onChange: handleFileChange,
                                        accept: "image/*",
                                        multiple: true,
                                        className: "hidden",
                                        disabled: isDisabled || isProcessing
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                        lineNumber: 370,
                                        columnNumber: 13
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                lineNumber: 354,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.AnimatePresence, {
                                mode: "wait",
                                children: connectionStatus && !connectionStatus.connected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                                    initial: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    animate: {
                                        opacity: 1,
                                        scale: 1
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    whileHover: {
                                        scale: 1.05
                                    },
                                    type: "button",
                                    onClick: onReconnect,
                                    className: "absolute right-3 bottom-2 p-2 rounded-full text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/30 dark:text-gray-400 transition-all duration-200",
                                    title: "Try to reconnect",
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiRefreshCw, {
                                        size: 20,
                                        className: connectionStatus.reconnecting ? 'animate-spin' : ''
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                        lineNumber: 395,
                                        columnNumber: 17
                                    }, undefined)
                                }, "reconnect", false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                    lineNumber: 383,
                                    columnNumber: 15
                                }, undefined) : isProcessing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                                    initial: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    animate: {
                                        opacity: 1,
                                        scale: 1
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    whileHover: {
                                        scale: 1.05
                                    },
                                    type: "button",
                                    onClick: handleAbort,
                                    disabled: isAborting,
                                    className: `absolute right-3 bottom-2 p-2 rounded-full ${isAborting ? 'text-gray-300 dark:text-gray-600 cursor-not-allowed' : 'text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/30 dark:text-gray-400'} transition-all duration-200`,
                                    title: "Abort current operation",
                                    children: isAborting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiLoader, {
                                        className: "animate-spin",
                                        size: 20
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                        lineNumber: 418,
                                        columnNumber: 31
                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiX, {
                                        size: 20
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                        lineNumber: 418,
                                        columnNumber: 81
                                    }, undefined)
                                }, "abort", false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                    lineNumber: 401,
                                    columnNumber: 15
                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                                    initial: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    animate: {
                                        opacity: 1,
                                        scale: 1
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    whileHover: {
                                        scale: 1.05
                                    },
                                    type: "submit",
                                    disabled: !input.trim() && uploadedImages.length === 0 || isDisabled,
                                    className: `absolute right-3 bottom-2 p-3 rounded-full ${!input.trim() && uploadedImages.length === 0 || isDisabled ? 'bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-indigo-500 to-purple-500 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 text-white shadow-sm'} transition-all duration-200`,
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiSend, {
                                        size: 18
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                        lineNumber: 436,
                                        columnNumber: 17
                                    }, undefined)
                                }, "send", false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                    lineNumber: 421,
                                    columnNumber: 15
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                lineNumber: 381,
                                columnNumber: 11
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                        lineNumber: 328,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                lineNumber: 313,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex justify-center mt-2 text-xs",
                children: connectionStatus && !connectionStatus.connected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.span, {
                    initial: {
                        opacity: 0.7
                    },
                    animate: {
                        opacity: 1
                    },
                    className: "text-red-500 dark:text-red-400 flex items-center font-medium",
                    children: connectionStatus.reconnecting ? 'Attempting to reconnect...' : 'Server disconnected. Click the button to reconnect.'
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                    lineNumber: 445,
                    columnNumber: 11
                }, undefined) : isProcessing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.span, {
                    initial: {
                        opacity: 0.7
                    },
                    whileHover: {
                        opacity: 1
                    },
                    className: "text-accent-500 dark:text-accent-400 flex items-center",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "typing-indicator mr-2",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {}, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                    lineNumber: 461,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {}, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                    lineNumber: 462,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {}, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                                    lineNumber: 463,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                            lineNumber: 460,
                            columnNumber: 13
                        }, undefined),
                        "Agent is processing your request..."
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                    lineNumber: 455,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.span, {
                    initial: {
                        opacity: 0.7
                    },
                    whileHover: {
                        opacity: 1
                    },
                    className: "text-gray-500 dark:text-gray-400 transition-opacity",
                    children: "Use Ctrl+Enter to quickly send \u2022 You can also paste images directly"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                    lineNumber: 468,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
                lineNumber: 443,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/MessageInput.tsx",
        lineNumber: 297,
        columnNumber: 5
    }, undefined);
};
_s(MessageInput, "kNA+WyjUikgLFwEdG69mTd2hPR8=", false, function() {
    return [
        react_router_dom__WEBPACK_IMPORTED_MODULE_6__.useLocation,
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        _common_hooks_usePlan__WEBPACK_IMPORTED_MODULE_3__.usePlan
    ];
});
_c = MessageInput;
var _c;
$RefreshReg$(_c, "MessageInput");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/chat/ResearchReportEntry.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ResearchReportEntry: () => (ResearchReportEntry)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var _common_utils_formatters__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/common/utils/formatters.ts");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();





/**
 * ResearchReportEntry - Displays a prominent entry point for accessing research reports
 *
 * Design principles:
 * - Visually distinct from regular messages
 * - Clear visual hierarchy with document icon
 * - Animated feedback for interaction
 * - Consistent styling with overall UI
 */ const ResearchReportEntry = (param)=>{
    let { title, timestamp, content } = param;
    _s();
    const { setActivePanelContent } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const handleOpenReport = ()=>{
        setActivePanelContent({
            type: 'research_report',
            source: content,
            title: title || 'Research Report',
            timestamp
        });
    };
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
        initial: {
            opacity: 0,
            y: 10
        },
        animate: {
            opacity: 1,
            y: 0
        },
        whileHover: {
            y: -2,
            boxShadow: '0 4px 12px rgba(0,0,0,0.05)'
        },
        whileTap: {
            scale: 0.98
        },
        onClick: handleOpenReport,
        className: "p-4 bg-white dark:bg-gray-800 rounded-xl border border-accent-100/40 dark:border-accent-700/20 cursor-pointer group",
        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "flex items-center",
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "w-10 h-10 rounded-xl bg-accent-50 dark:bg-accent-900/20 flex items-center justify-center mr-3 border border-accent-100/40 dark:border-accent-800/30 text-accent-500 dark:text-accent-400",
                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiBookOpen, {
                        size: 20
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                        lineNumber: 49,
                        columnNumber: 11
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                    lineNumber: 48,
                    columnNumber: 9
                }, undefined),
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "flex-1 min-w-0",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "font-medium text-gray-800 dark:text-gray-200 mb-1 flex items-center",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                className: "truncate",
                                children: title
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                                lineNumber: 54,
                                columnNumber: 13
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                            lineNumber: 53,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-center text-xs text-gray-500 dark:text-gray-400",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiClock, {
                                    className: "mr-1.5",
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                                    lineNumber: 58,
                                    columnNumber: 13
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                    className: "mr-2",
                                    children: (0,_common_utils_formatters__WEBPACK_IMPORTED_MODULE_3__.formatTimestamp)(timestamp)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                                    lineNumber: 59,
                                    columnNumber: 13
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                    className: "px-1.5 py-0.5 bg-accent-50/70 dark:bg-accent-900/20 text-accent-600 dark:text-accent-400 rounded-full border border-accent-100/30 dark:border-accent-800/20",
                                    children: "Research Report"
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                                    lineNumber: 60,
                                    columnNumber: 13
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                            lineNumber: 57,
                            columnNumber: 11
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                    lineNumber: 52,
                    columnNumber: 9
                }, undefined),
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                    className: "ml-2 w-8 h-8 rounded-full flex items-center justify-center bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-500 group-hover:bg-accent-50 dark:group-hover:bg-accent-900/20 group-hover:text-accent-500 dark:group-hover:text-accent-400 transition-all duration-200 border border-gray-100/40 dark:border-gray-700/30",
                    animate: {
                        x: [
                            0,
                            3,
                            0
                        ]
                    },
                    transition: {
                        duration: 1.5,
                        repeat: Infinity,
                        repeatType: 'loop',
                        ease: 'easeInOut',
                        repeatDelay: 2
                    },
                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiFileText, {
                        size: 16
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                        lineNumber: 77,
                        columnNumber: 11
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
                    lineNumber: 66,
                    columnNumber: 9
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
            lineNumber: 47,
            columnNumber: 7
        }, undefined)
    }, void 0, false, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/ResearchReportEntry.tsx",
        lineNumber: 39,
        columnNumber: 5
    }, undefined);
};
_s(ResearchReportEntry, "jSpNGCOA/MKjNH0nXeyyaSAVp6E=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession
    ];
});
_c = ResearchReportEntry;
var _c;
$RefreshReg$(_c, "ResearchReportEntry");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/navbar/Navbar.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  Navbar: () => (Navbar)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _standalone_share__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/standalone/share/index.ts");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var react_icons_go__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/go/index.esm.js");
/* ESM import */var _common_hooks_useLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/common/hooks/useLayout.ts");
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var _common_hooks_useReplayMode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/common/hooks/useReplayMode.tsx");
/* ESM import */var _Navbar_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/standalone/navbar/Navbar.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();









const Navbar = ()=>{
    _s();
    const { isSidebarCollapsed, toggleSidebar } = (0,_common_hooks_useLayout__WEBPACK_IMPORTED_MODULE_3__.useLayout)();
    const { activeSessionId, isProcessing, modelInfo } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_4__.useSession)();
    const isReplayMode = (0,_common_hooks_useReplayMode__WEBPACK_IMPORTED_MODULE_5__.useReplayMode)();
    const [isDarkMode, setIsDarkMode] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(document.documentElement.classList.contains('dark'));
    // Toggle dark mode
    const toggleDarkMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{
        const newMode = !isDarkMode;
        setIsDarkMode(newMode);
        document.documentElement.classList.toggle('dark', newMode);
        // Save preference to localStorage
        localStorage.setItem('agent-tars-theme', newMode ? 'dark' : 'light');
    }, [
        isDarkMode
    ]);
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "h-12 border-b border-gray-300/40 dark:border-gray-600/20 backdrop-blur-sm flex items-center px-3",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "flex space-x-1.5 mr-3",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "traffic-light traffic-light-red"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 36,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "traffic-light traffic-light-yellow"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 37,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "traffic-light traffic-light-green"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 38,
                            columnNumber: 11
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                    lineNumber: 35,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, undefined),
            !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: `${isSidebarCollapsed ? 'ml-0' : 'ml-[245px]'}`,
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                    whileHover: {
                        scale: 1.1
                    },
                    whileTap: {
                        scale: 0.95
                    },
                    onClick: toggleSidebar,
                    className: "text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-1.5 hover:bg-gray-100/40 dark:hover:bg-gray-800/40 rounded-full transition-colors",
                    title: isSidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar',
                    children: isSidebarCollapsed ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_go__WEBPACK_IMPORTED_MODULE_8__.GoSidebarCollapse, {
                        size: 20
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                        lineNumber: 52,
                        columnNumber: 35
                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_go__WEBPACK_IMPORTED_MODULE_8__.GoSidebarExpand, {
                        size: 20
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                        lineNumber: 52,
                        columnNumber: 69
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                    lineNumber: 45,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                lineNumber: 44,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 flex items-center justify-center",
                children: modelInfo.model && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "px-3 py-1 rounded-full bg-gray-100/80 dark:bg-gray-700/80 text-xs text-gray-700 dark:text-gray-300 border border-gray-200/40 dark:border-gray-700/30 flex items-center",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "w-4 h-4 rounded-full bg-purple-400 dark:bg-purple-500 mr-2 flex-shrink-0"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 61,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "font-mono",
                            children: modelInfo.model
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 62,
                            columnNumber: 13
                        }, undefined),
                        modelInfo.provider && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "ml-2 px-1.5 py-0.5 rounded-md bg-gray-200/80 dark:bg-gray-600/80 text-gray-600 dark:text-gray-400 text-[10px]",
                            children: modelInfo.provider
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 64,
                            columnNumber: 15
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                    lineNumber: 60,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                lineNumber: 58,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center space-x-2",
                children: [
                    activeSessionId && !isProcessing && !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_standalone_share__WEBPACK_IMPORTED_MODULE_2__.ShareButton, {
                        variant: "navbar"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                        lineNumber: 74,
                        columnNumber: 63
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                        whileHover: {
                            scale: 1.1
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: toggleDarkMode,
                        className: "w-8 h-8 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100/40 dark:hover:bg-gray-800/40 transition-colors",
                        title: isDarkMode ? 'Light Mode' : 'Dark Mode',
                        children: isDarkMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiSun, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 84,
                            columnNumber: 25
                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiMoon, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                            lineNumber: 84,
                            columnNumber: 47
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                        lineNumber: 77,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
                lineNumber: 73,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/navbar/Navbar.tsx",
        lineNumber: 31,
        columnNumber: 5
    }, undefined);
};
_s(Navbar, "QjtPEogBrJvChI0PFFnsbHOzGiE=", false, function() {
    return [
        _common_hooks_useLayout__WEBPACK_IMPORTED_MODULE_3__.useLayout,
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_4__.useSession,
        _common_hooks_useReplayMode__WEBPACK_IMPORTED_MODULE_5__.useReplayMode
    ];
});
_c = Navbar;
var _c;
$RefreshReg$(_c, "Navbar");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/replay/ReplayControls.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ReplayControls: () => (ReplayControls)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useReplay.ts");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();




/**
 * ReplayControls - Provides playback controls for the replay functionality
 *
 * Design principles:
 * - Monochromatic black/gray design that matches the UI
 * - Minimalist controls with subtle hover states
 * - No box shadows or excessive decorations
 */ const ReplayControls = ()=>{
    _s();
    const { replayState, startReplay, pauseReplay, jumpToResult, exitReplay, setPlaybackSpeed, cancelAutoPlay, resetReplay } = (0,_common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_2__.useReplay)();
    const { isPaused, playbackSpeed, autoPlayCountdown, currentEventIndex, events } = replayState;
    // 确定按钮状态 - 添加倒计时判断
    const isCountingDown = autoPlayCountdown !== null;
    const showPlayButton = isPaused || isCountingDown;
    // 检查回放是否已完成（当前事件索引已到达最后）
    const isReplayCompleted = events.length > 0 && currentEventIndex === events.length - 1 && isPaused;
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.div, {
        initial: {
            opacity: 0,
            y: 10
        },
        animate: {
            opacity: 1,
            y: 0
        },
        exit: {
            opacity: 0,
            y: 10
        },
        transition: {
            duration: 0.3
        },
        className: "flex items-center justify-between gap-2 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-800 border border-gray-200/50 dark:border-gray-700/30",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.button, {
                whileHover: {
                    scale: 1.05
                },
                whileTap: {
                    scale: 0.95
                },
                onClick: exitReplay,
                className: "p-1.5 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200/70 dark:hover:bg-gray-700/50 transition-colors",
                title: "Exit replay",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiX, {
                    size: 16
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                    lineNumber: 52,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                lineNumber: 45,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center gap-3",
                children: [
                    isReplayCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.button, {
                        whileHover: {
                            scale: 1.05
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: ()=>resetReplay(),
                        className: "w-10 h-10 flex items-center justify-center rounded-full bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800",
                        title: "Replay from beginning",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiRefreshCw, {
                            size: 18
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                            lineNumber: 66,
                            columnNumber: 13
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                        lineNumber: 59,
                        columnNumber: 11
                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.button, {
                        whileHover: {
                            scale: 1.05
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: ()=>{
                            if (isCountingDown) {
                                // 如果在倒计时，取消倒计时并开始播放
                                cancelAutoPlay();
                                startReplay();
                            } else if (isPaused) {
                                startReplay();
                            } else {
                                pauseReplay();
                            }
                        },
                        className: "w-10 h-10 flex items-center justify-center rounded-full bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800",
                        children: showPlayButton ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPlay, {
                            size: 18
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                            lineNumber: 85,
                            columnNumber: 31
                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPause, {
                            size: 18
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                            lineNumber: 85,
                            columnNumber: 54
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                        lineNumber: 69,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.button, {
                        whileHover: {
                            scale: 1.05
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: ()=>{
                            // 如果在倒计时，先取消倒计时
                            if (isCountingDown) {
                                cancelAutoPlay();
                            }
                            jumpToResult();
                        },
                        className: "flex items-center justify-center w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600",
                        title: "Skip to end",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSkipForward, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                            lineNumber: 103,
                            columnNumber: 11
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                        lineNumber: 90,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                lineNumber: 56,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center gap-1",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                        className: "text-xs text-gray-500 dark:text-gray-400 mr-1",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiClock, {
                                size: 12,
                                className: "inline mr-1"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                                lineNumber: 110,
                                columnNumber: 11
                            }, undefined),
                            "Speed"
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                        lineNumber: 109,
                        columnNumber: 9
                    }, undefined),
                    [
                        1,
                        2,
                        3
                    ].map((speed)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.button, {
                            whileHover: {
                                scale: 1.05
                            },
                            whileTap: {
                                scale: 0.95
                            },
                            onClick: ()=>setPlaybackSpeed(speed),
                            className: `w-6 h-6 flex items-center justify-center rounded-full text-xs font-medium ${playbackSpeed === speed ? 'bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border border-gray-300/50 dark:border-gray-600/30' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-200/70 dark:hover:bg-gray-700/50'}`,
                            children: [
                                speed,
                                "x"
                            ]
                        }, speed, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                            lineNumber: 114,
                            columnNumber: 11
                        }, undefined))
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
                lineNumber: 108,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/replay/ReplayControls.tsx",
        lineNumber: 37,
        columnNumber: 5
    }, undefined);
};
_s(ReplayControls, "icpbK+USYhmAjQCCnAwdv1AjxPg=", false, function() {
    return [
        _common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_2__.useReplay
    ];
});
_c = ReplayControls;
var _c;
$RefreshReg$(_c, "ReplayControls");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/sidebar/ChatSession.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ChatSession: () => (ChatSession)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("../node_modules/.pnpm/react-router@7.6.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router/dist/development/chunk-DQRVZFIR.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var _SessionItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/standalone/sidebar/SessionItem.tsx");
/* ESM import */var _sdk_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/sdk/dialog/index.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();







/**
 * ChatSession Component - Collapsible sidebar for session management
 *
 * Design principles:
 * - Clean, consistent visual hierarchy
 * - Collapsible interface to maximize workspace
 * - Time-based grouping for easy navigation
 * - Offline mode support with clear visual feedback
 */ const ChatSession = (param)=>{
    let { isCollapsed } = param;
    _s();
    const { sessions, activeSessionId, setActiveSession, updateSessionMetadata, deleteSession, loadSessions, connectionStatus, checkServerStatus } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useNavigate)();
    const [editingSessionId, setEditingSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [editedName, setEditedName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isRefreshing, setIsRefreshing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [loadingSessionId, setLoadingSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [collapsedSections, setCollapsedSections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const [deleteConfirmOpen, setDeleteConfirmOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [sessionToDelete, setSessionToDelete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    // Toggle section collapse state
    const toggleSectionCollapse = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((sectionKey)=>{
        setCollapsedSections((prev)=>({
                ...prev,
                [sectionKey]: !prev[sectionKey]
            }));
    }, []);
    // Group sessions by time period
    const groupedSessions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const yesterday = new Date(today);
        yesterday.setDate(yesterday.getDate() - 1);
        const lastWeek = new Date(today);
        lastWeek.setDate(lastWeek.getDate() - 7);
        // Initialize groups
        const groups = [
            {
                label: 'Today',
                sessions: [],
                key: 'today'
            },
            {
                label: 'Yesterday',
                sessions: [],
                key: 'yesterday'
            },
            {
                label: 'This Week',
                sessions: [],
                key: 'thisWeek'
            },
            {
                label: 'Earlier',
                sessions: [],
                key: 'earlier'
            }
        ];
        // Categorize sessions
        sessions.forEach((session)=>{
            const sessionDate = new Date(session.updatedAt || session.createdAt);
            if (sessionDate >= today) {
                groups[0].sessions.push(session);
            } else if (sessionDate >= yesterday) {
                groups[1].sessions.push(session);
            } else if (sessionDate >= lastWeek) {
                groups[2].sessions.push(session);
            } else {
                groups[3].sessions.push(session);
            }
        });
        // Only return non-empty groups
        return groups.filter((group)=>group.sessions.length > 0);
    }, [
        sessions
    ]);
    // Event handlers
    const handleEditSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((sessionId, currentName)=>{
        setEditingSessionId(sessionId);
        setEditedName(currentName || '');
    }, []);
    const handleSaveEdit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (sessionId)=>{
        try {
            await updateSessionMetadata({
                sessionId,
                updates: {
                    name: editedName
                }
            });
            setEditingSessionId(null);
        } catch (error) {
            console.error('Failed to update session name:', error);
        }
    }, [
        updateSessionMetadata,
        editedName
    ]);
    const handleDeleteSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (sessionId, e)=>{
        e.stopPropagation();
        setSessionToDelete(sessionId);
        setDeleteConfirmOpen(true);
    }, []);
    const confirmDeleteSession = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{
        if (!sessionToDelete) return;
        try {
            // 在删除之前找到下一个可用的会话
            if (sessionToDelete === activeSessionId && sessions.length > 1) {
                // 找到不是要删除的会话的最近会话
                const nextSession = sessions.find((s)=>s.id !== sessionToDelete);
                if (nextSession) {
                    // 先导航到新会话
                    navigate(`/${nextSession.id}`);
                    // 给导航一点时间完成
                    await new Promise((resolve)=>setTimeout(resolve, 50));
                }
            }
            // 然后删除会话
            await deleteSession(sessionToDelete);
        } catch (error) {
            console.error('Failed to delete session:', error);
        } finally{
            setDeleteConfirmOpen(false);
            setSessionToDelete(null);
        }
    }, [
        deleteSession,
        sessionToDelete,
        sessions,
        activeSessionId,
        navigate
    ]);
    const refreshSessions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{
        setIsRefreshing(true);
        try {
            const isConnected = await checkServerStatus();
            if (isConnected) {
                await loadSessions();
            }
        } catch (error) {
            console.error('Failed to refresh sessions:', error);
        } finally{
            setIsRefreshing(false);
        }
    }, [
        checkServerStatus,
        loadSessions
    ]);
    const handleSessionClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (sessionId)=>{
        if (loadingSessionId || !connectionStatus.connected) return;
        try {
            setLoadingSessionId(sessionId);
            navigate(`/${sessionId}`);
        } catch (error) {
            console.error('Failed to switch session:', error);
            checkServerStatus();
        } finally{
            setLoadingSessionId(null);
        }
    }, [
        loadingSessionId,
        connectionStatus.connected,
        navigate,
        checkServerStatus
    ]);
    // If collapsed, render minimal sidebar
    if (isCollapsed) {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "flex flex-col h-full bg-transparent w-0 border-r border-gray-100/40 dark:border-gray-700/20"
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
            lineNumber: 175,
            columnNumber: 7
        }, undefined);
    }
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "w-64 flex flex-col h-full duration-200 backdrop-blur-sm border-r border-gray-100/40 dark:border-gray-700/20",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "p-4 flex items-center justify-between border-b border-gray-100/40 dark:border-gray-700/20",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "text-sm font-medium text-gray-700 dark:text-gray-300",
                        children: "Recent Tasks"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                        lineNumber: 185,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: `h-2 w-2 rounded-full ${connectionStatus.connected ? 'bg-green-500 animate-pulse' : connectionStatus.reconnecting ? 'bg-yellow-500 animate-ping' : 'bg-gray-400'}`,
                                title: connectionStatus.connected ? 'Connected to server' : connectionStatus.reconnecting ? 'Reconnecting...' : 'Disconnected from server'
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                lineNumber: 188,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.button, {
                                whileHover: {
                                    rotate: 180
                                },
                                transition: {
                                    duration: 0.3
                                },
                                onClick: refreshSessions,
                                disabled: isRefreshing || !connectionStatus.connected,
                                className: `text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100/40 dark:hover:bg-gray-800/40 text-xs transition-all ${!connectionStatus.connected && 'opacity-50 cursor-not-allowed'}`,
                                title: connectionStatus.connected ? 'Refresh tasks' : 'Server disconnected',
                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiRefreshCw, {
                                    className: isRefreshing ? 'animate-spin' : '',
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 215,
                                    columnNumber: 13
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                lineNumber: 205,
                                columnNumber: 11
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                        lineNumber: 186,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 184,
                columnNumber: 7
            }, undefined),
            !connectionStatus.connected && sessions.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "px-3 py-2",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "p-3 rounded-xl bg-red-50/30 dark:bg-red-900/15 text-gray-700 dark:text-gray-300 text-sm border border-red-200/50 dark:border-red-800/30 shadow-sm",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-center",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiWifiOff, {
                                    className: "mr-2 flex-shrink-0 text-red-500 dark:text-red-400"
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 225,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "font-medium text-red-700 dark:text-red-400",
                                    children: "Offline Mode"
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 226,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 224,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                            className: "mt-1 text-xs",
                            children: "You can view tasks but can't create new ones until reconnected."
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 228,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.button, {
                            whileHover: {
                                scale: 1.02
                            },
                            whileTap: {
                                scale: 0.98
                            },
                            onClick: ()=>checkServerStatus(),
                            className: "w-full mt-2 py-1.5 px-3 bg-red-100/70 dark:bg-red-800/30 hover:bg-red-200/70 dark:hover:bg-red-700/40 rounded-xl text-xs font-medium transition-colors flex items-center justify-center border border-red-200/30 dark:border-red-700/30 text-red-700 dark:text-red-300",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiRefreshCw, {
                                    className: `mr-1.5 ${connectionStatus.reconnecting ? 'animate-spin' : ''}`,
                                    size: 12
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 237,
                                    columnNumber: 15
                                }, undefined),
                                connectionStatus.reconnecting ? 'Reconnecting...' : 'Reconnect to Server'
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 231,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                    lineNumber: 223,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 222,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 overflow-y-auto sidebar-scrollbar p-3",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.AnimatePresence, {
                    children: groupedSessions.map((group)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "mb-4",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.button, {
                                    onClick: ()=>toggleSectionCollapse(group.key),
                                    className: "w-full flex items-center justify-between px-1 py-2 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider hover:text-gray-700 dark:hover:text-gray-300",
                                    whileHover: {
                                        x: 2
                                    },
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                            children: group.label
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                            lineNumber: 258,
                                            columnNumber: 17
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {
                                            animate: {
                                                rotate: collapsedSections[group.key] ? 0 : 180
                                            },
                                            transition: {
                                                duration: 0.2
                                            },
                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiChevronUp, {
                                                size: 14
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                                lineNumber: 263,
                                                columnNumber: 19
                                            }, undefined)
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                            lineNumber: 259,
                                            columnNumber: 17
                                        }, undefined)
                                    ]
                                }, void 0, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 253,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.AnimatePresence, {
                                    children: !collapsedSections[group.key] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {
                                        initial: {
                                            height: 0,
                                            opacity: 0
                                        },
                                        animate: {
                                            height: 'auto',
                                            opacity: 1
                                        },
                                        exit: {
                                            height: 0,
                                            opacity: 0
                                        },
                                        transition: {
                                            duration: 0.3
                                        },
                                        className: "overflow-hidden",
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "space-y-1",
                                            children: group.sessions.map((session)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SessionItem__WEBPACK_IMPORTED_MODULE_3__["default"], {
                                                    session: session,
                                                    isActive: activeSessionId === session.id,
                                                    isLoading: loadingSessionId === session.id,
                                                    isConnected: connectionStatus.connected,
                                                    onSessionClick: handleSessionClick,
                                                    onEditSession: handleEditSession,
                                                    onDeleteSession: handleDeleteSession,
                                                    onSaveEdit: handleSaveEdit,
                                                    editingSessionId: editingSessionId,
                                                    editedName: editedName,
                                                    setEditedName: setEditedName
                                                }, session.id, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                                    lineNumber: 279,
                                                    columnNumber: 25
                                                }, undefined))
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                            lineNumber: 277,
                                            columnNumber: 21
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                        lineNumber: 270,
                                        columnNumber: 19
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                                    lineNumber: 268,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, group.key, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                            lineNumber: 251,
                            columnNumber: 13
                        }, undefined))
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                    lineNumber: 249,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 248,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_sdk_dialog__WEBPACK_IMPORTED_MODULE_4__.ConfirmDialog, {
                isOpen: deleteConfirmOpen,
                onClose: ()=>setDeleteConfirmOpen(false),
                onConfirm: confirmDeleteSession,
                title: "Delete Task",
                message: "Are you sure you want to delete this task? This action cannot be undone.",
                confirmText: "Delete",
                cancelText: "Cancel",
                type: "danger"
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
                lineNumber: 304,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/sidebar/ChatSession.tsx",
        lineNumber: 182,
        columnNumber: 5
    }, undefined);
};
_s(ChatSession, "xDqVdtVi56WtRz57n0T53DV03mY=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        react_router_dom__WEBPACK_IMPORTED_MODULE_5__.useNavigate
    ];
});
_c = ChatSession;
var _c;
$RefreshReg$(_c, "ChatSession");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/workspace/WorkspacePanel.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  WorkspacePanel: () => (WorkspacePanel)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var _WorkspaceContent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/standalone/workspace/WorkspaceContent.tsx");
/* ESM import */var _WorkspaceDetail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/standalone/workspace/WorkspaceDetail.tsx");
/* ESM import */var _PlanView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/standalone/workspace/PlanView.tsx");
/* ESM import */var _common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/common/hooks/useReplay.ts");
/* ESM import */var _standalone_replay_TimelineSlider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/standalone/replay/TimelineSlider.tsx");
/* ESM import */var _standalone_replay_ReplayControls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/standalone/replay/ReplayControls.tsx");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var _Workspace_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/standalone/workspace/Workspace.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();










/**
 * WorkspacePanel Component - Container for workspace content
 */ const WorkspacePanel = ()=>{
    _s();
    const { activeSessionId, activePanelContent, setActivePanelContent } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const { replayState } = (0,_common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__.useReplay)();
    // 检查是否在查看计划，同时确保只有在 Pro 模式下才允许查看计划
    const isViewingPlan = (activePanelContent === null || activePanelContent === void 0 ? void 0 : activePanelContent.type) === 'plan';
    const isReplayActive = replayState.isActive;
    if (!activeSessionId) {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "flex items-center justify-center h-full",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "text-center p-8 max-w-md",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {
                        initial: {
                            opacity: 0,
                            y: 10
                        },
                        animate: {
                            opacity: 1,
                            y: 0
                        },
                        transition: {
                            duration: 0.5
                        },
                        className: "w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm border border-gray-200/50 dark:border-gray-700/30",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("svg", {
                            className: "w-10 h-10 text-gray-400 dark:text-gray-500",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            stroke: "currentColor",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 1.5,
                                d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                                lineNumber: 39,
                                columnNumber: 15
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                            lineNumber: 33,
                            columnNumber: 13
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                        lineNumber: 27,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.h3, {
                        initial: {
                            opacity: 0,
                            y: 10
                        },
                        animate: {
                            opacity: 1,
                            y: 0
                        },
                        transition: {
                            duration: 0.5,
                            delay: 0.1
                        },
                        className: "text-xl font-medium mb-3 text-gray-800 dark:text-gray-200",
                        children: "No Active Session"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                        lineNumber: 47,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.p, {
                        initial: {
                            opacity: 0,
                            y: 10
                        },
                        animate: {
                            opacity: 1,
                            y: 0
                        },
                        transition: {
                            duration: 0.5,
                            delay: 0.2
                        },
                        className: "text-gray-600 dark:text-gray-400",
                        children: "Create or select a session to view detailed information and tool results in this workspace."
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                        lineNumber: 55,
                        columnNumber: 11
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                lineNumber: 26,
                columnNumber: 9
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
            lineNumber: 25,
            columnNumber: 7
        }, undefined);
    }
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "flex flex-col h-full bg-gray-50/80 dark:bg-gray-900/30",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 overflow-hidden",
                children: isViewingPlan ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PlanView__WEBPACK_IMPORTED_MODULE_5__.PlanView, {
                    onBack: ()=>setActivePanelContent(null)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                    lineNumber: 74,
                    columnNumber: 11
                }, undefined) : activePanelContent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WorkspaceDetail__WEBPACK_IMPORTED_MODULE_4__.WorkspaceDetail, {}, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                    lineNumber: 76,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WorkspaceContent__WEBPACK_IMPORTED_MODULE_3__.WorkspaceContent, {}, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                    lineNumber: 78,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                lineNumber: 72,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {
                children: isReplayActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {
                    initial: {
                        opacity: 0,
                        y: 20
                    },
                    animate: {
                        opacity: 1,
                        y: 0
                    },
                    exit: {
                        opacity: 0,
                        y: 20
                    },
                    transition: {
                        duration: 0.4,
                        ease: [
                            0.19,
                            1,
                            0.22,
                            1
                        ]
                    },
                    className: "p-5 border-t border-gray-100/40 dark:border-gray-700/20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_standalone_replay_TimelineSlider__WEBPACK_IMPORTED_MODULE_7__.TimelineSlider, {}, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                            lineNumber: 93,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex justify-center mt-4",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_standalone_replay_ReplayControls__WEBPACK_IMPORTED_MODULE_8__.ReplayControls, {}, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                                lineNumber: 97,
                                columnNumber: 15
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                            lineNumber: 96,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                    lineNumber: 85,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
                lineNumber: 83,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/WorkspacePanel.tsx",
        lineNumber: 70,
        columnNumber: 5
    }, undefined);
};
_s(WorkspacePanel, "0ODNFwXJLhHIY5s/sT8O8VjJN00=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        _common_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__.useReplay
    ];
});
_c = WorkspacePanel;
var _c;
$RefreshReg$(_c, "WorkspacePanel");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/standalone/workspace/renderers/BrowserControlRenderer.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  BrowserControlRenderer: () => (BrowserControlRenderer)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/common/hooks/useSession.ts");
/* ESM import */var _BrowserShell__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/standalone/workspace/renderers/BrowserShell.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();





/**
 * Specialized renderer for browser_vision_control tool results
 *
 * This renderer displays:
 * 1. The screenshot from the environment input
 * 2. A mouse cursor overlay showing the action point
 * 3. The thought process of the agent
 * 4. The step being performed
 * 5. The specific action taken
 *
 * Design improvements:
 * - Shows screenshot at the top for better visual context
 * - Displays enhanced mouse cursor with artistic animations
 * - Uses browser shell wrapper for consistent styling
 * - Applies smooth transitions for mouse movements
 * - Features visually engaging click animations
 */ const BrowserControlRenderer = (param)=>{
    let { part, onAction } = param;
    _s();
    const { activeSessionId, messages, toolResults, replayState } = (0,_common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const [relatedImage, setRelatedImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [imageSize, setImageSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [mousePosition, setMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [previousMousePosition, setPreviousMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    // Extract the visual operation details from the part
    const { thought, step, action, status, toolCallId, environmentImage } = part;
    // Get coordinates directly from tool result instead of parsing action string
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (!activeSessionId || !toolCallId) return;
        // Find the matching tool result for this tool call
        const sessionResults = toolResults[activeSessionId] || [];
        const matchingResult = sessionResults.find((result)=>result.toolCallId === toolCallId);
        if (matchingResult && matchingResult.content && matchingResult.content.result) {
            const { startX, startY } = matchingResult.content.result;
            // Save previous position before updating
            if (mousePosition) {
                setPreviousMousePosition(mousePosition);
            }
            // Set new position if coordinates are valid
            if (typeof startX === 'number' && typeof startY === 'number') {
                setMousePosition({
                    x: startX,
                    y: startY
                });
            }
        }
    }, [
        activeSessionId,
        toolCallId,
        toolResults
    ]);
    // 如果提供了环境图像，直接使用
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (environmentImage) {
            setRelatedImage(environmentImage);
        }
    }, [
        environmentImage
    ]);
    // Find the most recent environment input (screenshot) before this operation
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (!activeSessionId) return;
        const sessionMessages = messages[activeSessionId] || [];
        if (!toolCallId) return;
        // 获取当前工具调用在消息中的索引
        const currentToolCallIndex = sessionMessages.findIndex((msg)=>{
            var _msg_toolCalls;
            return (_msg_toolCalls = msg.toolCalls) === null || _msg_toolCalls === void 0 ? void 0 : _msg_toolCalls.some((tc)=>tc.id === toolCallId);
        });
        if (currentToolCallIndex === -1) return;
        // 查找距离当前工具调用最近的环境输入
        let foundImage = false;
        // 向前搜索环境输入，找到最近的截图
        for(let i = currentToolCallIndex; i >= 0; i--){
            const msg = sessionMessages[i];
            if (msg.role === 'environment' && Array.isArray(msg.content)) {
                const imgContent = msg.content.find((c)=>typeof c === 'object' && 'type' in c && c.type === 'image_url');
                if (imgContent && 'image_url' in imgContent && imgContent.image_url.url) {
                    setRelatedImage(imgContent.image_url.url);
                    foundImage = true;
                    break;
                }
            }
        }
        // 如果在当前工具调用之前没有找到图片，则搜索所有环境消息作为回退
        if (!foundImage) {
            console.warn(`[BrowserControlRenderer] Could not find preceding screenshot for toolCallId: ${toolCallId}. Falling back to search all environment messages.`);
            const envMessages = sessionMessages.filter((msg)=>msg.role === 'environment' && Array.isArray(msg.content));
            // 从后往前找，找到最新的截图
            for(let i = envMessages.length - 1; i >= 0; i--){
                const msg = envMessages[i];
                const imgContent = msg.content.find((c)=>typeof c === 'object' && 'type' in c && c.type === 'image_url');
                if (imgContent && 'image_url' in imgContent && imgContent.image_url.url) {
                    setRelatedImage(imgContent.image_url.url);
                    break; // 找到最新的就停止
                }
            }
        }
    }, [
        activeSessionId,
        messages,
        toolCallId
    ]);
    // Handler to get image dimensions when loaded
    const handleImageLoad = ()=>{
        if (imageRef.current) {
            setImageSize({
                width: imageRef.current.naturalWidth,
                height: imageRef.current.naturalHeight
            });
        }
    };
    // If no valid data, show a placeholder
    if (!thought && !step && !action) {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "text-gray-500 italic",
            children: "Browser control details unavailable"
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
            lineNumber: 150,
            columnNumber: 12
        }, undefined);
    }
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "space-y-4",
        children: [
            relatedImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                initial: {
                    opacity: 0,
                    y: 10
                },
                animate: {
                    opacity: 1,
                    y: 0
                },
                transition: {
                    duration: 0.3
                },
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BrowserShell__WEBPACK_IMPORTED_MODULE_3__.BrowserShell, {
                    className: "mb-4",
                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "relative",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("img", {
                                ref: imageRef,
                                src: relatedImage,
                                alt: "Browser Screenshot",
                                className: "w-full h-auto object-contain",
                                onLoad: handleImageLoad
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 166,
                                columnNumber: 15
                            }, undefined),
                            mousePosition && imageSize && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                                className: "absolute pointer-events-none",
                                initial: previousMousePosition ? {
                                    left: `${previousMousePosition.x / imageSize.width * 100 * window.devicePixelRatio}%`,
                                    top: `${previousMousePosition.y / imageSize.height * 100 * window.devicePixelRatio}%`
                                } : {
                                    left: `${mousePosition.x / imageSize.width * 100 * window.devicePixelRatio}%`,
                                    top: `${mousePosition.y / imageSize.height * 100 * window.devicePixelRatio}%`
                                },
                                animate: {
                                    left: `${mousePosition.x / imageSize.width * 100 * window.devicePixelRatio}%`,
                                    top: `${mousePosition.y / imageSize.height * 100 * window.devicePixelRatio}%`
                                },
                                transition: {
                                    duration: 0.5,
                                    ease: [
                                        0.16,
                                        1,
                                        0.3,
                                        1
                                    ]
                                },
                                style: {
                                    zIndex: 10
                                },
                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("svg", {
                                            width: "36",
                                            height: "36",
                                            viewBox: "0 0 24 24",
                                            fill: "none",
                                            xmlns: "http://www.w3.org/2000/svg",
                                            style: {
                                                filter: 'drop-shadow(0px 2px 4px rgba(0,0,0,0.3))',
                                                transform: 'translate(0px, 2px)'
                                            },
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("defs", {
                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("linearGradient", {
                                                        id: "cursorGradient",
                                                        x1: "0%",
                                                        y1: "0%",
                                                        x2: "100%",
                                                        y2: "100%",
                                                        children: [
                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("stop", {
                                                                offset: "0%",
                                                                stopColor: "white"
                                                            }, void 0, false, {
                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                                lineNumber: 214,
                                                                columnNumber: 27
                                                            }, undefined),
                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("stop", {
                                                                offset: "100%",
                                                                stopColor: "#f5f5f5"
                                                            }, void 0, false, {
                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                                lineNumber: 215,
                                                                columnNumber: 27
                                                            }, undefined)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                        lineNumber: 213,
                                                        columnNumber: 25
                                                    }, undefined)
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                    lineNumber: 212,
                                                    columnNumber: 23
                                                }, undefined),
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("path", {
                                                    d: "M5 3L19 12L12 13L9 20L5 3Z",
                                                    fill: "url(#cursorGradient)",
                                                    stroke: "#000000",
                                                    strokeWidth: "1.5",
                                                    strokeLinejoin: "round"
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                    lineNumber: 218,
                                                    columnNumber: 23
                                                }, undefined)
                                            ]
                                        }, void 0, true, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                            lineNumber: 200,
                                            columnNumber: 21
                                        }, undefined),
                                        action && action.includes('click') && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                                                    className: "absolute rounded-full",
                                                    initial: {
                                                        opacity: 0.8,
                                                        scale: 0
                                                    },
                                                    animate: {
                                                        opacity: 0,
                                                        scale: 2.5
                                                    },
                                                    transition: {
                                                        duration: 1.5,
                                                        ease: 'easeOut',
                                                        repeat: Infinity
                                                    },
                                                    style: {
                                                        top: '-8px',
                                                        left: '-8px',
                                                        width: '24px',
                                                        height: '24px',
                                                        background: 'radial-gradient(circle, rgba(99,102,241,0.6) 0%, rgba(99,102,241,0) 70%)',
                                                        border: '1px solid rgba(99,102,241,0.3)'
                                                    }
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                    lineNumber: 231,
                                                    columnNumber: 25
                                                }, undefined),
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                                                    className: "absolute rounded-full",
                                                    initial: {
                                                        opacity: 0.9,
                                                        scale: 0
                                                    },
                                                    animate: {
                                                        opacity: 0,
                                                        scale: 2
                                                    },
                                                    transition: {
                                                        duration: 1.2,
                                                        ease: 'easeOut',
                                                        delay: 0.2,
                                                        repeat: Infinity
                                                    },
                                                    style: {
                                                        top: '-6px',
                                                        left: '-6px',
                                                        width: '20px',
                                                        height: '20px',
                                                        background: 'radial-gradient(circle, rgba(99,102,241,0.8) 0%, rgba(99,102,241,0) 70%)',
                                                        border: '1px solid rgba(99,102,241,0.5)'
                                                    }
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                    lineNumber: 250,
                                                    columnNumber: 25
                                                }, undefined),
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
                                                    className: "absolute rounded-full bg-white",
                                                    initial: {
                                                        opacity: 1,
                                                        scale: 0.5
                                                    },
                                                    animate: {
                                                        opacity: 0.8,
                                                        scale: 1
                                                    },
                                                    transition: {
                                                        duration: 0.7,
                                                        repeat: Infinity,
                                                        repeatType: 'reverse'
                                                    },
                                                    style: {
                                                        top: '2px',
                                                        left: '2px',
                                                        width: '4px',
                                                        height: '4px',
                                                        boxShadow: '0 0 10px 2px rgba(255,255,255,0.7)'
                                                    }
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                    lineNumber: 271,
                                                    columnNumber: 25
                                                }, undefined)
                                            ]
                                        }, void 0, true)
                                    ]
                                }, void 0, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                    lineNumber: 198,
                                    columnNumber: 19
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 176,
                                columnNumber: 17
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                        lineNumber: 165,
                        columnNumber: 13
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                    lineNumber: 164,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                lineNumber: 157,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/30 shadow-sm overflow-hidden",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "px-4 py-3 bg-gray-50/80 dark:bg-gray-800/80 border-b border-gray-100/50 dark:border-gray-700/30 flex items-center",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiMousePointer, {
                                className: "text-gray-600 dark:text-gray-400 mr-2.5",
                                size: 18
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 301,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "font-medium text-gray-700 dark:text-gray-300",
                                children: "GUI Agent Operation"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 302,
                                columnNumber: 11
                            }, undefined),
                            status && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: `ml-auto text-xs font-medium px-2 py-0.5 rounded-full ${status === 'success' ? 'bg-green-100/80 dark:bg-green-900/20 text-green-700 dark:text-green-400' : 'bg-red-100/80 dark:bg-red-900/20 text-red-700 dark:text-red-400'}`,
                                children: status === 'success' ? 'Success' : 'Failed'
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 304,
                                columnNumber: 13
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                        lineNumber: 300,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "p-4 space-y-3",
                        children: [
                            thought && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "space-y-1",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiEye, {
                                                className: "mr-2 text-accent-500/70 dark:text-accent-400/70",
                                                size: 14
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                lineNumber: 321,
                                                columnNumber: 17
                                            }, undefined),
                                            "Thought"
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                        lineNumber: 320,
                                        columnNumber: 15
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 pl-6 border-l-2 border-accent-100 dark:border-accent-900/30",
                                        children: thought
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                        lineNumber: 324,
                                        columnNumber: 15
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 319,
                                columnNumber: 13
                            }, undefined),
                            step && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "space-y-1",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiChevronsRight, {
                                                className: "mr-2 text-primary-500/70 dark:text-primary-400/70",
                                                size: 14
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                lineNumber: 334,
                                                columnNumber: 17
                                            }, undefined),
                                            "Action"
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                        lineNumber: 333,
                                        columnNumber: 15
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "text-sm text-gray-600 dark:text-gray-400 pl-6 border-l-2 border-primary-100 dark:border-primary-900/30",
                                        children: step
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                        lineNumber: 340,
                                        columnNumber: 15
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 332,
                                columnNumber: 13
                            }, undefined),
                            action && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "space-y-1",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "flex items-center text-sm font-medium text-gray-700 dark:text-gray-300",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiType, {
                                                className: "mr-2 text-gray-500/70 dark:text-gray-400/70",
                                                size: 14
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                                lineNumber: 350,
                                                columnNumber: 17
                                            }, undefined),
                                            "Action Command"
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                        lineNumber: 349,
                                        columnNumber: 15
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "bg-gray-50 dark:bg-gray-800/90 font-mono text-xs p-2 rounded-md border border-gray-100/50 dark:border-gray-700/30 overflow-x-auto",
                                        children: action
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                        lineNumber: 353,
                                        columnNumber: 15
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                                lineNumber: 348,
                                columnNumber: 13
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                        lineNumber: 316,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
                lineNumber: 299,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/renderers/BrowserControlRenderer.tsx",
        lineNumber: 154,
        columnNumber: 5
    }, undefined);
};
_s(BrowserControlRenderer, "jA6ZC04XEwJIxww/6punrnkAjkw=", false, function() {
    return [
        _common_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession
    ];
});
_c = BrowserControlRenderer;
var _c;
$RefreshReg$(_c, "BrowserControlRenderer");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),

},function(__webpack_require__) {
// webpack/runtime/get_full_hash
(() => {
__webpack_require__.h = () => ("e860a24248bb6ebf")
})();

}
);
//# sourceMappingURL=index.b0d3f6ad00ddc9f7.hot-update.js.map