"use strict";
self["webpackHotUpdate_agent_tars_web_ui"]("index", {
"./src/entry.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1751739942746
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/standalone/chat/Message/components/MessageGroup.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  MessageGroup: () => (MessageGroup)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/standalone/chat/Message/index.tsx");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _common_utils_formatters__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/common/utils/formatters.ts");
/* ESM import */var _common_utils_typeGuards__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/common/utils/typeGuards.ts");
/* ESM import */var _MessageTimestamp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/standalone/chat/Message/components/MessageTimestamp.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");







/**
 * MessageGroup Component - 重构版以支持流式渲染
 *
 * 设计原则:
 * - 每条消息独立渲染，避免阻塞
 * - 保持简洁的视觉层次结构
 * - 消息间的视觉关系通过样式而非嵌套实现
 */ const MessageGroup = (param)=>{
    let { messages, isThinking } = param;
    // 过滤掉环境消息
    const filteredMessages = messages.filter((msg)=>msg.role !== 'environment');
    // 如果过滤后没有消息，则不渲染任何内容
    if (filteredMessages.length === 0) {
        return null;
    }
    // 获取用户消息和助手消息
    const userMessages = filteredMessages.filter((msg)=>msg.role === 'user');
    const assistantMessages = filteredMessages.filter((msg)=>msg.role === 'assistant' || msg.role === 'final_answer');
    // 获取最后一条助手消息（用于时间戳和复制功能）
    const lastResponseMessage = assistantMessages.length > 0 ? assistantMessages[assistantMessages.length - 1] : null;
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        children: [
            userMessages.map((userMsg)=>{
                if ((0,_common_utils_typeGuards__WEBPACK_IMPORTED_MODULE_4__.isMultimodalContent)(userMsg.content)) {
                    const imageContents = userMsg.content.filter((part)=>part.type === 'image_url');
                    const textContents = userMsg.content.filter((part)=>part.type === 'text');
                    // 同时包含图片和文本时拆分显示
                    if (imageContents.length > 0 && textContents.length > 0) {
                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_index__WEBPACK_IMPORTED_MODULE_2__.Message, {
                                    message: {
                                        ...userMsg,
                                        content: imageContents,
                                        id: `${userMsg.id}-images`
                                    }
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                                    lineNumber: 54,
                                    columnNumber: 17
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_index__WEBPACK_IMPORTED_MODULE_2__.Message, {
                                    message: {
                                        ...userMsg,
                                        content: textContents,
                                        id: `${userMsg.id}-text`
                                    }
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                                    lineNumber: 61,
                                    columnNumber: 17
                                }, undefined)
                            ]
                        }, userMsg.id, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                            lineNumber: 53,
                            columnNumber: 15
                        }, undefined);
                    }
                }
                // 普通用户消息
                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_index__WEBPACK_IMPORTED_MODULE_2__.Message, {
                    message: userMsg
                }, userMsg.id, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                    lineNumber: 74,
                    columnNumber: 16
                }, undefined);
            }),
            assistantMessages.map((message, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_index__WEBPACK_IMPORTED_MODULE_2__.Message, {
                    message: message,
                    isInGroup: true,
                    shouldDisplayTimestamp: index === assistantMessages.length - 1 && !isThinking
                }, message.id, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                    lineNumber: 79,
                    columnNumber: 9
                }, undefined)),
            !isThinking && lastResponseMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "mt-1 mb-2",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 px-2",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-center",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiClock, {
                                    size: 10,
                                    className: "mr-1"
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                                    lineNumber: 92,
                                    columnNumber: 15
                                }, undefined),
                                (0,_common_utils_formatters__WEBPACK_IMPORTED_MODULE_3__.formatTimestamp)(lastResponseMessage.timestamp)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                            lineNumber: 91,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageTimestamp__WEBPACK_IMPORTED_MODULE_5__.MessageTimestamp, {
                            timestamp: lastResponseMessage.timestamp,
                            content: lastResponseMessage.content,
                            role: lastResponseMessage.role,
                            inlineStyle: true
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                            lineNumber: 97,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                    lineNumber: 90,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
                lineNumber: 89,
                columnNumber: 9
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/chat/Message/components/MessageGroup.tsx",
        lineNumber: 43,
        columnNumber: 5
    }, undefined);
}; // ... 保留其他代码 ...
_c = MessageGroup;
var _c;
$RefreshReg$(_c, "MessageGroup");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),

},function(__webpack_require__) {
// webpack/runtime/get_full_hash
(() => {
__webpack_require__.h = () => ("8ac2926b75543963")
})();

}
);
//# sourceMappingURL=index.354cb1f928a82c55.hot-update.js.map