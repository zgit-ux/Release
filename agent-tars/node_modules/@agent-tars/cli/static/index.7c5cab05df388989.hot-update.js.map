{"version":3,"file":"index.7c5cab05df388989.hot-update.js","sources":["/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/entry.css","/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx","/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Share/ShareModal.tsx"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1748912956947\n        var cssReload = require(\"../../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","import React, { useState, useRef, useEffect } from 'react';\nimport ReactMarkdown, { Components } from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport rehypeRaw from 'rehype-raw';\nimport { remarkAlert } from 'remark-github-blockquote-alert';\nimport rehypeHighlight from 'rehype-highlight';\nimport { Dialog } from '@headlessui/react';\nimport { Link } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { HeaderAnchor } from './HeaderAnchor';\nimport { CodeBlock } from './CodeBlock';\nimport 'highlight.js/styles/github.css';\nimport 'remark-github-blockquote-alert/alert.css';\n\ninterface MarkdownRendererProps {\n  content: string;\n  publishDate?: string;\n  author?: string;\n  className?: string;\n  forceDarkTheme?: boolean;\n}\n\n/**\n * MarkdownRenderer component\n * Renders markdown content with custom styling and enhanced functionality\n */\nexport const MarkdownRenderer: React.FC<MarkdownRendererProps> = ({\n  content,\n  publishDate,\n  author,\n  className = '',\n  forceDarkTheme = false,\n}) => {\n  const [openImage, setOpenImage] = useState<string | null>(null);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [renderError, setRenderError] = useState<Error | null>(null);\n  // Add a ref to track if we've rendered the first h1\n  const firstH1Ref = useRef(false);\n\n  const handleImageClick = (src: string) => {\n    setOpenImage(src);\n    setImageLoaded(false);\n  };\n\n  const handleCloseModal = () => {\n    setOpenImage(null);\n  };\n\n  // Handle hash navigation on page load\n  useEffect(() => {\n    if (window.location.hash) {\n      const id = window.location.hash.substring(1);\n      const element = document.getElementById(id);\n      if (element) {\n        // Use setTimeout to ensure page is fully rendered before scrolling\n        setTimeout(() => {\n          element.scrollIntoView({ behavior: 'smooth' });\n        }, 100);\n      }\n    }\n  }, [content]); // Re-check when content changes\n\n  // Reset the first h1 flag when content changes\n  useEffect(() => {\n    firstH1Ref.current = false;\n    setRenderError(null); // Reset any previous errors when content changes\n  }, [content]);\n\n  // If there was a rendering error, show a fallback\n  if (renderError) {\n    return (\n      <div className=\"p-3 border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/30 rounded-md text-amber-800 dark:text-amber-200\">\n        <p className=\"font-medium mb-1\">Markdown rendering error:</p>\n        <pre className=\"text-xs overflow-auto\">{content}</pre>\n      </div>\n    );\n  }\n\n  // Determine the theme class based on the forceDarkTheme prop\n  const themeClass = forceDarkTheme ? 'dark' : '';\n\n  const components: Components = {\n    h1: ({ node, children, ...props }) => {\n      // Generate ID from heading text for anchor links\n      const id = children\n        ?.toString()\n        .toLowerCase()\n        .replace(/[^\\w\\s]/g, '')\n        .replace(/\\s+/g, '-');\n\n      // Check if this is the first h1 and set the flag\n      const isFirstH1 = !firstH1Ref.current;\n      if (isFirstH1) {\n        firstH1Ref.current = true;\n      }\n\n      return (\n        <>\n          <h1\n            id={id}\n            className=\"group text-4xl font-bold mb-2 pb-2 border-b border-white/10 bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent scroll-mt-20 flex items-center\"\n            {...props}\n          >\n            {children}\n            {id && <HeaderAnchor id={id} />}\n          </h1>\n\n          {/* Display metadata only after the first h1 */}\n          {isFirstH1 && (publishDate || author) && (\n            <div className=\"flex items-center gap-1 mb-6 text-sm text-gray-400 mb-10\">\n              {publishDate && <span>{publishDate}</span>}\n              {author && (\n                <>\n                  {publishDate && <span>•</span>}\n                  <span>{author}</span>\n                </>\n              )}\n            </div>\n          )}\n        </>\n      );\n    },\n    h2: ({ node, children, ...props }) => {\n      const id = children\n        ?.toString()\n        .toLowerCase()\n        .replace(/[^\\w\\s]/g, '')\n        .replace(/\\s+/g, '-');\n      return (\n        <h2\n          id={id}\n          className=\"group text-3xl font-bold mt-12 mb-4 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent scroll-mt-20 flex items-center\"\n          {...props}\n        >\n          {children}\n          {id && <HeaderAnchor id={id} />}\n        </h2>\n      );\n    },\n    h3: ({ node, children, ...props }) => {\n      const id = children\n        ?.toString()\n        .toLowerCase()\n        .replace(/[^\\w\\s]/g, '')\n        .replace(/\\s+/g, '-');\n      return (\n        <h3\n          id={id}\n          className=\"group text-2xl font-semibold mt-8 mb-3 text-gray-800 dark:text-gray-200 scroll-mt-20 flex items-center\"\n          {...props}\n        >\n          {children}\n          {id && <HeaderAnchor id={id} />}\n        </h3>\n      );\n    },\n    h4: ({ node, children, ...props }) => {\n      const id = children\n        ?.toString()\n        .toLowerCase()\n        .replace(/[^\\w\\s]/g, '')\n        .replace(/\\s+/g, '-');\n      return (\n        <h4\n          id={id}\n          className=\"group text-xl font-semibold mt-6 mb-2 text-white/80 scroll-mt-20 flex items-center\"\n          {...props}\n        >\n          {children}\n          {id && <HeaderAnchor id={id} />}\n        </h4>\n      );\n    },\n    p: ({ node, ...props }) => (\n      <p className=\"my-0 text-gray-800 dark:text-gray-200 leading-relaxed\" {...props} />\n    ),\n    a: ({ node, href, ...props }) => {\n      // Handle three types of links:\n      // 1. Hash links (#section)\n      // 2. Internal path links (/path)\n      // 3. External links (https://...)\n\n      if (href && href.startsWith('#')) {\n        // Hash links - use smooth scrolling\n        return (\n          <a\n            href={href}\n            className=\"text-blue-400 hover:text-blue-300 transition-colors underline underline-offset-2\"\n            onClick={(e) => {\n              e.preventDefault();\n              // Find target element and scroll into view\n              const element = document.getElementById(href.substring(1));\n              if (element) {\n                element.scrollIntoView({ behavior: 'smooth' });\n                // Update URL without page reload\n                window.history.pushState(null, '', href);\n              }\n            }}\n            {...props}\n          />\n        );\n      } else if (href && !href.match(/^(https?:)?\\/\\//) && href.startsWith('/')) {\n        // Internal links - use React Router's Link\n        return (\n          <Link\n            to={href}\n            className=\"text-blue-400 hover:text-blue-300 transition-colors underline underline-offset-2\"\n            {...props}\n          />\n        );\n      }\n\n      // External links - open in new tab\n      return (\n        <a\n          href={href}\n          className=\"text-blue-400 hover:text-blue-300 transition-colors underline underline-offset-2\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          {...props}\n        />\n      );\n    },\n    ul: ({ node, ...props }) => (\n      <ul className=\"my-4 list-disc pl-6 text-gray-800 dark:text-gray-200\" {...props} />\n    ),\n    ol: ({ node, ...props }) => (\n      <ol className=\"my-4 list-decimal pl-6 text-gray-800 dark:text-gray-200\" {...props} />\n    ),\n    li: ({ node, ...props }) => <li className=\"my-1\" {...props} />,\n    blockquote: ({ node, ...props }) => (\n      <blockquote\n        className=\"border-l-4 border-purple-500 pl-4 my-4 italic text-gray-400\"\n        {...props}\n      />\n    ),\n    code: ({ node, className, children, ...props }) => {\n      return (\n        <CodeBlock className={`${className} dark:text-gray-200 dark:bg-gray-800`} {...props}>\n          {children}\n        </CodeBlock>\n      );\n    },\n    table: ({ node, ...props }) => (\n      <div className=\"overflow-x-auto my-6\">\n        <table className=\"min-w-full border-collapse border border-white/20 text-sm\" {...props} />\n      </div>\n    ),\n    thead: ({ node, ...props }) => <thead className=\"bg-white/5\" {...props} />,\n    tbody: ({ node, ...props }) => <tbody className=\"divide-y divide-white/10\" {...props} />,\n    tr: ({ node, ...props }) => <tr className=\"hover:bg-white/5 transition-colors\" {...props} />,\n    th: ({ node, ...props }) => (\n      <th\n        className=\"px-4 py-3 text-left text-xs font-medium text-gray-800 dark:text-gray-200 uppercase tracking-wider border-b border-white/20\"\n        {...props}\n      />\n    ),\n    td: ({ node, ...props }) => (\n      <td className=\"px-4 py-3 text-gray-800 border-white/10\" {...props} />\n    ),\n    img: ({ node, src, ...props }) => (\n      // @ts-expect-error\n      <motion.img\n        className=\"max-w-full h-auto my-6 rounded-lg border border-white/10 cursor-pointer\"\n        src={src}\n        onClick={() => src && handleImageClick(src)}\n        {...props}\n        alt={props.alt || 'Documentation image'}\n        whileHover={{ scale: 1.01 }}\n        transition={{ duration: 0.2 }}\n      />\n    ),\n    hr: ({ node, ...props }) => <hr className=\"my-8 border-t border-white/10\" {...props} />,\n  };\n\n  try {\n    return (\n      <div className={`${themeClass} markdown-content`}>\n        <ReactMarkdown\n          remarkPlugins={[remarkGfm, remarkAlert]}\n          rehypePlugins={[rehypeRaw, [rehypeHighlight, { detect: true, ignoreMissing: true }]]}\n          className={className}\n          components={components}\n        >\n          {content}\n        </ReactMarkdown>\n        \n        {/* 图片预览对话框 */}\n        <Dialog open={!!openImage} onClose={handleCloseModal} className=\"relative z-[9999]\">\n          {/* 背景遮罩 */}\n          <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm\" aria-hidden=\"true\" />\n          \n          {/* 图片容器 */}\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n            <Dialog.Panel className=\"max-w-[90vw] max-h-[90vh] outline-none\">\n              <motion.img\n                src={openImage || ''}\n                alt=\"Enlarged view\"\n                onLoad={() => setImageLoaded(true)}\n                className=\"max-w-full max-h-[85vh] object-contain rounded-lg\"\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{\n                  opacity: imageLoaded ? 1 : 0.3,\n                  scale: imageLoaded ? 1 : 0.95,\n                }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                transition={{ type: 'spring', duration: 0.3 }}\n                onClick={handleCloseModal}\n              />\n            </Dialog.Panel>\n          </div>\n        </Dialog>\n      </div>\n    );\n  } catch (error) {\n    console.error('Error rendering markdown:', error);\n    setRenderError(error instanceof Error ? error : new Error(String(error)));\n\n    // Fallback render for raw content\n    return (\n      <pre className=\"p-3 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md overflow-auto\">\n        {content}\n      </pre>\n    );\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiX, FiShare2, FiLink, FiDownload, FiCheck, FiLoader } from 'react-icons/fi';\nimport { shareService, ShareConfig, ShareResult } from '../../services/shareService';\nimport { Dialog } from '@headlessui/react';\n\ninterface ShareModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  sessionId: string;\n}\n\n/**\n * 分享模态框组件\n *\n * 设计原则:\n * - 简洁优雅的黑白灰风格，符合整体设计语言\n * - 大圆角和精细边框，呈现精致的视觉效果\n * - 动态过渡和微妙动画，提升用户体验\n * - 清晰的状态反馈，包括加载、成功和错误状态\n */\nexport const ShareModal: React.FC<ShareModalProps> = ({ isOpen, onClose, sessionId }) => {\n  const [shareConfig, setShareConfig] = useState<ShareConfig | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [shareResult, setShareResult] = useState<ShareResult | null>(null);\n  const [copied, setCopied] = useState(false);\n\n  // 获取分享配置\n  useEffect(() => {\n    if (isOpen) {\n      const fetchConfig = async () => {\n        try {\n          const config = await shareService.getShareConfig();\n          setShareConfig(config);\n        } catch (error) {\n          console.error('Failed to get share config:', error);\n          // 设置默认配置\n          setShareConfig({ hasShareProvider: false, shareProvider: null });\n        }\n      };\n\n      fetchConfig();\n    }\n  }, [isOpen]);\n\n  // 当模态框关闭时重置状态，允许重新分享\n  useEffect(() => {\n    if (!isOpen) {\n      setShareResult(null);\n    }\n  }, [isOpen]);\n\n  // 处理上传分享\n  const handleUpload = async () => {\n    if (!sessionId || !shareConfig) return;\n\n    setIsLoading(true);\n    setShareResult(null);\n\n    try {\n      const result = await shareService.shareSession(sessionId, true);\n      setShareResult(result);\n    } catch (error) {\n      console.error('Failed to share session:', error);\n      setShareResult({\n        success: false,\n        error: error instanceof Error ? error.message : String(error),\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 处理下载分享\n  const handleDownload = async () => {\n    if (!sessionId) return;\n\n    setIsLoading(true);\n    setShareResult(null);\n\n    try {\n      const result = await shareService.shareSession(sessionId, false);\n      setShareResult(result);\n\n      if (result.success && result.html) {\n        shareService.downloadShareHtml(result.html, sessionId);\n      }\n    } catch (error) {\n      console.error('Failed to download share HTML:', error);\n      setShareResult({\n        success: false,\n        error: error instanceof Error ? error.message : String(error),\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 复制分享链接\n  const handleCopyLink = () => {\n    if (shareResult?.url) {\n      navigator.clipboard.writeText(shareResult.url);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-[9999]\">\n      {/* 背景遮罩层 */}\n      <div className=\"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm\" aria-hidden=\"true\" />\n\n      {/* 模态框内容容器 */}\n      <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n        <Dialog.Panel className=\"w-full max-w-md p-6 bg-white dark:bg-gray-800 rounded-3xl border border-[#E5E6EC] dark:border-gray-700/30 shadow-lg\">\n          {/* 标题和关闭按钮 */}\n          <div className=\"flex items-center justify-between mb-6\">\n            <Dialog.Title className=\"text-xl font-medium text-gray-800 dark:text-gray-200 flex items-center\">\n              <FiShare2 className=\"mr-3 text-gray-500 dark:text-gray-400\" />\n              Share Conversation\n            </Dialog.Title>\n            <motion.button\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.9 }}\n              onClick={onClose}\n              className=\"p-2 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors\"\n            >\n              <FiX size={20} />\n            </motion.button>\n          </div>\n\n          {/* 正在加载配置 */}\n          {!shareConfig && (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"flex items-center space-x-2 text-gray-500 dark:text-gray-400\">\n                <motion.div\n                  animate={{ rotate: 360 }}\n                  transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n                >\n                  <FiLoader size={20} />\n                </motion.div>\n                <span>Loading share options...</span>\n              </div>\n            </div>\n          )}\n\n          {/* 分享选项 */}\n          {shareConfig && !isLoading && !shareResult && (\n            <div className=\"space-y-6\">\n              <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                Choose how you want to share this conversation:\n              </p>\n\n              <div className=\"space-y-4\">\n                {/* 上传选项 - 仅当配置了分享提供者时显示 */}\n                {shareConfig.hasShareProvider && (\n                  <motion.button\n                    whileHover={{ y: -2 }}\n                    whileTap={{ scale: 0.98 }}\n                    onClick={handleUpload}\n                    className=\"w-full flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-xl border border-[#E5E6EC] dark:border-gray-700/30 hover:border-gray-300 dark:hover:border-gray-600/70 transition-all duration-200\"\n                  >\n                    <div className=\"flex items-center\">\n                      <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-700 dark:text-gray-300 mr-3\">\n                        <FiLink size={20} />\n                      </div>\n                      <div className=\"text-left\">\n                        <h4 className=\"font-medium text-gray-800 dark:text-gray-200\">\n                          Get shareable link\n                        </h4>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                          Upload and get a link to share\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\">\n                      <FiShare2 size={16} className=\"text-gray-500 dark:text-gray-400\" />\n                    </div>\n                  </motion.button>\n                )}\n\n                {/* 下载选项 - 始终显示 */}\n                <motion.button\n                  whileHover={{ y: -2 }}\n                  whileTap={{ scale: 0.98 }}\n                  onClick={handleDownload}\n                  className=\"w-full flex items-center justify-between p-4 bg-white dark:bg-gray-800 rounded-xl border border-[#E5E6EC] dark:border-gray-700/30 hover:border-gray-300 dark:hover:border-gray-600/70 transition-all duration-200\"\n                >\n                  <div className=\"flex items-center\">\n                    <div className=\"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-700 dark:text-gray-300 mr-3\">\n                      <FiDownload size={20} />\n                    </div>\n                    <div className=\"text-left\">\n                      <h4 className=\"font-medium text-gray-800 dark:text-gray-200\">\n                        Download HTML\n                      </h4>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        Save the conversation as HTML file\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\">\n                    <FiDownload size={16} className=\"text-gray-500 dark:text-gray-400\" />\n                  </div>\n                </motion.button>\n              </div>\n\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center\">\n                Sharing includes all messages and tool results in this conversation.\n              </p>\n            </div>\n          )}\n\n          {/* 加载状态 */}\n          {isLoading && (\n            <div className=\"flex flex-col items-center justify-center py-10\">\n              <motion.div\n                animate={{ rotate: 360 }}\n                transition={{ duration: 2, repeat: Infinity, ease: 'linear' }}\n                className=\"w-12 h-12 rounded-full border-2 border-gray-200 dark:border-gray-700 border-t-gray-600 dark:border-t-gray-300 mb-4\"\n              />\n              <p className=\"text-gray-700 dark:text-gray-300 text-center\">\n                Preparing your conversation for sharing...\n              </p>\n            </div>\n          )}\n\n          {/* 分享结果 - 成功 */}\n          {shareResult && shareResult.success && shareResult.url && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-green-50/50 dark:bg-green-900/20 rounded-xl p-4 border border-green-100/60 dark:border-green-800/30 flex items-start\">\n                <div className=\"w-8 h-8 rounded-full bg-green-100 dark:bg-green-800/40 flex items-center justify-center flex-shrink-0 mr-3\">\n                  <FiCheck className=\"text-green-600 dark:text-green-400\" size={16} />\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-800 dark:text-gray-200\">\n                    Share link created!\n                  </p>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                    Your conversation is now available at the link below.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  value={shareResult.url}\n                  readOnly\n                  className=\"w-full pr-24 pl-4 py-3 bg-gray-50 dark:bg-gray-700/60 rounded-xl border border-[#E5E6EC] dark:border-gray-700/30 text-gray-800 dark:text-gray-200 text-sm focus:outline-none\"\n                />\n                <button\n                  onClick={handleCopyLink}\n                  className=\"absolute right-1.5 top-1.5 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-xs font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                >\n                  {copied ? (\n                    <span className=\"flex items-center\">\n                      <FiCheck className=\"mr-1\" size={12} />\n                      Copied!\n                    </span>\n                  ) : (\n                    'Copy Link'\n                  )}\n                </button>\n              </div>\n\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 text-center\">\n                This link will be accessible to anyone who has it.\n              </p>\n\n              <div className=\"flex justify-end\">\n                <motion.button\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                  onClick={onClose}\n                  className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                >\n                  Close\n                </motion.button>\n              </div>\n            </div>\n          )}\n\n          {/* 分享结果 - 下载HTML成功 */}\n          {shareResult && shareResult.success && shareResult.html && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-green-50/50 dark:bg-green-900/20 rounded-xl p-4 border border-green-100/60 dark:border-green-800/30 flex items-start\">\n                <div className=\"w-8 h-8 rounded-full bg-green-100 dark:bg-green-800/40 flex items-center justify-center flex-shrink-0 mr-3\">\n                  <FiCheck className=\"text-green-600 dark:text-green-400\" size={16} />\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-800 dark:text-gray-200\">\n                    HTML file downloaded!\n                  </p>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                    The HTML file contains all messages and tool results from this conversation.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <motion.button\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                  onClick={onClose}\n                  className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                >\n                  Close\n                </motion.button>\n              </div>\n            </div>\n          )}\n\n          {/* 分享结果 - 错误 */}\n          {shareResult && !shareResult.success && (\n            <div className=\"space-y-6\">\n              <div className=\"bg-red-50/50 dark:bg-red-900/20 rounded-xl p-4 border border-red-100/60 dark:border-red-800/30 flex items-start\">\n                <div className=\"w-8 h-8 rounded-full bg-red-100 dark:bg-red-800/40 flex items-center justify-center flex-shrink-0 mr-3\">\n                  <FiX className=\"text-red-600 dark:text-red-400\" size={16} />\n                </div>\n                <div>\n                  <p className=\"font-medium text-gray-800 dark:text-gray-200\">Failed to share</p>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                    {shareResult.error ||\n                      'An error occurred while trying to share the conversation.'}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex justify-end\">\n                <motion.button\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                  onClick={onClose}\n                  className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-xl text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                >\n                  Close\n                </motion.button>\n              </div>\n            </div>\n          )}\n        </Dialog.Panel>\n      </div>\n    </Dialog>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;;;AAGA;AACA;;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;;AACA;AAAA;AAAA;;;;;;AACA;AAAA;AAAA;;;;;;;;;;;;AAGA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAAA;;;;;;;;;;;;AAIA;AACA;;AACA;AAAA;;;;;;AACA;;AAEA;AAAA;;;;;;AACA;AAAA;;;;;;;;;;;;;;;;AAOA;AACA;AAAA;AACA;AAKA;AAEA;AACA;AACA;;AAEA;AACA;AAAA;;;;;;;;;;;;AAGA;AACA;AAAA;AACA;AAKA;AAEA;AACA;AACA;;AAEA;AACA;AAAA;;;;;;;;;;;;AAGA;AACA;AAAA;AACA;AAKA;AAEA;AACA;AACA;;AAEA;AACA;AAAA;;;;;;;;;;;;AAGA;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;AAGA;AACA;AACA;AAEA;AACA;AACA;;;;;;AAGA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;AAGA;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;AAEA;AAAA;AACA;AAAA;AAAA;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;;;;;;;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAGA;AAAA;AACA;AACA;AAAA;AACA;;;;;;AAGA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAGA;AAAA;AACA;AAAA;AAAA;;;;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;;;;;;;AACA;AAEA;AACA;AACA;;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;;;;AAIA;AAAA;AAAA;AAAA;;AAEA;AAAA;AAAA;;;;;;AAGA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;AAGA;AACA;AA3SA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AAQA;;;;;;;;AAQA;AACA;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;;AAEA;AAAA;AAAA;;;;;;AAGA;AAAA;AACA;AAAA;;AAEA;AAAA;;AACA;AAAA;;AACA;AAAA;;;;;;AAAA;;;;;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;;;;;;;;;;;;;;;;;AAKA;AACA;AACA;AAAA;;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;;;;;;;;;;;AAEA;AAAA;;;;;;;;;;;;;;;;;AAMA;AACA;;AACA;AAAA;AAAA;;;;;;AAIA;AAAA;;AAEA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AAAA;;AACA;AAAA;AACA;AAAA;;;;;;;;;;;AAEA;AAAA;;AACA;AAAA;AAAA;;;;;;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;AAKA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AAAA;;AACA;AAAA;AACA;AAAA;;;;;;;;;;;AAEA;AAAA;;AACA;AAAA;AAAA;;;;;;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;AAKA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;AAKA;AAAA;AAAA;;;;;;;;;;;;AAOA;AACA;;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAEA;AAAA;AAAA;;;;;;;;;;;;AAOA;AACA;;AACA;AAAA;;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;AAEA;;AACA;AAAA;AAAA;;;;;;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;AAMA;AAAA;;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA;AAEA;AACA;;AACA;AAAA;AAAA;;;;;;AAAA;;;;;;AAIA;;;;;;;;;;;;AAKA;AAAA;AAAA;;;;;;AAIA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAQA;AACA;;AACA;AAAA;;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;AAEA;;AACA;AAAA;AAAA;;;;;;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;AAMA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAQA;AACA;;AACA;AAAA;;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;AAEA;;AACA;AAAA;AAAA;;;;;;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAMA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA;AApUA;AAAA"}