{"version":3,"file":"index.2e3fab2d20ae7f48.hot-update.js","sources":["/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/entry.css","/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/Message.css","/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/components/ToolCalls.tsx"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749586752519\n        var cssReload = require(\"../../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","// extracted by css-extract-rspack-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749586752516\n        var cssReload = require(\"../../../../../../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","import React from 'react';\nimport { FiArrowRight, FiLoader, FiCheck, FiX, FiClock, FiZap, FiActivity } from 'react-icons/fi';\nimport { motion } from 'framer-motion';\n\ninterface ToolCallsProps {\n  toolCalls: any[];\n  onToolCallClick: (toolCall: any) => void;\n  getToolIcon: (name: string) => React.ReactNode;\n  isIntermediate?: boolean;\n  toolResults?: any[];\n}\n\n/**\n * Component for displaying tool calls with world-class UI design\n *\n * Design principles:\n * - Premium visual hierarchy with sophisticated spacing\n * - Advanced micro-interactions and state feedback\n * - Modern glassmorphism and depth effects\n * - Accessible color system with semantic meaning\n * - Smooth performance-optimized animations\n */\nexport const ToolCalls: React.FC<ToolCallsProps> = ({\n  toolCalls,\n  onToolCallClick,\n  getToolIcon,\n  isIntermediate = false,\n  toolResults = [],\n}) => {\n  // Helper function to get tool call status\n  const getToolCallStatus = (toolCall: any) => {\n    const result = toolResults.find((result) => result.toolCallId === toolCall.id);\n    \n    if (!result) {\n      return 'pending';\n    }\n    \n    if (result.error) {\n      return 'error';\n    }\n    \n    return 'success';\n  };\n\n  // Advanced status configuration system\n  const getStatusConfig = (status: string) => {\n    const configs = {\n      pending: {\n        icon: (\n          <motion.div\n            animate={{ rotate: 360 }}\n            transition={{ duration: 1.2, repeat: Infinity, ease: 'linear' }}\n            className=\"relative\"\n          >\n            <FiLoader size={14} className=\"text-blue-500 dark:text-blue-400\" />\n            <div className=\"absolute inset-0 rounded-full bg-blue-500/20 animate-pulse\" />\n          </motion.div>\n        ),\n        colors: {\n          bg: 'bg-gradient-to-r from-blue-50/80 to-indigo-50/80 dark:from-blue-950/30 dark:to-indigo-950/30',\n          border: 'border-blue-200/60 dark:border-blue-800/40',\n          text: 'text-blue-700 dark:text-blue-300',\n          accent: 'text-blue-500 dark:text-blue-400',\n          glow: 'shadow-blue-500/10 dark:shadow-blue-400/10',\n        },\n        badge: { text: 'Running', color: 'bg-blue-500 text-white' },\n      },\n      success: {\n        icon: (\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ type: 'spring', damping: 15, stiffness: 300 }}\n            className=\"relative\"\n          >\n            <FiCheck size={14} className=\"text-green-500 dark:text-green-400\" />\n            <motion.div \n              className=\"absolute inset-0 rounded-full bg-green-500/20\"\n              animate={{ scale: [1, 1.2, 1] }}\n              transition={{ duration: 0.6, delay: 0.1 }}\n            />\n          </motion.div>\n        ),\n        colors: {\n          bg: 'bg-gradient-to-r from-green-50/80 to-emerald-50/80 dark:from-green-950/30 dark:to-emerald-950/30',\n          border: 'border-green-200/60 dark:border-green-800/40',\n          text: 'text-green-700 dark:text-green-300',\n          accent: 'text-green-500 dark:text-green-400',\n          glow: 'shadow-green-500/10 dark:shadow-green-400/10',\n        },\n        badge: { text: 'Complete', color: 'bg-green-500 text-white' },\n      },\n      error: {\n        icon: (\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ type: 'spring', damping: 12, stiffness: 200 }}\n            className=\"relative\"\n          >\n            <FiX size={14} className=\"text-red-500 dark:text-red-400\" />\n            <motion.div \n              className=\"absolute inset-0 rounded-full bg-red-500/20\"\n              animate={{ opacity: [0.5, 1, 0.5] }}\n              transition={{ duration: 1.5, repeat: Infinity }}\n            />\n          </motion.div>\n        ),\n        colors: {\n          bg: 'bg-gradient-to-r from-red-50/80 to-rose-50/80 dark:from-red-950/30 dark:to-rose-950/30',\n          border: 'border-red-200/60 dark:border-red-800/40',\n          text: 'text-red-700 dark:text-red-300',\n          accent: 'text-red-500 dark:text-red-400',\n          glow: 'shadow-red-500/10 dark:shadow-red-400/10',\n        },\n        badge: { text: 'Failed', color: 'bg-red-500 text-white' },\n      },\n    };\n\n    return configs[status] || configs.pending;\n  };\n\n  // Enhanced tool name formatting\n  const formatToolName = (name: string) => {\n    return name\n      .replace(/^browser_/, '')\n      .replace(/_/g, ' ')\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  };\n\n  if (!toolCalls.length) return null;\n\n  return (\n    <div className=\"mt-4 space-y-3\">\n      {/* Section header with sophisticated styling */}\n      <div className=\"flex items-center gap-3 mb-2\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-6 h-6 rounded-full bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center\">\n            <FiZap size={12} className=\"text-white\" />\n          </div>\n          <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n            Tool Execution\n          </span>\n        </div>\n        <div className=\"flex-1 h-px bg-gradient-to-r from-gray-200 to-transparent dark:from-gray-700 dark:to-transparent\" />\n        <div className=\"text-xs text-gray-500 dark:text-gray-400 font-mono\">\n          {toolCalls.length} tool{toolCalls.length > 1 ? 's' : ''}\n        </div>\n      </div>\n\n      {/* Premium tool call cards */}\n      <div className=\"space-y-2\">\n        {toolCalls.map((toolCall, index) => {\n          const status = getToolCallStatus(toolCall);\n          const config = getStatusConfig(status);\n          const toolName = formatToolName(toolCall.function.name);\n\n          return (\n            <motion.div\n              key={toolCall.id}\n              initial={{ opacity: 0, y: 10, scale: 0.98 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              transition={{ \n                duration: 0.4, \n                delay: index * 0.1,\n                type: 'spring',\n                damping: 25,\n                stiffness: 300\n              }}\n              whileHover={{ \n                scale: 1.02,\n                y: -2,\n                transition: { duration: 0.2 }\n              }}\n              whileTap={{ scale: 0.98 }}\n              className=\"group relative overflow-hidden\"\n            >\n              {/* Background glow effect */}\n              <div className={`absolute inset-0 rounded-xl ${config.colors.glow} shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-xl`} />\n              \n              {/* Main card */}\n              <motion.button\n                onClick={() => onToolCallClick(toolCall)}\n                disabled={status === 'pending'}\n                className={`\n                  relative w-full p-4 rounded-xl border backdrop-blur-sm\n                  ${config.colors.bg} ${config.colors.border}\n                  transition-all duration-300 ease-out\n                  hover:shadow-lg hover:shadow-black/5 dark:hover:shadow-black/20\n                  disabled:cursor-wait\n                  focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2\n                  text-left group overflow-hidden\n                `}\n              >\n                {/* Animated background gradient */}\n                <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent dark:via-white/10 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-out\" />\n                \n                <div className=\"relative flex items-center gap-4\">\n                  {/* Enhanced tool icon with backdrop */}\n                  <div className=\"relative flex-shrink-0\">\n                    <div className=\"w-12 h-12 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 flex items-center justify-center shadow-sm group-hover:shadow-md transition-all duration-300\">\n                      <div className=\"relative z-10 transform group-hover:scale-110 transition-transform duration-300\">\n                        {getToolIcon(toolCall.function.name)}\n                      </div>\n                      {/* Icon glow effect */}\n                      <div className=\"absolute inset-0 rounded-xl bg-gradient-to-br from-white/20 to-transparent dark:from-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                    </div>\n                  </div>\n\n                  {/* Content area with improved typography */}\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <div>\n                        <h4 className={`font-semibold text-base leading-tight ${config.colors.text} group-hover:${config.colors.accent} transition-colors duration-200`}>\n                          {toolName}\n                        </h4>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5 font-mono\">\n                          {toolCall.function.name}\n                        </p>\n                      </div>\n                      \n                      {/* Status badge with animation */}\n                      <motion.div\n                        initial={{ scale: 0, opacity: 0 }}\n                        animate={{ scale: 1, opacity: 1 }}\n                        transition={{ delay: index * 0.1 + 0.2, type: 'spring', damping: 15 }}\n                        className={`px-2.5 py-1 rounded-full text-xs font-medium ${config.badge.color} shadow-sm`}\n                      >\n                        {config.badge.text}\n                      </motion.div>\n                    </div>\n\n                    {/* Enhanced status indicator with progress */}\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        {config.icon}\n                        <span className={`text-sm font-medium ${config.colors.accent}`}>\n                          {status === 'pending' ? 'Executing...' : \n                           status === 'success' ? 'Completed' : \n                           'Failed'}\n                        </span>\n                        {status === 'pending' && (\n                          <div className=\"flex gap-1\">\n                            {[0, 1, 2].map((i) => (\n                              <motion.div\n                                key={i}\n                                animate={{ \n                                  scale: [1, 1.2, 1],\n                                  opacity: [0.5, 1, 0.5]\n                                }}\n                                transition={{\n                                  duration: 1,\n                                  repeat: Infinity,\n                                  delay: i * 0.2\n                                }}\n                                className=\"w-1 h-1 rounded-full bg-blue-400\"\n                              />\n                            ))}\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Action indicator with improved visibility */}\n                      {status !== 'pending' && (\n                        <motion.div\n                          initial={{ opacity: 0, x: -10 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          className=\"flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-200\"\n                        >\n                          <span className=\"font-medium\">View Details</span>\n                          <motion.div\n                            animate={{ x: [0, 3, 0] }}\n                            transition={{ \n                              duration: 1.5, \n                              repeat: Infinity, \n                              repeatType: 'loop',\n                              ease: 'easeInOut'\n                            }}\n                          >\n                            <FiArrowRight size={12} />\n                          </motion.div>\n                        </motion.div>\n                      )}\n                    </div>\n\n                    {/* Subtle progress bar for pending operations */}\n                    {status === 'pending' && (\n                      <div className=\"mt-3 h-1 bg-gray-200/50 dark:bg-gray-700/50 rounded-full overflow-hidden\">\n                        <motion.div\n                          animate={{ x: ['0%', '100%'] }}\n                          transition={{\n                            duration: 2,\n                            repeat: Infinity,\n                            ease: 'linear'\n                          }}\n                          className=\"h-full w-1/3 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full\"\n                        />\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Subtle bottom border accent */}\n                <div className={`absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r ${\n                  status === 'success' ? 'from-green-400 to-emerald-500' :\n                  status === 'error' ? 'from-red-400 to-rose-500' :\n                  'from-blue-400 to-indigo-500'\n                } opacity-60 group-hover:opacity-100 transition-opacity duration-300`} />\n              </motion.button>\n            </motion.div>\n          );\n        })}\n      </div>\n\n      {/* Execution summary with enhanced styling */}\n      {toolCalls.length > 1 && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: toolCalls.length * 0.1 + 0.3 }}\n          className=\"mt-4 p-3 rounded-xl bg-gradient-to-r from-gray-50/80 to-slate-50/80 dark:from-gray-900/30 dark:to-slate-900/30 border border-gray-200/50 dark:border-gray-700/30 backdrop-blur-sm\"\n        >\n          <div className=\"flex items-center justify-between text-xs\">\n            <div className=\"flex items-center gap-2 text-gray-600 dark:text-gray-400\">\n              <FiActivity size={12} />\n              <span className=\"font-medium\">Execution Summary</span>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-green-600 dark:text-green-400 font-medium\">\n                {toolResults.filter(r => !r.error).length} Success\n              </span>\n              {toolResults.some(r => r.error) && (\n                <span className=\"text-red-600 dark:text-red-400 font-medium\">\n                  {toolResults.filter(r => r.error).length} Failed\n                </span>\n              )}\n              <span className=\"text-blue-600 dark:text-blue-400 font-medium\">\n                {toolCalls.length - toolResults.length} Pending\n              </span>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AAUA;;;;;;;;;AASA;AACA;AAOA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;;;;;;AACA;AAAA;;;;;;;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;;;;;;;;;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;;;;;;;;;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAMA;AAEA;AAEA;AACA;;AAEA;AAAA;;AACA;AAAA;;AACA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;AAEA;AAAA;AAAA;;;;;;;;;;;;AAIA;AAAA;;;;;;AACA;AAAA;;AACA;AAAA;AAAA;;;;;;;;;;;;;AAKA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;;AAGA;AAAA;;;;;;AAGA;AACA;AACA;AACA;;AAEA;;;;;;AAMA;;AAGA;AAAA;;;;;;AAEA;AAAA;;AAEA;AAAA;AACA;AAAA;;AACA;AAAA;AACA;;;;;;AAGA;AAAA;;;;;;;;;;;;;;;;;AAKA;AAAA;;AACA;AAAA;;AACA;;AACA;AAAA;AACA;;;;;;AAEA;AAAA;AACA;;;;;;;;;;;;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;;;;;;;;;;;;AAKA;AAAA;;AACA;AAAA;;AACA;AACA;AAAA;AACA;;;;;;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;;;;;;AAkBA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;AAEA;AAAA;AAAA;;;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;;;;;;;;;;;;;;;;;;;;;;;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAQA;AAAA;;;;;;;;;;;;;AAhJA;;;;;AAwJA;;;;;;AAIA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;;AACA;AAAA;;AACA;AAAA;;;;;;AACA;AAAA;AAAA;;;;;;;;;;;;AAEA;AAAA;;AACA;AAAA;;AACA;AAAA;;;;;;;AAEA;AACA;;AACA;AAAA;;;;;;;AAGA;AAAA;;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA;AArUA"}