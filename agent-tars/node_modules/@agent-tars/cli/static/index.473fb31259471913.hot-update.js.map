{"version":3,"file":"index.473fb31259471913.hot-update.js","sources":["/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/entry.css","/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/standalone/workspace/utils/contentStandardizer/standardizer.ts"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1751744877365\n        var cssReload = require(\"../../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","import { ToolResultContentPart } from '../../types';\nimport { StandardPanelContent } from '../../types/panelContent';\nimport {\n  handleImageContent,\n  handleSearchContent,\n  handleCommandContent,\n  handleScriptContent,\n  handleFileContent,\n  handleBrowserControlContent,\n  handleDefaultContent,\n} from './handlers';\n\nexport function standardizeContent(panelContent: StandardPanelContent): ToolResultContentPart[] {\n  console.log('panelContent', panelContent);\n\n  const { type, source, title, error, arguments: toolArguments, _extra } = panelContent;\n\n  // Handle error first\n  if (error) {\n    return [\n      {\n        type: 'text',\n        name: 'ERROR',\n        text: error,\n      },\n    ];\n  }\n\n  // Handle file operations with explicit path\n  if (type === 'file' && toolArguments?.path) {\n    const content = toolArguments.content || (typeof source === 'string' ? source : null);\n\n    // Handle streaming write_file operation\n    if (toolArguments?.path && toolArguments?.content !== undefined) {\n      return [\n        {\n          type: 'file_result',\n          name: 'FILE_RESULT',\n          path: toolArguments.path as string,\n          content: toolArguments.content as string,\n        },\n      ];\n    }\n\n    if (content && typeof content === 'string') {\n      return [\n        {\n          type: 'file_result',\n          name: 'FILE_RESULT',\n          path: toolArguments.path as string,\n          content,\n        },\n      ];\n    }\n\n    return handleFileContent(source, toolArguments);\n  }\n\n  // Handle browser vision control\n  if (type === 'browser_vision_control') {\n    return handleBrowserControlContent(panelContent, source);\n  }\n\n  // Handle image content in multimodal format\n  if (Array.isArray(source) && source.some((part) => part?.type === 'image_url')) {\n    return handleImageContent(source, title);\n  }\n\n  console.log('type', type);\n\n  // Handle different content types\n  switch (type) {\n    case 'image':\n      return handleImageContent(source, title);\n\n    case 'search':\n      return handleSearchContent(source, toolArguments, title);\n\n    case 'command':\n      return handleCommandContent(source, toolArguments);\n\n    case 'script':\n      return handleScriptContent(source, toolArguments);\n\n    case 'browser':\n      return [\n        {\n          type: 'json',\n          name: title || 'BROWSER_DATA',\n          data: source,\n          _extra,\n        },\n      ];\n\n    case 'file':\n    case 'read_file':\n    case 'write_file':\n      return handleFileContent(source, toolArguments);\n\n    default:\n      return handleDefaultContent(source);\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrBA;AAUA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA"}