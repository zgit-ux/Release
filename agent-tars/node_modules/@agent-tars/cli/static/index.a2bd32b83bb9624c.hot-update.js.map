{"version":3,"file":"index.a2bd32b83bb9624c.hot-update.js","sources":["/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/entry.css","/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/utils/formatters.ts"],"sourcesContent":["// extracted by css-extract-rspack-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1748912530563\n        var cssReload = require(\"../../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js\").cssReload(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","import { ToolResult } from '../types';\nimport { TOOL_TYPES } from '../constants';\n\n/**\n * Format a timestamp to a user-friendly date string\n */\nexport function formatTimestamp(timestamp: number): string {\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n}\n\n/**\n * Format a date relative to today (Today, Yesterday, or date)\n */\nexport function formatRelativeDate(timestamp: number): string {\n  const date = new Date(timestamp);\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  if (date.toDateString() === today.toDateString()) {\n    return 'Today';\n  } else if (date.toDateString() === yesterday.toDateString()) {\n    return 'Yesterday';\n  } else {\n    return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n  }\n}\n\n/**\n * Determine the tool type from name and content\n */\nexport function determineToolType(name: string, content: any): ToolResult['type'] {\n  const lowerName = name.toLowerCase();\n\n  // Add specialized browser_vision_control detection\n  if (lowerName === 'browser_vision_control') {\n    return 'browser_vision_control';\n  }\n\n  // Check the tool name first\n  if (lowerName.includes('search') || lowerName.includes('web_search')) return TOOL_TYPES.SEARCH;\n  if (lowerName.includes('browser')) return TOOL_TYPES.BROWSER;\n  if (\n    lowerName.includes('command') ||\n    lowerName.includes('terminal') ||\n    lowerName === 'run_command'\n  )\n    return TOOL_TYPES.COMMAND;\n  if (lowerName.includes('file') || lowerName.includes('document')) return TOOL_TYPES.FILE;\n\n  // 检查内容是否是新格式的搜索结果\n  if (\n    Array.isArray(content) &&\n    content.some(\n      (item) => item.type === 'text' && (item.name === 'RESULTS' || item.name === 'QUERY'),\n    )\n  ) {\n    return TOOL_TYPES.SEARCH;\n  }\n\n  // 检查内容是否是新格式的浏览器导航结果\n  if (\n    Array.isArray(content) &&\n    content.some(\n      (item) => item.type === 'text' && item.text && item.text.startsWith('Navigated to'),\n    )\n  ) {\n    return TOOL_TYPES.BROWSER;\n  }\n\n  // Check if content contains image data\n  if (\n    content &&\n    ((typeof content === 'object' && content.type === 'image') ||\n      (typeof content === 'string' && content.startsWith('data:image/')))\n  ) {\n    return TOOL_TYPES.IMAGE;\n  }\n\n  // 检查内容是否是新格式的命令执行结果\n  if (\n    Array.isArray(content) &&\n    content.some(\n      (item) => item.type === 'text' && (item.name === 'STDOUT' || item.name === 'COMMAND'),\n    )\n  ) {\n    return TOOL_TYPES.COMMAND;\n  }\n\n  return TOOL_TYPES.OTHER;\n}\n\n/**\n * Agent TARS options interface\n * Simple version just for type checking\n */\ninterface AgentTARSOptions {\n  model?: {\n    provider?: string;\n    name?: string;\n    [key: string]: any;\n  };\n  browser?: {\n    control?: string;\n    [key: string]: any;\n  };\n  [key: string]: any;\n}\n\n/**\n * Merges command line options into loaded config\n * Prioritizes command line options over config file values\n */\nexport function mergeCommandLineOptions(\n  config: AgentTARSOptions,\n  options: Record<string, any>,\n): AgentTARSOptions {\n  // Create a copy of the config to avoid mutation\n  const mergedConfig: AgentTARSOptions = { ...config };\n\n  // ... 现有代码 ...\n\n  // Handle browser control mode\n  if (options.browserControl) {\n    if (!mergedConfig.browser) {\n      mergedConfig.browser = {};\n    }\n    mergedConfig.browser.control = options.browserControl;\n  }\n\n  // ... 现有代码 ...\n\n  return mergedConfig;\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtBA;AAEA;;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAMA;AAEA;AACA;AAMA;AACA;AAEA;AACA;AAMA;AACA;AAEA;AACA;AAKA;AACA;AAEA;AACA;AAMA;AACA;AAEA;AACA;AAmBA;;;AAGA;AAKA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA"}