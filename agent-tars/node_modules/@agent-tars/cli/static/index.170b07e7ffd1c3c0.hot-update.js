"use strict";
self["webpackHotUpdate_agent_tars_web_ui"]("index", {
"./src/entry.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870722
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/components/Chat/ChatPanel.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870708
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/components/Chat/Message/Message.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870735
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/components/Chat/MessageInput.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870721
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/components/Layout/Layout.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870721
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/components/Navbar/Navbar.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870710
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/v2/components/Workspace/Workspace.css": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
// extracted by css-extract-rspack-plugin

    if(true) {
      (function() {
        var localsJsonString = undefined;
        // 1749573870717
        var cssReload = (__webpack_require__("../node_modules/.pnpm/@rspack+core@1.3.9_@swc+helpers@0.5.17/node_modules/@rspack/core/dist/cssExtractHmr.js")/* .cssReload */.cssReload)(module.id, {});
        // only invalidate when locals change
        if (
          module.hot.data &&
          module.hot.data.value &&
          module.hot.data.value !== localsJsonString
        ) {
          module.hot.invalidate();
        } else {
          module.hot.accept();
        }
        module.hot.dispose(function(data) {
          data.value = localsJsonString;
          cssReload();
        });
      })();
    }
  

}),
"./src/entry.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var _entry_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./src/entry.css");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* ESM import */var react_dom_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js");
/* ESM import */var _v2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/index.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");





// Render the new v2 architecture with router support
react_dom_client__WEBPACK_IMPORTED_MODULE_3__.createRoot(document.getElementById('root')).render(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_2___default().StrictMode), {
    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_v2__WEBPACK_IMPORTED_MODULE_4__.AgentTARSWebUI, {}, void 0, false, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/entry.tsx",
        lineNumber: 10,
        columnNumber: 5
    }, undefined)
}, void 0, false, {
    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/entry.tsx",
    lineNumber: 9,
    columnNumber: 3
}, undefined));

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Chat/ChatPanel.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  ChatPanel: () => (ChatPanel)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var _Message_components_MessageGroup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/components/Chat/Message/components/MessageGroup.tsx");
/* ESM import */var _MessageInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/components/Chat/MessageInput.tsx");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var jotai__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("../node_modules/.pnpm/jotai@2.12.5_@types+react@18.3.23_react@18.3.1/node_modules/jotai/esm/react.mjs");
/* ESM import */var _state_atoms_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/state/atoms/ui.ts");
/* ESM import */var _state_atoms_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/state/atoms/message.ts");
/* ESM import */var _hooks_useReplay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/v2/hooks/useReplay.ts");
/* ESM import */var _state_atoms_replay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/v2/state/atoms/replay.ts");
/* ESM import */var _hooks_usePro__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/v2/hooks/usePro.ts");
/* ESM import */var _context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/v2/context/ReplayModeContext.tsx");
/* ESM import */var _ChatPanel_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/v2/components/Chat/ChatPanel.css");
/* ESM import */var _ResearchReportEntry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/v2/components/Chat/ResearchReportEntry.tsx");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("../node_modules/.pnpm/react-router@7.6.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router/dist/development/chunk-DQRVZFIR.mjs");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();
















/**
 * ChatPanel Component - Main chat interface
 *
 * Design principles:
 * - Clean, distraction-free message display area with ample whitespace
 * - Elegant loading indicators and status messages with subtle animations
 * - Visually distinct message bubbles with refined spacing
 * - Clear visual hierarchy through typography and subtle borders
 */ const ChatPanel = ()=>{
    _s();
    const { activeSessionId, isProcessing, connectionStatus, checkServerStatus } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const groupedMessages = (0,jotai__WEBPACK_IMPORTED_MODULE_13__.useAtomValue)(_state_atoms_message__WEBPACK_IMPORTED_MODULE_6__.groupedMessagesAtom);
    const allMessages = (0,jotai__WEBPACK_IMPORTED_MODULE_13__.useAtomValue)(_state_atoms_message__WEBPACK_IMPORTED_MODULE_6__.messagesAtom);
    const [offlineMode, setOfflineMode] = (0,jotai__WEBPACK_IMPORTED_MODULE_13__.useAtom)(_state_atoms_ui__WEBPACK_IMPORTED_MODULE_5__.offlineModeAtom);
    const [replayState] = (0,jotai__WEBPACK_IMPORTED_MODULE_13__.useAtom)(_state_atoms_replay__WEBPACK_IMPORTED_MODULE_8__.replayStateAtom);
    const isReplayMode = (0,_context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_10__.useReplayMode)();
    const { cancelAutoPlay } = (0,_hooks_useReplay__WEBPACK_IMPORTED_MODULE_7__.useReplay)();
    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const [showScrollButton, setShowScrollButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_14__.useLocation)();
    const isProMode = (0,_hooks_usePro__WEBPACK_IMPORTED_MODULE_9__.usePro)();
    // 使用当前会话的消息 - 这样与正常渲染保持一致
    // 回放模式下会通过 processEvent 来更新这些消息
    const activeMessages = activeSessionId ? groupedMessages[activeSessionId] || [] : [];
    // 检查滚动位置以确定是否显示滚动按钮
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        const checkScroll = ()=>{
            const container = messagesContainerRef.current;
            if (!container) return;
            const { scrollTop, scrollHeight, clientHeight } = container;
            const atBottom = Math.abs(scrollHeight - scrollTop - clientHeight) < 10;
            setShowScrollButton(!atBottom);
        };
        const container = messagesContainerRef.current;
        if (container) {
            container.addEventListener('scroll', checkScroll);
            return ()=>container.removeEventListener('scroll', checkScroll);
        }
    }, []);
    // Auto-scroll when new messages arrive
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (messagesEndRef.current && messagesContainerRef.current) {
            var _activeMessages__messages_;
            const container = messagesContainerRef.current;
            // Check if user is already at bottom
            const { scrollTop, scrollHeight, clientHeight } = container;
            const isAtBottom = Math.abs(scrollHeight - scrollTop - clientHeight) < 30;
            // Auto-scroll if at bottom or if new user message
            if (isAtBottom || activeMessages.length > 0 && ((_activeMessages__messages_ = activeMessages[activeMessages.length - 1].messages[0]) === null || _activeMessages__messages_ === void 0 ? void 0 : _activeMessages__messages_.role) === 'user') {
                setTimeout(()=>{
                    container.scrollTo({
                        top: container.scrollHeight,
                        behavior: 'smooth'
                    });
                }, 100);
            }
        }
    }, [
        activeMessages
    ]);
    const scrollToBottom = ()=>{
        if (messagesEndRef.current && messagesContainerRef.current) {
            messagesContainerRef.current.scrollTo({
                top: messagesContainerRef.current.scrollHeight,
                behavior: 'smooth'
            });
        }
    };
    // Animation variants
    const containerVariants = {
        hidden: {
            opacity: 0
        },
        visible: {
            opacity: 1,
            transition: {
                duration: 0.4,
                staggerChildren: 0.1
            }
        }
    };
    const itemVariants = {
        hidden: {
            opacity: 0,
            y: 20
        },
        visible: {
            opacity: 1,
            y: 0,
            transition: {
                duration: 0.4
            }
        }
    };
    // Add loading indicator component with improved visibility
    const renderLoadingIndicator = ()=>{
        if (!isProcessing) return null;
        // Determine if there are already messages to show a different style
        const hasMessages = activeSessionId && activeMessages.length > 0;
        if (!hasMessages) return null;
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
            initial: {
                opacity: 0,
                y: 10
            },
            animate: {
                opacity: 1,
                y: 0
            },
            className: "flex items-center gap-2 p-3 bg-white dark:bg-gray-800 rounded-3xl mb-4 border border-gray-100/40 dark:border-gray-700/20",
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "w-6 h-6 rounded-full bg-gray-100 dark:bg-gray-800 border border-gray-200/40 dark:border-gray-700/20 flex items-center justify-center",
                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "w-3 h-3 rounded-full bg-accent-500 animate-pulse"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 146,
                        columnNumber: 11
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                    lineNumber: 145,
                    columnNumber: 9
                }, undefined),
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                    className: "text-sm text-gray-600 dark:text-gray-300",
                    children: "Agent TARS is thinking..."
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                    lineNumber: 148,
                    columnNumber: 9
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
            lineNumber: 140,
            columnNumber: 7
        }, undefined);
    };
    const renderOfflineBanner = ()=>{
        if (connectionStatus.connected || !activeSessionId || isReplayMode) return null;
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
            initial: {
                opacity: 0,
                y: -10
            },
            animate: {
                opacity: 1,
                y: 0
            },
            className: "mb-4 px-4 py-3 bg-red-50/30 dark:bg-red-900/15 text-red-700 dark:text-red-300 text-sm rounded-xl",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "font-medium flex items-center",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_16__.FiWifiOff, {
                                        className: "mr-2 text-red-500 dark:text-red-400"
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                        lineNumber: 165,
                                        columnNumber: 15
                                    }, undefined),
                                    "Viewing in offline mode"
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 164,
                                columnNumber: 13
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "text-sm mt-1",
                                children: "You can view previous messages but cannot send new ones until reconnected."
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 168,
                                columnNumber: 13
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 163,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.button, {
                        whileHover: {
                            scale: 1.05
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: ()=>checkServerStatus(),
                        className: "ml-3 px-3 py-1.5 bg-red-100/70 dark:bg-red-800/30 hover:bg-red-200/70 dark:hover:bg-red-700/40 rounded-2xl text-sm font-medium transition-colors flex items-center border border-red-200/30 dark:border-red-700/30",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_16__.FiRefreshCw, {
                                className: `mr-1.5 ${connectionStatus.reconnecting ? 'animate-spin' : ''}`,
                                size: 14
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 178,
                                columnNumber: 13
                            }, undefined),
                            connectionStatus.reconnecting ? 'Reconnecting...' : 'Reconnect'
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 172,
                        columnNumber: 11
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                lineNumber: 162,
                columnNumber: 9
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
            lineNumber: 157,
            columnNumber: 7
        }, undefined);
    };
    // 新增：查找会话中的研究报告
    const findResearchReport = ()=>{
        if (!activeSessionId || !allMessages[activeSessionId]) return null;
        const sessionMessages = allMessages[activeSessionId];
        // 查找类型为 final_answer 且 isDeepResearch 为 true 的最后一条消息
        const reportMessage = [
            ...sessionMessages
        ].reverse().find((msg)=>(msg.role === 'final_answer' || msg.role === 'assistant') && msg.isDeepResearch === true && msg.title);
        return reportMessage;
    };
    const researchReport = findResearchReport();
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "flex flex-col h-full",
        children: !activeSessionId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
            initial: "hidden",
            animate: "visible",
            variants: containerVariants,
            className: "flex items-center justify-center flex-1",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "text-center p-6 max-w-md",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
                        variants: itemVariants,
                        className: "w-16 h-16 bg-white dark:bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-6 text-gray-500 dark:text-gray-400 border border-gray-100/50 dark:border-gray-700/20",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_16__.FiMessageSquare, {
                            size: 24
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 223,
                            columnNumber: 15
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 219,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.h2, {
                        variants: itemVariants,
                        className: "text-xl font-display font-bold mb-3 text-gray-800 dark:text-gray-200",
                        children: "Welcome to Agent TARS"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 225,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.p, {
                        variants: itemVariants,
                        className: "text-gray-600 dark:text-gray-400 mb-5 text-sm leading-relaxed",
                        children: "Create a new chat session to get started with the AI assistant."
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 231,
                        columnNumber: 13
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
                        variants: itemVariants,
                        whileHover: {
                            y: -2
                        },
                        className: "flex items-center p-4 bg-white dark:bg-gray-800 rounded-2xl mb-3 text-gray-600 dark:text-gray-400 text-sm border border-gray-100/40 dark:border-gray-700/20",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_16__.FiInfo, {
                                className: "mr-3 text-gray-400 flex-shrink-0"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 242,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                children: "TARS can help with tasks involving web search, browsing, and file operations."
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 243,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                        lineNumber: 237,
                        columnNumber: 13
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                lineNumber: 218,
                columnNumber: 11
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
            lineNumber: 212,
            columnNumber: 9
        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    ref: messagesContainerRef,
                    className: "flex-1 overflow-y-auto px-5 py-5 overflow-x-hidden min-h-0 chat-scrollbar relative",
                    children: [
                        renderOfflineBanner(),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_17__.AnimatePresence, {
                            children: !connectionStatus.connected && !activeSessionId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
                                initial: {
                                    opacity: 0,
                                    y: -10
                                },
                                animate: {
                                    opacity: 1,
                                    y: 0
                                },
                                exit: {
                                    opacity: 0,
                                    y: -10
                                },
                                className: "mb-4 px-4 py-3 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm rounded-3xl border border-gray-100/40 dark:border-gray-700/20",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "font-medium",
                                        children: "Server disconnected"
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                        lineNumber: 265,
                                        columnNumber: 19
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "text-sm mt-1",
                                        children: connectionStatus.reconnecting ? 'Attempting to reconnect...' : 'Please check your connection and try again.'
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                        lineNumber: 266,
                                        columnNumber: 19
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 259,
                                columnNumber: 17
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 257,
                            columnNumber: 13
                        }, undefined),
                        activeMessages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.div, {
                            initial: {
                                opacity: 0
                            },
                            animate: {
                                opacity: 1
                            },
                            transition: {
                                duration: 0.3
                            },
                            className: "flex items-center justify-center h-full",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "text-center p-6 max-w-md",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h3", {
                                        className: "text-lg font-display font-medium mb-2",
                                        children: replayState.isActive ? 'Replay starting...' : 'Start a conversation'
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                        lineNumber: 284,
                                        columnNumber: 19
                                    }, undefined),
                                    replayState.isActive && replayState.autoPlayCountdown !== null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "mt-2",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                                                className: "text-gray-600 dark:text-gray-400 text-sm mb-2",
                                                children: [
                                                    "Auto-play in ",
                                                    replayState.autoPlayCountdown,
                                                    " seconds..."
                                                ]
                                            }, void 0, true, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                                lineNumber: 289,
                                                columnNumber: 23
                                            }, undefined),
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.button, {
                                                whileHover: {
                                                    scale: 1.05
                                                },
                                                whileTap: {
                                                    scale: 0.95
                                                },
                                                onClick: cancelAutoPlay,
                                                className: "px-3 py-1.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200/50 dark:border-gray-700/30 flex items-center mx-auto",
                                                children: [
                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_16__.FiX, {
                                                        size: 12,
                                                        className: "mr-1.5"
                                                    }, void 0, false, {
                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                                        lineNumber: 298,
                                                        columnNumber: 25
                                                    }, undefined),
                                                    "Cancel auto-play"
                                                ]
                                            }, void 0, true, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                                lineNumber: 292,
                                                columnNumber: 23
                                            }, undefined)
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                        lineNumber: 288,
                                        columnNumber: 21
                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                                        className: "text-gray-600 dark:text-gray-400 text-sm",
                                        children: replayState.isActive ? 'Please wait while the replay loads or press play to begin' : 'Ask Agent TARS a question or provide a command to begin.'
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                        lineNumber: 303,
                                        columnNumber: 21
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 283,
                                columnNumber: 17
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 277,
                            columnNumber: 15
                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "space-y-6 pb-2",
                            children: activeMessages.map((group, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Message_components_MessageGroup__WEBPACK_IMPORTED_MODULE_3__.MessageGroup, {
                                    messages: group.messages,
                                    isThinking: isProcessing && !replayState.isActive && index === activeMessages.length - 1
                                }, `group-${index}-${group.messages[0].id}`, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                    lineNumber: 314,
                                    columnNumber: 19
                                }, undefined))
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 312,
                            columnNumber: 15
                        }, undefined),
                        renderLoadingIndicator(),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            ref: messagesEndRef
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 328,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                    lineNumber: 251,
                    columnNumber: 11
                }, undefined),
                !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "p-4",
                    children: [
                        researchReport && !isProcessing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "mb-4",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ResearchReportEntry__WEBPACK_IMPORTED_MODULE_12__.ResearchReportEntry, {
                                title: researchReport.title || 'Research Report',
                                timestamp: researchReport.timestamp,
                                content: typeof researchReport.content === 'string' ? researchReport.content : ''
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                                lineNumber: 337,
                                columnNumber: 19
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 336,
                            columnNumber: 17
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex justify-center gap-3 mb-3"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 348,
                            columnNumber: 15
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageInput__WEBPACK_IMPORTED_MODULE_4__.MessageInput, {
                            isDisabled: !activeSessionId || isProcessing || !connectionStatus.connected || isReplayMode,
                            onReconnect: checkServerStatus,
                            connectionStatus: connectionStatus
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                            lineNumber: 350,
                            columnNumber: 15
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
                    lineNumber: 333,
                    columnNumber: 13
                }, undefined)
            ]
        }, void 0, true)
    }, void 0, false, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/ChatPanel.tsx",
        lineNumber: 210,
        columnNumber: 5
    }, undefined);
};
_s(ChatPanel, "NFlbluBsgyhn25qQhbRYtaplr7I=", false, function() {
    return [
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        jotai__WEBPACK_IMPORTED_MODULE_13__.useAtomValue,
        jotai__WEBPACK_IMPORTED_MODULE_13__.useAtomValue,
        jotai__WEBPACK_IMPORTED_MODULE_13__.useAtom,
        jotai__WEBPACK_IMPORTED_MODULE_13__.useAtom,
        _context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_10__.useReplayMode,
        _hooks_useReplay__WEBPACK_IMPORTED_MODULE_7__.useReplay,
        react_router_dom__WEBPACK_IMPORTED_MODULE_14__.useLocation,
        _hooks_usePro__WEBPACK_IMPORTED_MODULE_9__.usePro
    ];
});
_c = ChatPanel;
var _c;
$RefreshReg$(_c, "ChatPanel");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Chat/Message/index.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  Message: () => (Message)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var _utils_typeGuards__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/utils/typeGuards.ts");
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var _hooks_useTool__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/hooks/useTool.tsx");
/* ESM import */var _Markdown__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/components/Markdown/index.tsx");
/* ESM import */var _Message_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/components/Chat/Message/Message.css");
/* ESM import */var _components_SystemMessage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/v2/components/Chat/Message/components/SystemMessage.tsx");
/* ESM import */var _components_EnvironmentMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/v2/components/Chat/Message/components/EnvironmentMessage.tsx");
/* ESM import */var _components_MultimodalContent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/v2/components/Chat/Message/components/MultimodalContent.tsx");
/* ESM import */var _components_AssistantExpandableContent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/v2/components/Chat/Message/components/AssistantExpandableContent.tsx");
/* ESM import */var _components_ToolCalls__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./src/v2/components/Chat/Message/components/ToolCalls.tsx");
/* ESM import */var _components_ThinkingToggle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./src/v2/components/Chat/Message/components/ThinkingToggle.tsx");
/* ESM import */var _components_MessageTimestamp__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./src/v2/components/Chat/Message/components/MessageTimestamp.tsx");
/* ESM import */var jotai__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("../node_modules/.pnpm/jotai@2.12.5_@types+react@18.3.23_react@18.3.1/node_modules/jotai/esm/react.mjs");
/* ESM import */var _state_atoms_replay__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./src/v2/state/atoms/replay.ts");
/* ESM import */var _components_ReportFileEntry__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./src/v2/components/Chat/Message/components/ReportFileEntry.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();







// Import sub-components










/**
 * Message Component - Displays a single message in the chat
 *
 * Design principles:
 * - Minimalist black & white design with no avatars
 * - Clean, full-width message bubbles with subtle differentiation
 * - Focus on content with minimal visual distractions
 * - Elegant spacing and typography
 * - Progressive disclosure for detailed content
 */ const Message = (param)=>{
    let { message, isIntermediate = false, isInGroup = false, shouldDisplayTimestamp = true } = param;
    _s();
    console.log('message', message);
    const [showThinking, setShowThinking] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showSteps, setShowSteps] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const { setActivePanelContent } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_3__.useSession)();
    const { getToolIcon } = (0,_hooks_useTool__WEBPACK_IMPORTED_MODULE_4__.useTool)();
    const replayState = (0,jotai__WEBPACK_IMPORTED_MODULE_16__.useAtomValue)(_state_atoms_replay__WEBPACK_IMPORTED_MODULE_14__.replayStateAtom);
    const isMultimodal = (0,_utils_typeGuards__WEBPACK_IMPORTED_MODULE_2__.isMultimodalContent)(message.content);
    const isEnvironment = message.role === 'environment';
    const isUserMessage = message.role === 'user';
    console.log('message.role', message);
    const isFinalAnswer = message.role === 'final_answer' || message.isDeepResearch;
    // Handle tool call click - show in panel
    const handleToolCallClick = (toolCall)=>{
        if (message.toolResults && message.toolResults.length > 0) {
            const result = message.toolResults.find((r)=>r.toolCallId === toolCall.id);
            if (result) {
                setActivePanelContent({
                    type: result.type,
                    source: result.content,
                    title: result.name,
                    timestamp: result.timestamp,
                    toolCallId: result.toolCallId,
                    error: result.error,
                    arguments: result.arguments
                });
            }
        }
    };
    // Render content based on type
    const renderContent = ()=>{
        if (isMultimodal) {
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MultimodalContent__WEBPACK_IMPORTED_MODULE_9__.MultimodalContent, {
                content: message.content,
                timestamp: message.timestamp,
                setActivePanelContent: setActivePanelContent
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                lineNumber: 82,
                columnNumber: 9
            }, undefined);
        }
        // For assistant messages with tool calls, first show summary
        if (message.role === 'assistant' && message.toolCalls && message.toolCalls.length > 0) {
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AssistantExpandableContent__WEBPACK_IMPORTED_MODULE_10__.AssistantExpandableContent, {
                content: message.content,
                showSteps: showSteps,
                setShowSteps: setShowSteps
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                lineNumber: 93,
                columnNumber: 9
            }, undefined);
        }
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Markdown__WEBPACK_IMPORTED_MODULE_5__.MarkdownRenderer, {
            content: message.content,
            forceDarkTheme: isUserMessage
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
            lineNumber: 101,
            columnNumber: 12
        }, undefined);
    };
    // Message animation variants
    const messageVariants = {
        initial: {
            opacity: 0,
            y: 10
        },
        animate: {
            opacity: 1,
            y: 0
        },
        transition: {
            duration: 0.3
        }
    };
    // Determine message bubble style based on role and state
    const getMessageBubbleClasses = ()=>{
        if (message.role === 'user') {
            if (isImageOnlyMessage) {
                return 'message-user message-user-image';
            }
            return 'message-user';
        } else if (message.role === 'system') {
            return 'message-system';
        } else if (message.role === 'environment') {
            return 'environment-message-minimal';
        } else {
            return 'message-assistant';
        }
    };
    // 检查消息是否只包含图片（用于样式优化）
    const isImageOnlyMessage = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{
        if (!(0,_utils_typeGuards__WEBPACK_IMPORTED_MODULE_2__.isMultimodalContent)(message.content)) return false;
        const imageContents = message.content.filter((part)=>part.type === 'image_url');
        const textContents = message.content.filter((part)=>part.type === 'text');
        return imageContents.length > 0 && textContents.length === 0;
    }, [
        message.content
    ]);
    // 检查消息是否只包含文本（用于样式优化）
    const isTextOnlyMessage = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{
        if (!(0,_utils_typeGuards__WEBPACK_IMPORTED_MODULE_2__.isMultimodalContent)(message.content)) return true;
        const imageContents = message.content.filter((part)=>part.type === 'image_url');
        const textContents = message.content.filter((part)=>part.type === 'text');
        return textContents.length > 0 && imageContents.length === 0;
    }, [
        message.content
    ]);
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_17__.motion.div, {
        initial: "initial",
        animate: "animate",
        variants: messageVariants,
        className: `message-container ${message.role === 'user' ? 'message-container-user' : 'message-container-assistant'} ${isIntermediate ? 'message-container-intermediate' : ''}`,
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: `message-bubble ${getMessageBubbleClasses()} ${isIntermediate ? 'message-bubble-intermediate' : ''}`,
                children: message.role === 'system' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SystemMessage__WEBPACK_IMPORTED_MODULE_7__.SystemMessage, {
                    content: message.content
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                    lineNumber: 159,
                    columnNumber: 11
                }, undefined) : message.role === 'environment' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EnvironmentMessage__WEBPACK_IMPORTED_MODULE_8__.EnvironmentMessage, {
                    content: message.content,
                    description: message.description,
                    timestamp: message.timestamp,
                    setActivePanelContent: setActivePanelContent,
                    isIntermediate: isIntermediate
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                    lineNumber: 161,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "prose dark:prose-invert prose-sm max-w-none text-sm",
                            children: renderContent()
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                            lineNumber: 170,
                            columnNumber: 13
                        }, undefined),
                        isFinalAnswer && message.title && typeof message.content === 'string' && !isIntermediate && !isInGroup && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ReportFileEntry__WEBPACK_IMPORTED_MODULE_15__.ReportFileEntry, {
                            title: message.title || 'Research Report',
                            timestamp: message.timestamp,
                            content: message.content
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                            lineNumber: 180,
                            columnNumber: 17
                        }, undefined),
                        message.toolCalls && message.toolCalls.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ToolCalls__WEBPACK_IMPORTED_MODULE_11__.ToolCalls, {
                            toolCalls: message.toolCalls,
                            onToolCallClick: handleToolCallClick,
                            getToolIcon: getToolIcon,
                            isIntermediate: isIntermediate
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                            lineNumber: 189,
                            columnNumber: 15
                        }, undefined),
                        message.thinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ThinkingToggle__WEBPACK_IMPORTED_MODULE_12__.ThinkingToggle, {
                            thinking: message.thinking,
                            showThinking: showThinking,
                            setShowThinking: setShowThinking
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                            lineNumber: 199,
                            columnNumber: 15
                        }, undefined)
                    ]
                }, void 0, true)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                lineNumber: 154,
                columnNumber: 7
            }, undefined),
            message.role !== 'system' && !isIntermediate && !isInGroup && shouldDisplayTimestamp && !replayState.isActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MessageTimestamp__WEBPACK_IMPORTED_MODULE_13__.MessageTimestamp, {
                timestamp: message.timestamp,
                content: message.content,
                role: message.role
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
                lineNumber: 215,
                columnNumber: 11
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/Message/index.tsx",
        lineNumber: 148,
        columnNumber: 5
    }, undefined);
};
_s(Message, "Eodh7VbPKNVSRLGFoSdclR/xUf0=", false, function() {
    return [
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_3__.useSession,
        _hooks_useTool__WEBPACK_IMPORTED_MODULE_4__.useTool,
        jotai__WEBPACK_IMPORTED_MODULE_16__.useAtomValue
    ];
});
_c = Message;
var _c;
$RefreshReg$(_c, "Message");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Chat/MessageInput.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  MessageInput: () => (MessageInput)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var _hooks_usePlan__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/hooks/usePlan.ts");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/react-router@7.6.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router/dist/development/chunk-DQRVZFIR.mjs");
/* ESM import */var _MessageInput_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/components/Chat/MessageInput.css");
/* ESM import */var _v2_hooks_usePro__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/hooks/usePro.ts");
/* ESM import */var _ImagePreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/components/Chat/ImagePreview.tsx");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();









/**
 * MessageInput Component - Input for sending messages
 */ const MessageInput = (param)=>{
    let { isDisabled = false, onReconnect, connectionStatus } = param;
    _s();
    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isAborting, setIsAborting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isFocused, setIsFocused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [uploadedImages, setUploadedImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.useLocation)();
    const { sendMessage, isProcessing, abortQuery, activeSessionId, checkSessionStatus, setActivePanelContent } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const isProMode = (0,_v2_hooks_usePro__WEBPACK_IMPORTED_MODULE_5__.usePro)();
    const { currentPlan } = (0,_hooks_usePlan__WEBPACK_IMPORTED_MODULE_3__.usePlan)(activeSessionId);
    // Process query from URL parameters on component mount
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        const searchParams = new URLSearchParams(location.search);
        const query = searchParams.get('q');
        if (query && !isProcessing && activeSessionId) {
            setInput(query);
            // Submit the query automatically
            const submitQuery = async ()=>{
                try {
                    await sendMessage(query);
                    // Clear input after sending
                    setInput('');
                } catch (error) {
                    console.error('Failed to send message:', error);
                }
            };
            submitQuery();
        }
    }, [
        location.search,
        activeSessionId,
        isProcessing,
        sendMessage
    ]);
    // Ensure processing state is handled correctly
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (activeSessionId && (connectionStatus === null || connectionStatus === void 0 ? void 0 : connectionStatus.connected)) {
            // Initial check of session status
            checkSessionStatus(activeSessionId);
            // If session status changes, increase polling
            const intervalId = setInterval(()=>{
                checkSessionStatus(activeSessionId);
            }, 2000); // Check status every 2 seconds
            return ()=>clearInterval(intervalId);
        }
    }, [
        activeSessionId,
        connectionStatus === null || connectionStatus === void 0 ? void 0 : connectionStatus.connected,
        checkSessionStatus
    ]);
    const handleSubmit = async (e)=>{
        e.preventDefault();
        if (!input.trim() && uploadedImages.length === 0 || isDisabled) return;
        // Immediately clear input field, don't wait for message to be sent
        const messageToSend = input.trim();
        setInput('');
        // Build multimodal content if there are images
        const messageContent = uploadedImages.length > 0 ? [
            ...uploadedImages,
            ...messageToSend ? [
                {
                    type: 'text',
                    text: messageToSend
                }
            ] : []
        ] : messageToSend;
        // Clear uploaded images
        setUploadedImages([]);
        // Reset textarea height immediately
        if (inputRef.current) {
            inputRef.current.style.height = 'auto';
        }
        try {
            // Use previously saved message content to send
            await sendMessage(messageContent);
        } catch (error) {
            console.error('Failed to send message:', error);
        }
    };
    // Modified to not trigger send on Enter
    const handleKeyDown = (e)=>{
        // Ctrl+Enter as optional shortcut to send
        if (e.key === 'Enter' && e.ctrlKey) {
            e.preventDefault();
            handleSubmit(e);
        }
    };
    const handleAbort = async ()=>{
        if (!isProcessing) return;
        setIsAborting(true);
        try {
            await abortQuery();
        } catch (error) {
            console.error('Failed to abort:', error);
        } finally{
            setIsAborting(false);
        }
    };
    // Adjust textarea height based on content
    const handleInput = (e)=>{
        const target = e.target;
        setInput(target.value);
        // Reset height to recalculate proper scrollHeight
        target.style.height = 'auto';
        // Set to scrollHeight but max 200px
        target.style.height = `${Math.min(target.scrollHeight, 200)}px`;
    };
    // Auto-focus input when available
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (!isDisabled && inputRef.current) {
            inputRef.current.focus();
        }
    }, [
        isDisabled
    ]);
    // Dummy handler for file upload button
    const handleFileUpload = ()=>{
        if (fileInputRef.current) {
            fileInputRef.current.click();
        }
    };
    // Handle file selection
    const handleFileChange = (e)=>{
        const files = e.target.files;
        if (!files || files.length === 0) return;
        Array.from(files).forEach((file)=>{
            if (!file.type.startsWith('image/')) return;
            const reader = new FileReader();
            reader.onload = (event)=>{
                var _event_target;
                if ((_event_target = event.target) === null || _event_target === void 0 ? void 0 : _event_target.result) {
                    const newImage = {
                        type: 'image_url',
                        image_url: {
                            url: event.target.result,
                            detail: 'auto'
                        }
                    };
                    setUploadedImages((prev)=>[
                            ...prev,
                            newImage
                        ]);
                }
            };
            reader.readAsDataURL(file);
        });
        // Reset the input so the same file can be selected again
        if (fileInputRef.current) {
            fileInputRef.current.value = '';
        }
    };
    // Remove an image from the uploaded images list
    const handleRemoveImage = (index)=>{
        setUploadedImages((prev)=>prev.filter((_, i)=>i !== index));
    };
    // 添加一个查看计划按钮
    const renderPlanButton = ()=>{
        // 只在实际有计划且计划已经生成时显示按钮
        if (!currentPlan || !currentPlan.hasGeneratedPlan || currentPlan.steps.length === 0) return null;
        const completedSteps = currentPlan.steps.filter((step)=>step.done).length;
        const totalSteps = currentPlan.steps.length;
        const isComplete = currentPlan.isComplete;
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {
            initial: {
                opacity: 0,
                scale: 0.8
            },
            animate: {
                opacity: 1,
                scale: 1
            },
            exit: {
                opacity: 0,
                scale: 0.8
            },
            whileTap: {
                scale: 0.9
            },
            whileHover: {
                scale: 1.05,
                y: -2
            },
            onClick: ()=>setActivePanelContent({
                    type: 'plan',
                    source: null,
                    title: 'Task Plan',
                    timestamp: Date.now()
                }),
            className: "flex items-center gap-1 px-3 py-1 text-xs font-medium rounded-full bg-white/80 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200/50 dark:border-gray-700/30 hover:bg-white hover:border-gray-300/50 dark:hover:bg-gray-700/50 dark:hover:border-gray-600/50 transition-all duration-200 shadow-sm",
            children: [
                isComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiCpu, {
                    size: 12,
                    className: "mr-0.5 text-green-500 dark:text-green-400"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                    lineNumber: 233,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiCpu, {
                    size: 12,
                    className: "mr-0.5 text-accent-500 dark:text-accent-400 animate-pulse"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                    lineNumber: 235,
                    columnNumber: 11
                }, undefined),
                "View Plan",
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                    className: `ml-1 px-1.5 py-0.5 rounded-full ${isComplete ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400' : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300'} text-[10px]`,
                    children: [
                        completedSteps,
                        "/",
                        totalSteps
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                    lineNumber: 238,
                    columnNumber: 9
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
            lineNumber: 216,
            columnNumber: 7
        }, undefined);
    };
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("form", {
        onSubmit: handleSubmit,
        className: "relative",
        children: [
            isProMode && currentPlan && currentPlan.hasGeneratedPlan && currentPlan.steps.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex justify-center mb-3",
                children: renderPlanButton()
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                lineNumber: 255,
                columnNumber: 9
            }, undefined),
            uploadedImages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "mb-3 flex flex-wrap gap-2",
                children: uploadedImages.map((image, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ImagePreview__WEBPACK_IMPORTED_MODULE_6__.ImagePreview, {
                        image: image,
                        onRemove: ()=>handleRemoveImage(index)
                    }, index, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                        lineNumber: 262,
                        columnNumber: 13
                    }, undefined))
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                lineNumber: 260,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: `relative overflow-hidden rounded-3xl transition-all duration-300 ${isFocused ? 'shadow-md' : ''}`,
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: `absolute inset-0 bg-gradient-to-r ${isFocused || input.trim() || uploadedImages.length > 0 ? 'from-indigo-500 via-purple-500 to-pink-500 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 animate-border-flow' : 'from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700'} bg-[length:200%_200%] ${isFocused ? 'opacity-100' : 'opacity-70'}`
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                        lineNumber: 274,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: `relative m-[2px] rounded-[1.4rem] bg-white dark:bg-gray-800 backdrop-blur-sm ${isDisabled ? 'opacity-90' : ''}`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("textarea", {
                                ref: inputRef,
                                value: input,
                                onChange: handleInput,
                                onKeyDown: handleKeyDown,
                                onFocus: ()=>setIsFocused(true),
                                onBlur: ()=>setIsFocused(false),
                                placeholder: connectionStatus && !connectionStatus.connected ? 'Server disconnected...' : isProcessing ? 'Agent TARS is thinking...' : 'Ask Agent TARS something... (Ctrl+Enter to send)',
                                disabled: isDisabled,
                                className: "w-full px-5 pt-4 pb-10 focus:outline-none resize-none min-h-[90px] max-h-[200px] bg-transparent text-sm leading-relaxed rounded-[1.4rem]",
                                rows: 2
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                lineNumber: 288,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "absolute left-3 bottom-2 flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {
                                        whileHover: {
                                            scale: 1.05
                                        },
                                        whileTap: {
                                            scale: 0.95
                                        },
                                        type: "button",
                                        onClick: handleFileUpload,
                                        disabled: isDisabled || isProcessing,
                                        className: `p-2 rounded-full transition-colors ${isDisabled || isProcessing ? 'text-gray-300 dark:text-gray-600 cursor-not-allowed' : 'text-gray-400 hover:text-accent-500 hover:bg-gray-50 dark:hover:bg-gray-700/30 dark:text-gray-400'}`,
                                        title: "Attach image",
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiImage, {
                                            size: 18
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                            lineNumber: 322,
                                            columnNumber: 15
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                        lineNumber: 309,
                                        columnNumber: 13
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("input", {
                                        type: "file",
                                        ref: fileInputRef,
                                        onChange: handleFileChange,
                                        accept: "image/*",
                                        multiple: true,
                                        className: "hidden",
                                        disabled: isDisabled || isProcessing
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                        lineNumber: 324,
                                        columnNumber: 13
                                    }, undefined)
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                lineNumber: 308,
                                columnNumber: 11
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.AnimatePresence, {
                                mode: "wait",
                                children: connectionStatus && !connectionStatus.connected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {
                                    initial: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    animate: {
                                        opacity: 1,
                                        scale: 1
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    whileHover: {
                                        scale: 1.05
                                    },
                                    type: "button",
                                    onClick: onReconnect,
                                    className: "absolute right-3 bottom-2 p-2 rounded-full text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/30 dark:text-gray-400 transition-all duration-200",
                                    title: "Try to reconnect",
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiRefreshCw, {
                                        size: 20,
                                        className: connectionStatus.reconnecting ? 'animate-spin' : ''
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                        lineNumber: 349,
                                        columnNumber: 17
                                    }, undefined)
                                }, "reconnect", false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                    lineNumber: 337,
                                    columnNumber: 15
                                }, undefined) : isProcessing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {
                                    initial: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    animate: {
                                        opacity: 1,
                                        scale: 1
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    whileHover: {
                                        scale: 1.05
                                    },
                                    type: "button",
                                    onClick: handleAbort,
                                    disabled: isAborting,
                                    className: `absolute right-3 bottom-2 p-2 rounded-full ${isAborting ? 'text-gray-300 dark:text-gray-600 cursor-not-allowed' : 'text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/30 dark:text-gray-400'} transition-all duration-200`,
                                    title: "Abort current operation",
                                    children: isAborting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiLoader, {
                                        className: "animate-spin",
                                        size: 20
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                        lineNumber: 372,
                                        columnNumber: 31
                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiX, {
                                        size: 20
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                        lineNumber: 372,
                                        columnNumber: 81
                                    }, undefined)
                                }, "abort", false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                    lineNumber: 355,
                                    columnNumber: 15
                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.button, {
                                    initial: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    animate: {
                                        opacity: 1,
                                        scale: 1
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.8
                                    },
                                    whileTap: {
                                        scale: 0.9
                                    },
                                    whileHover: {
                                        scale: 1.05
                                    },
                                    type: "submit",
                                    disabled: !input.trim() && uploadedImages.length === 0 || isDisabled,
                                    className: `absolute right-3 bottom-2 p-3 rounded-full ${!input.trim() && uploadedImages.length === 0 || isDisabled ? 'bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed' : 'bg-gradient-to-r from-indigo-500 to-purple-500 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 text-white shadow-sm'} transition-all duration-200`,
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiSend, {
                                        size: 18
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                        lineNumber: 390,
                                        columnNumber: 17
                                    }, undefined)
                                }, "send", false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                    lineNumber: 375,
                                    columnNumber: 15
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                lineNumber: 335,
                                columnNumber: 11
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                        lineNumber: 283,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                lineNumber: 268,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex justify-center mt-2 text-xs",
                children: connectionStatus && !connectionStatus.connected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.span, {
                    initial: {
                        opacity: 0.7
                    },
                    animate: {
                        opacity: 1
                    },
                    className: "text-red-500 dark:text-red-400 flex items-center font-medium",
                    children: connectionStatus.reconnecting ? 'Attempting to reconnect...' : 'Server disconnected. Click the button to reconnect.'
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                    lineNumber: 399,
                    columnNumber: 11
                }, undefined) : isProcessing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.span, {
                    initial: {
                        opacity: 0.7
                    },
                    whileHover: {
                        opacity: 1
                    },
                    className: "text-accent-500 dark:text-accent-400 flex items-center",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "typing-indicator mr-2",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {}, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                    lineNumber: 415,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {}, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                    lineNumber: 416,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {}, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                                    lineNumber: 417,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                            lineNumber: 414,
                            columnNumber: 13
                        }, undefined),
                        "Agent is processing your request..."
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                    lineNumber: 409,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.span, {
                    initial: {
                        opacity: 0.7
                    },
                    whileHover: {
                        opacity: 1
                    },
                    className: "text-gray-500 dark:text-gray-400 transition-opacity",
                    children: "Use Ctrl+Enter to quickly send"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                    lineNumber: 422,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
                lineNumber: 397,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Chat/MessageInput.tsx",
        lineNumber: 252,
        columnNumber: 5
    }, undefined);
};
_s(MessageInput, "IRJJFPCpbtNPsa5fTP9VBthSKNs=", false, function() {
    return [
        react_router_dom__WEBPACK_IMPORTED_MODULE_7__.useLocation,
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        _v2_hooks_usePro__WEBPACK_IMPORTED_MODULE_5__.usePro,
        _hooks_usePlan__WEBPACK_IMPORTED_MODULE_3__.usePlan
    ];
});
_c = MessageInput;
var _c;
$RefreshReg$(_c, "MessageInput");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Layout/index.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  Layout: () => (Layout)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _Sidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/components/Sidebar/index.tsx");
/* ESM import */var _Chat_ChatPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/components/Chat/ChatPanel.tsx");
/* ESM import */var _Workspace_WorkspacePanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/components/Workspace/WorkspacePanel.tsx");
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var _Common_Shell__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/components/Common/Shell.tsx");
/* ESM import */var _context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/v2/context/ReplayModeContext.tsx");
/* ESM import */var _Navbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/v2/components/Navbar/index.ts");
/* ESM import */var _Layout_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/v2/components/Layout/Layout.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();










/**
 * Layout Component - Main application layout
 *
 * Design principles:
 * - Clean, minimalist aesthetic with refined borders and subtle shadows
 * - Neutral color palette with elegant accent colors
 * - Consistent spacing and typography for optimal readability
 * - Seamless visual flow between different interface elements
 * - Adapts layout based on replay mode status
 */ const Layout = (param)=>{
    let { isReplayMode: propIsReplayMode } = param;
    _s();
    const { connectionStatus } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_5__.useSession)();
    // Use the context hook to get global replay mode status
    const contextIsReplayMode = (0,_context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_7__.useReplayMode)();
    // Prioritize props for backward compatibility, but fall back to context
    const isReplayMode = propIsReplayMode !== undefined ? propIsReplayMode : contextIsReplayMode;
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "flex flex-col h-screen bg-[#F2F3F5] dark:bg-white/5 text-gray-900 dark:text-gray-100 overflow-hidden",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Navbar__WEBPACK_IMPORTED_MODULE_8__.Navbar, {}, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                lineNumber: 38,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex flex-1 overflow-hidden",
                children: [
                    !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Sidebar__WEBPACK_IMPORTED_MODULE_2__.Sidebar, {}, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                        lineNumber: 43,
                        columnNumber: 27
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "flex-1 flex flex-col overflow-hidden p-2 lg:p-3",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex gap-3 flex-1 min-h-0",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {
                                    layout: true,
                                    className: isReplayMode ? 'w-[50%] flex flex-col' : 'w-[50%] flex flex-col',
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Common_Shell__WEBPACK_IMPORTED_MODULE_6__.Shell, {
                                        className: "h-full rounded-xl bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-[#E5E6EC] dark:border-none bg-[#FFFFFFE5] dark:shadow-gray-950/5",
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Chat_ChatPanel__WEBPACK_IMPORTED_MODULE_3__.ChatPanel, {}, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                                            lineNumber: 55,
                                            columnNumber: 17
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                                        lineNumber: 54,
                                        columnNumber: 15
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                                    lineNumber: 50,
                                    columnNumber: 13
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.motion.div, {
                                    layout: true,
                                    className: "w-[50%] flex flex-col",
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Common_Shell__WEBPACK_IMPORTED_MODULE_6__.Shell, {
                                        className: "h-full rounded-xl bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-[#E5E6EC] dark:border-none bg-[#FFFFFFE5] dark:shadow-gray-950/5",
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Workspace_WorkspacePanel__WEBPACK_IMPORTED_MODULE_4__.WorkspacePanel, {}, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                                            lineNumber: 62,
                                            columnNumber: 17
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                                        lineNumber: 61,
                                        columnNumber: 15
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                                    lineNumber: 60,
                                    columnNumber: 13
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                            lineNumber: 48,
                            columnNumber: 11
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                        lineNumber: 46,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
                lineNumber: 41,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Layout/index.tsx",
        lineNumber: 36,
        columnNumber: 5
    }, undefined);
};
_s(Layout, "hkEabS0Ud9tWV4KRmEeXA7jL0K4=", false, function() {
    return [
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_5__.useSession,
        _context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_7__.useReplayMode
    ];
});
_c = Layout;
var _c;
$RefreshReg$(_c, "Layout");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Markdown/MarkdownRenderer.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  MarkdownRenderer: () => (MarkdownRenderer)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var react_markdown__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/react-markdown@8.0.7_@types+react@18.3.23_react@18.3.1/node_modules/react-markdown/lib/react-markdown.js");
/* ESM import */var remark_gfm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("../node_modules/.pnpm/remark-gfm@3.0.1/node_modules/remark-gfm/index.js");
/* ESM import */var rehype_raw__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("../node_modules/.pnpm/rehype-raw@7.0.0/node_modules/rehype-raw/lib/index.js");
/* ESM import */var remark_github_blockquote_alert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("../node_modules/.pnpm/remark-github-blockquote-alert@1.3.0/node_modules/remark-github-blockquote-alert/lib/index.js");
/* ESM import */var rehype_highlight__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("../node_modules/.pnpm/rehype-highlight@7.0.2/node_modules/rehype-highlight/lib/index.js");
/* ESM import */var _headlessui_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("../node_modules/.pnpm/@headlessui+react@1.7.19_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@headlessui/react/dist/components/dialog/dialog.js");
/* ESM import */var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("../node_modules/.pnpm/react-router@7.6.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router/dist/development/chunk-DQRVZFIR.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var _HeaderAnchor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/components/Markdown/HeaderAnchor.tsx");
/* ESM import */var _CodeBlock__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/components/Markdown/CodeBlock.tsx");
/* ESM import */var highlight_js_styles_github_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/styles/github.css");
/* ESM import */var remark_github_blockquote_alert_alert_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("../node_modules/.pnpm/remark-github-blockquote-alert@1.3.0/node_modules/remark-github-blockquote-alert/alert.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();













/**
 * MarkdownRenderer component
 * Renders markdown content with custom styling and enhanced functionality
 */ const MarkdownRenderer = (param)=>{
    let { content, publishDate, author, className = '', forceDarkTheme = false } = param;
    _s();
    const [openImage, setOpenImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [imageLoaded, setImageLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [renderError, setRenderError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    // Add a ref to track if we've rendered the first h1
    const firstH1Ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);
    const handleImageClick = (src)=>{
        setOpenImage(src);
        setImageLoaded(false);
    };
    const handleCloseModal = ()=>{
        setOpenImage(null);
    };
    // Handle hash navigation on page load
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (window.location.hash) {
            const id = window.location.hash.substring(1);
            const element = document.getElementById(id);
            if (element) {
                // Use setTimeout to ensure page is fully rendered before scrolling
                setTimeout(()=>{
                    element.scrollIntoView({
                        behavior: 'smooth'
                    });
                }, 100);
            }
        }
    }, [
        content
    ]); // Re-check when content changes
    // Reset the first h1 flag when content changes
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        firstH1Ref.current = false;
        setRenderError(null); // Reset any previous errors when content changes
    }, [
        content
    ]);
    // If there was a rendering error, show a fallback
    if (renderError) {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "p-3 border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/30 rounded-md text-amber-800 dark:text-amber-200",
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                    className: "font-medium mb-1",
                    children: "Markdown rendering error:"
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 73,
                    columnNumber: 9
                }, undefined),
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("pre", {
                    className: "text-xs overflow-auto",
                    children: content
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 74,
                    columnNumber: 9
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
            lineNumber: 72,
            columnNumber: 7
        }, undefined);
    }
    // Determine the theme class based on the forceDarkTheme prop
    const themeClass = forceDarkTheme ? 'dark' : '';
    const components = {
        h1: (param)=>{
            let { node, children, ...props } = param;
            // Generate ID from heading text for anchor links
            const id = children === null || children === void 0 ? void 0 : children.toString().toLowerCase().replace(/[^\w\s]/g, '').replace(/\s+/g, '-');
            // Check if this is the first h1 and set the flag
            const isFirstH1 = !firstH1Ref.current;
            if (isFirstH1) {
                firstH1Ref.current = true;
            }
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h1", {
                        id: id,
                        className: "group text-4xl font-bold mb-2 pb-2 border-b border-white/10 bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent scroll-mt-20 flex items-center",
                        ...props,
                        children: [
                            children,
                            id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HeaderAnchor__WEBPACK_IMPORTED_MODULE_2__.HeaderAnchor, {
                                id: id
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                                lineNumber: 105,
                                columnNumber: 20
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                        lineNumber: 99,
                        columnNumber: 11
                    }, undefined),
                    isFirstH1 && (publishDate || author) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "flex items-center gap-1 mb-6 text-sm text-gray-400 mb-10",
                        children: [
                            publishDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                children: publishDate
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                                lineNumber: 111,
                                columnNumber: 31
                            }, undefined),
                            author && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                children: [
                                    publishDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                        children: "\u2022"
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                                        lineNumber: 114,
                                        columnNumber: 35
                                    }, undefined),
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                        children: author
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                                        lineNumber: 115,
                                        columnNumber: 19
                                    }, undefined)
                                ]
                            }, void 0, true)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                        lineNumber: 110,
                        columnNumber: 13
                    }, undefined)
                ]
            }, void 0, true);
        },
        h2: (param)=>{
            let { node, children, ...props } = param;
            const id = children === null || children === void 0 ? void 0 : children.toString().toLowerCase().replace(/[^\w\s]/g, '').replace(/\s+/g, '-');
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h2", {
                id: id,
                className: "group text-3xl font-bold mt-12 mb-4 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent scroll-mt-20 flex items-center",
                ...props,
                children: [
                    children,
                    id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HeaderAnchor__WEBPACK_IMPORTED_MODULE_2__.HeaderAnchor, {
                        id: id
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                        lineNumber: 136,
                        columnNumber: 18
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 130,
                columnNumber: 9
            }, undefined);
        },
        h3: (param)=>{
            let { node, children, ...props } = param;
            const id = children === null || children === void 0 ? void 0 : children.toString().toLowerCase().replace(/[^\w\s]/g, '').replace(/\s+/g, '-');
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h3", {
                id: id,
                className: "group text-2xl font-semibold mt-8 mb-3 text-gray-800 dark:text-gray-200 scroll-mt-20 flex items-center",
                ...props,
                children: [
                    children,
                    id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HeaderAnchor__WEBPACK_IMPORTED_MODULE_2__.HeaderAnchor, {
                        id: id
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                        lineNumber: 153,
                        columnNumber: 18
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 147,
                columnNumber: 9
            }, undefined);
        },
        h4: (param)=>{
            let { node, children, ...props } = param;
            const id = children === null || children === void 0 ? void 0 : children.toString().toLowerCase().replace(/[^\w\s]/g, '').replace(/\s+/g, '-');
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h4", {
                id: id,
                className: "group text-xl font-semibold mt-6 mb-2 text-white/80 scroll-mt-20 flex items-center",
                ...props,
                children: [
                    children,
                    id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_HeaderAnchor__WEBPACK_IMPORTED_MODULE_2__.HeaderAnchor, {
                        id: id
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                        lineNumber: 170,
                        columnNumber: 18
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 164,
                columnNumber: 9
            }, undefined);
        },
        p: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                className: "my-0 text-gray-800 dark:text-gray-200 leading-relaxed",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 175,
                columnNumber: 7
            }, undefined);
        },
        a: (param)=>{
            let { node, href, ...props } = param;
            // Handle three types of links:
            // 1. Hash links (#section)
            // 2. Internal path links (/path)
            // 3. External links (https://...)
            if (href && href.startsWith('#')) {
                // Hash links - use smooth scrolling
                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("a", {
                    href: href,
                    className: "text-blue-400 hover:text-blue-300 transition-colors underline underline-offset-2",
                    onClick: (e)=>{
                        e.preventDefault();
                        // Find target element and scroll into view
                        const element = document.getElementById(href.substring(1));
                        if (element) {
                            element.scrollIntoView({
                                behavior: 'smooth'
                            });
                            // Update URL without page reload
                            window.history.pushState(null, '', href);
                        }
                    },
                    ...props
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 186,
                    columnNumber: 11
                }, undefined);
            } else if (href && !href.match(/^(https?:)?\/\//) && href.startsWith('/')) {
                // Internal links - use React Router's Link
                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.Link, {
                    to: href,
                    className: "text-blue-400 hover:text-blue-300 transition-colors underline underline-offset-2",
                    ...props
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 205,
                    columnNumber: 11
                }, undefined);
            }
            // External links - open in new tab
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("a", {
                href: href,
                className: "text-blue-400 hover:text-blue-300 transition-colors underline underline-offset-2",
                target: "_blank",
                rel: "noopener noreferrer",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 215,
                columnNumber: 9
            }, undefined);
        },
        ul: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("ul", {
                className: "my-4 list-disc pl-6 text-gray-800 dark:text-gray-200",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 225,
                columnNumber: 7
            }, undefined);
        },
        ol: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("ol", {
                className: "my-4 list-decimal pl-6 text-gray-800 dark:text-gray-200",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 228,
                columnNumber: 7
            }, undefined);
        },
        li: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("li", {
                className: "my-1",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 230,
                columnNumber: 33
            }, undefined);
        },
        blockquote: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("blockquote", {
                className: "border-l-4 border-purple-500 pl-4 my-4 italic text-gray-400",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 232,
                columnNumber: 7
            }, undefined);
        },
        code: (param)=>{
            let { node, className, children, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CodeBlock__WEBPACK_IMPORTED_MODULE_3__.CodeBlock, {
                className: `${className} dark:text-gray-200 dark:bg-gray-800`,
                ...props,
                children: children
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 239,
                columnNumber: 9
            }, undefined);
        },
        table: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "overflow-x-auto my-6",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("table", {
                    className: "min-w-full border-collapse border border-white/20 text-sm",
                    ...props
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 246,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 245,
                columnNumber: 7
            }, undefined);
        },
        thead: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("thead", {
                className: "bg-white/5",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 249,
                columnNumber: 36
            }, undefined);
        },
        tbody: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("tbody", {
                className: "divide-y divide-white/10",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 250,
                columnNumber: 36
            }, undefined);
        },
        tr: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("tr", {
                className: "hover:bg-white/5 transition-colors",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 251,
                columnNumber: 33
            }, undefined);
        },
        th: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("th", {
                className: "px-4 py-3 text-left text-xs font-medium text-gray-800 dark:text-gray-200 uppercase tracking-wider border-b border-white/20",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 253,
                columnNumber: 7
            }, undefined);
        },
        td: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("td", {
                className: "px-4 py-3 text-gray-800 border-white/10",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 259,
                columnNumber: 7
            }, undefined);
        },
        img: (param)=>{
            let { node, src, ...props } = param;
            return(// @ts-expect-error
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.img, {
                className: "max-w-full h-auto my-6 rounded-lg border border-white/10 cursor-pointer",
                src: src,
                onClick: ()=>src && handleImageClick(src),
                ...props,
                alt: props.alt || 'Documentation image',
                whileHover: {
                    scale: 1.01
                },
                transition: {
                    duration: 0.2
                }
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 263,
                columnNumber: 7
            }, undefined));
        },
        hr: (param)=>{
            let { node, ...props } = param;
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("hr", {
                className: "my-8 border-t border-white/10",
                ...props
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                lineNumber: 273,
                columnNumber: 33
            }, undefined);
        }
    };
    try {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: `${themeClass} markdown-content`,
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_8__.ReactMarkdown, {
                    remarkPlugins: [
                        remark_gfm__WEBPACK_IMPORTED_MODULE_9__["default"],
                        remark_github_blockquote_alert__WEBPACK_IMPORTED_MODULE_10__.remarkAlert
                    ],
                    rehypePlugins: [
                        rehype_raw__WEBPACK_IMPORTED_MODULE_11__["default"],
                        [
                            rehype_highlight__WEBPACK_IMPORTED_MODULE_12__["default"],
                            {
                                detect: true,
                                ignoreMissing: true
                            }
                        ]
                    ],
                    className: className,
                    components: components,
                    children: content
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 279,
                    columnNumber: 9
                }, undefined),
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.Dialog, {
                    open: !!openImage,
                    onClose: handleCloseModal,
                    className: "relative z-[9999]",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "fixed inset-0 bg-black/70 backdrop-blur-sm",
                            "aria-hidden": "true"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                            lineNumber: 291,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "fixed inset-0 flex items-center justify-center p-4",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_headlessui_react__WEBPACK_IMPORTED_MODULE_13__.Dialog.Panel, {
                                className: "max-w-[90vw] max-h-[90vh] outline-none",
                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.img, {
                                    src: openImage || '',
                                    alt: "Enlarged view",
                                    onLoad: ()=>setImageLoaded(true),
                                    className: "max-w-full max-h-[85vh] object-contain rounded-lg",
                                    initial: {
                                        opacity: 0,
                                        scale: 0.9
                                    },
                                    animate: {
                                        opacity: imageLoaded ? 1 : 0.3,
                                        scale: imageLoaded ? 1 : 0.95
                                    },
                                    exit: {
                                        opacity: 0,
                                        scale: 0.9
                                    },
                                    transition: {
                                        type: 'spring',
                                        duration: 0.3
                                    },
                                    onClick: handleCloseModal
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                                    lineNumber: 296,
                                    columnNumber: 15
                                }, undefined)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                                lineNumber: 295,
                                columnNumber: 13
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                            lineNumber: 294,
                            columnNumber: 11
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
                    lineNumber: 289,
                    columnNumber: 9
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
            lineNumber: 278,
            columnNumber: 7
        }, undefined);
    } catch (error) {
        console.error('Error rendering markdown:', error);
        setRenderError(error instanceof Error ? error : new Error(String(error)));
        // Fallback render for raw content
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("pre", {
            className: "p-3 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md overflow-auto",
            children: content
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Markdown/MarkdownRenderer.tsx",
            lineNumber: 321,
            columnNumber: 7
        }, undefined);
    }
};
_s(MarkdownRenderer, "OvG+rTFTIuaL2vagOsoYQI4T9U8=");
_c = MarkdownRenderer;
var _c;
$RefreshReg$(_c, "MarkdownRenderer");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Navbar/Navbar.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  Navbar: () => (Navbar)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var react_icons_go__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/go/index.esm.js");
/* ESM import */var _hooks_useLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/hooks/useLayout.ts");
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var _Share__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/components/Share/index.ts");
/* ESM import */var _context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/context/ReplayModeContext.tsx");
/* ESM import */var _Navbar_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/components/Navbar/Navbar.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();









const Navbar = ()=>{
    _s();
    const { isSidebarCollapsed, toggleSidebar } = (0,_hooks_useLayout__WEBPACK_IMPORTED_MODULE_2__.useLayout)();
    const { activeSessionId, isProcessing, modelInfo } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_3__.useSession)();
    const isReplayMode = (0,_context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_5__.useReplayMode)();
    const [isDarkMode, setIsDarkMode] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(document.documentElement.classList.contains('dark'));
    // Toggle dark mode
    const toggleDarkMode = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{
        const newMode = !isDarkMode;
        setIsDarkMode(newMode);
        document.documentElement.classList.toggle('dark', newMode);
        // Save preference to localStorage
        localStorage.setItem('agent-tars-theme', newMode ? 'dark' : 'light');
    }, [
        isDarkMode
    ]);
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "h-12 border-b border-gray-300/40 dark:border-gray-600/20 backdrop-blur-sm flex items-center px-3",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "flex space-x-1.5 mr-3",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "traffic-light traffic-light-red"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 36,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "traffic-light traffic-light-yellow"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 37,
                            columnNumber: 11
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "traffic-light traffic-light-green"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 38,
                            columnNumber: 11
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                    lineNumber: 35,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, undefined),
            !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: `${isSidebarCollapsed ? 'ml-0' : 'ml-[245px]'}`,
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                    whileHover: {
                        scale: 1.1
                    },
                    whileTap: {
                        scale: 0.95
                    },
                    onClick: toggleSidebar,
                    className: "text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-1.5 hover:bg-gray-100/40 dark:hover:bg-gray-800/40 rounded-full transition-colors",
                    title: isSidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar',
                    children: isSidebarCollapsed ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_go__WEBPACK_IMPORTED_MODULE_8__.GoSidebarCollapse, {
                        size: 20
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                        lineNumber: 52,
                        columnNumber: 35
                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_go__WEBPACK_IMPORTED_MODULE_8__.GoSidebarExpand, {
                        size: 20
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                        lineNumber: 52,
                        columnNumber: 69
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                    lineNumber: 45,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                lineNumber: 44,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 flex items-center justify-center",
                children: modelInfo.model && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    className: "px-3 py-1 rounded-full bg-gray-100/80 dark:bg-gray-700/80 text-xs text-gray-700 dark:text-gray-300 border border-gray-200/40 dark:border-gray-700/30 flex items-center",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "w-4 h-4 rounded-full bg-purple-400 dark:bg-purple-500 mr-2 flex-shrink-0"
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 61,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "font-mono",
                            children: modelInfo.model
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 62,
                            columnNumber: 13
                        }, undefined),
                        modelInfo.provider && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "ml-2 px-1.5 py-0.5 rounded-md bg-gray-200/80 dark:bg-gray-600/80 text-gray-600 dark:text-gray-400 text-[10px]",
                            children: modelInfo.provider
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 64,
                            columnNumber: 15
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                    lineNumber: 60,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                lineNumber: 58,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center space-x-2",
                children: [
                    activeSessionId && !isProcessing && !isReplayMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Share__WEBPACK_IMPORTED_MODULE_4__.ShareButton, {
                        variant: "navbar"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                        lineNumber: 74,
                        columnNumber: 63
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.button, {
                        whileHover: {
                            scale: 1.1
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: toggleDarkMode,
                        className: "w-8 h-8 rounded-full flex items-center justify-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100/40 dark:hover:bg-gray-800/40 transition-colors",
                        title: isDarkMode ? 'Light Mode' : 'Dark Mode',
                        children: isDarkMode ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiSun, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 84,
                            columnNumber: 25
                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiMoon, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                            lineNumber: 84,
                            columnNumber: 47
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                        lineNumber: 77,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
                lineNumber: 73,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Navbar/Navbar.tsx",
        lineNumber: 31,
        columnNumber: 5
    }, undefined);
};
_s(Navbar, "QjtPEogBrJvChI0PFFnsbHOzGiE=", false, function() {
    return [
        _hooks_useLayout__WEBPACK_IMPORTED_MODULE_2__.useLayout,
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_3__.useSession,
        _context_ReplayModeContext__WEBPACK_IMPORTED_MODULE_5__.useReplayMode
    ];
});
_c = Navbar;
var _c;
$RefreshReg$(_c, "Navbar");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Workspace/WorkspaceContent.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  WorkspaceContent: () => (WorkspaceContent)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var _hooks_useTool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/hooks/useTool.tsx");
/* ESM import */var _hooks_usePlan__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/hooks/usePlan.ts");
/* ESM import */var _hooks_usePro__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/hooks/usePro.ts");
/* ESM import */var react_icons_fi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("../node_modules/.pnpm/react-icons@4.12.0_react@18.3.1/node_modules/react-icons/fi/index.esm.js");
/* ESM import */var _utils_formatters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/utils/formatters.ts");
/* ESM import */var _Workspace_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/v2/components/Workspace/Workspace.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();









/**
 * Helper function to get icon for filter type
 */ function getFilterIcon(type) {
    switch(type){
        case 'all':
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiGrid, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 34,
                columnNumber: 14
            }, this);
        case 'image':
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiImage, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 36,
                columnNumber: 14
            }, this);
        case 'document':
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiFile, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 38,
                columnNumber: 14
            }, this);
        case 'search':
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiSearch, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 40,
                columnNumber: 14
            }, this);
        case 'browser':
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiMonitor, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 42,
                columnNumber: 14
            }, this);
        case 'terminal':
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiTerminal, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 44,
                columnNumber: 14
            }, this);
        default:
            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiGrid, {
                size: 16
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 46,
                columnNumber: 14
            }, this);
    }
}
/**
 * WorkspaceContent Component - Displays tool results and allows filtering
 *
 * Design principles:
 * - Clean monochromatic design with selective accent highlights
 * - Elegant card layout with subtle shadows and refined spacing
 * - Refined micro-interactions to enhance user experience
 * - Robust information hierarchy through typography and spacing
 */ const WorkspaceContent = ()=>{
    _s();
    const { activeSessionId, toolResults, setActivePanelContent } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const { getToolIcon } = (0,_hooks_useTool__WEBPACK_IMPORTED_MODULE_3__.useTool)();
    const { currentPlan } = (0,_hooks_usePlan__WEBPACK_IMPORTED_MODULE_4__.usePlan)(activeSessionId);
    const [activeFilter, setActiveFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [hoveredItemId, setHoveredItemId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const isProMode = (0,_hooks_usePro__WEBPACK_IMPORTED_MODULE_5__.usePro)();
    const activeResults = activeSessionId ? toolResults[activeSessionId] || [] : [];
    // Filter results based on selected type
    const filteredResults = activeResults.filter((result)=>{
        if (activeFilter === 'all') return true;
        if (activeFilter === 'document') return result.type === 'file';
        return result.type === activeFilter;
    });
    // Group results by date (today, yesterday, older)
    const groupResultsByDate = ()=>{
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const yesterday = new Date(today);
        yesterday.setDate(yesterday.getDate() - 1);
        return filteredResults.reduce((groups, result)=>{
            const resultDate = new Date(result.timestamp);
            let group = 'older';
            if (resultDate >= today) {
                group = 'today';
            } else if (resultDate >= yesterday) {
                group = 'yesterday';
            }
            if (!groups[group]) groups[group] = [];
            groups[group].push(result);
            return groups;
        }, {});
    };
    const groupedResults = groupResultsByDate();
    // Handle clicking on a result item
    const handleResultClick = (result)=>{
        setActivePanelContent({
            type: result.type,
            source: result.content,
            title: result.name,
            timestamp: result.timestamp,
            toolCallId: result.toolCallId,
            error: result.error
        });
    };
    // Animation variants
    const cardVariants = {
        initial: {
            y: 10,
            opacity: 0
        },
        animate: {
            y: 0,
            opacity: 1,
            transition: {
                duration: 0.3
            }
        },
        hover: {
            y: -4,
            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.05)',
            transition: {
                duration: 0.2
            }
        },
        exit: {
            y: -10,
            opacity: 0,
            transition: {
                duration: 0.2
            }
        }
    };
    const emptyStateVariants = {
        initial: {
            opacity: 0,
            scale: 0.95
        },
        animate: {
            opacity: 1,
            scale: 1,
            transition: {
                duration: 0.4,
                delay: 0.1
            }
        }
    };
    // Add Plan view button
    const renderPlanButton = ()=>{
        console.log('isProMode', isProMode);
        if (!isProMode) return null;
        if (!currentPlan || !currentPlan.hasGeneratedPlan || currentPlan.steps.length === 0) return null;
        const completedSteps = currentPlan.steps.filter((step)=>step.done).length;
        const totalSteps = currentPlan.steps.length;
        const isComplete = currentPlan.isComplete;
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
            initial: {
                opacity: 0,
                y: 20
            },
            animate: {
                opacity: 1,
                y: 0
            },
            transition: {
                duration: 0.4
            },
            className: "mb-6",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
                whileHover: {
                    y: -4,
                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.05)'
                },
                whileTap: {
                    scale: 0.98
                },
                onClick: ()=>setActivePanelContent({
                        type: 'plan',
                        source: null,
                        title: 'Task Plan',
                        timestamp: Date.now()
                    }),
                className: "bg-white dark:bg-gray-800 rounded-xl border border-[#E5E6EC] dark:border-gray-700/30 overflow-hidden cursor-pointer transition-all duration-200",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "p-4",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-start",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: `w-10 h-10 rounded-xl flex items-center justify-center mr-3 flex-shrink-0 ${isComplete ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 border border-green-100/50 dark:border-green-800/30' : 'bg-gray-100 dark:bg-gray-700 text-accent-500 dark:text-accent-400 border border-[#E5E6EC] dark:border-gray-700/30'}`,
                                    children: isComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiCpu, {
                                        size: 18
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                        lineNumber: 182,
                                        columnNumber: 19
                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
                                        animate: {
                                            scale: [
                                                1,
                                                1.05,
                                                1
                                            ]
                                        },
                                        transition: {
                                            duration: 2,
                                            repeat: Infinity
                                        },
                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiCpu, {
                                            size: 18
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 188,
                                            columnNumber: 21
                                        }, undefined)
                                    }, void 0, false, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                        lineNumber: 184,
                                        columnNumber: 19
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                    lineNumber: 174,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "flex-1 min-w-0",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "flex items-start justify-between",
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h4", {
                                                    className: "font-medium text-gray-900 dark:text-gray-100 mb-1 truncate pr-2",
                                                    children: "Task Plan"
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                    lineNumber: 194,
                                                    columnNumber: 19
                                                }, undefined),
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
                                                    animate: {
                                                        opacity: 1,
                                                        x: 0
                                                    },
                                                    transition: {
                                                        duration: 0.2
                                                    },
                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiArrowRight, {
                                                        size: 16,
                                                        className: "text-gray-400 dark:text-gray-500"
                                                    }, void 0, false, {
                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                        lineNumber: 204,
                                                        columnNumber: 21
                                                    }, undefined)
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                    lineNumber: 197,
                                                    columnNumber: 19
                                                }, undefined)
                                            ]
                                        }, void 0, true, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 193,
                                            columnNumber: 17
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "flex items-center text-xs text-gray-500 dark:text-gray-400",
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiClock, {
                                                    size: 12,
                                                    className: "mr-1"
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                    lineNumber: 208,
                                                    columnNumber: 19
                                                }, undefined),
                                                isComplete ? 'Completed' : 'In progress'
                                            ]
                                        }, void 0, true, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 207,
                                            columnNumber: 17
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "mt-3 mb-2",
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                    className: "flex justify-between items-center mb-1.5 text-xs",
                                                    children: [
                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                            className: "text-gray-600 dark:text-gray-400",
                                                            children: "Progress"
                                                        }, void 0, false, {
                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                            lineNumber: 215,
                                                            columnNumber: 21
                                                        }, undefined),
                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                            className: "text-gray-700 dark:text-gray-300 font-medium",
                                                            children: [
                                                                completedSteps,
                                                                "/",
                                                                totalSteps
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                            lineNumber: 216,
                                                            columnNumber: 21
                                                        }, undefined)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                    lineNumber: 214,
                                                    columnNumber: 19
                                                }, undefined),
                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                    className: "h-1.5 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",
                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                        className: `h-full ${isComplete ? 'bg-gradient-to-r from-green-400 to-green-500' : 'bg-gradient-to-r from-accent-400 to-accent-500'}`,
                                                        style: {
                                                            width: `${totalSteps ? completedSteps / totalSteps * 100 : 0}%`
                                                        }
                                                    }, void 0, false, {
                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                        lineNumber: 221,
                                                        columnNumber: 21
                                                    }, undefined)
                                                }, void 0, false, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                    lineNumber: 220,
                                                    columnNumber: 19
                                                }, undefined)
                                            ]
                                        }, void 0, true, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 213,
                                            columnNumber: 17
                                        }, undefined)
                                    ]
                                }, void 0, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                    lineNumber: 192,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                            lineNumber: 173,
                            columnNumber: 13
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 172,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "bg-gray-50 dark:bg-gray-700/30 px-4 py-2 border-t border-[#E5E6EC] dark:border-gray-700/30",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex items-center justify-between",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "flex items-center text-xs",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                            className: `w-2 h-2 rounded-full mr-1.5 ${isComplete ? 'bg-green-500 dark:bg-green-400' : 'bg-accent-500 dark:bg-accent-400'}`
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 238,
                                            columnNumber: 17
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                            className: "text-gray-500 dark:text-gray-400",
                                            children: "View plan details"
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 245,
                                            columnNumber: 17
                                        }, undefined)
                                    ]
                                }, void 0, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                    lineNumber: 237,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "flex items-center text-xs",
                                    children: isComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                        className: "text-gray-500 dark:text-gray-400 flex items-center",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiCheck, {
                                                size: 12,
                                                className: "mr-1 text-green-500 dark:text-green-400"
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                lineNumber: 250,
                                                columnNumber: 21
                                            }, undefined),
                                            "Complete"
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                        lineNumber: 249,
                                        columnNumber: 19
                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                        className: "text-gray-500 dark:text-gray-400 flex items-center",
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiClock, {
                                                size: 12,
                                                className: "mr-1"
                                            }, void 0, false, {
                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                lineNumber: 255,
                                                columnNumber: 21
                                            }, undefined),
                                            "Active"
                                        ]
                                    }, void 0, true, {
                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                        lineNumber: 254,
                                        columnNumber: 19
                                    }, undefined)
                                }, void 0, false, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                    lineNumber: 247,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                            lineNumber: 236,
                            columnNumber: 13
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 235,
                        columnNumber: 11
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 159,
                columnNumber: 9
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
            lineNumber: 153,
            columnNumber: 7
        }, undefined);
    };
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "h-full flex flex-col bg-white dark:bg-gray-800",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center px-6 py-4",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "w-8 h-8 mr-3 rounded-xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-400 border border-[#E5E6EC] dark:border-gray-700/30",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiLayout, {
                            size: 16
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                            lineNumber: 272,
                            columnNumber: 11
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 271,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h2", {
                        className: "font-medium text-gray-900 dark:text-gray-100 text-lg",
                        children: "Workspace"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 274,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 270,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex items-center px-6 py-3 overflow-x-auto",
                children: [
                    'all',
                    'image',
                    'document',
                    'search',
                    'browser',
                    'terminal'
                ].map((filter)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.button, {
                        whileHover: {
                            y: -2
                        },
                        whileTap: {
                            scale: 0.95
                        },
                        onClick: ()=>setActiveFilter(filter),
                        className: `flex items-center px-3 py-1.5 mr-3 rounded-lg text-sm transition-all duration-200 ${activeFilter === filter ? 'bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-medium' : 'text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800/60'}`,
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                className: "mr-2",
                                children: getFilterIcon(filter)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                lineNumber: 292,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                className: "capitalize",
                                children: filter
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                lineNumber: 293,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, filter, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 281,
                        columnNumber: 13
                    }, undefined))
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 278,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 overflow-y-auto p-6",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_10__.AnimatePresence, {
                    mode: "wait",
                    children: Object.entries(groupedResults).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
                        variants: emptyStateVariants,
                        initial: "initial",
                        animate: "animate",
                        className: "flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400 text-center py-20",
                        children: [
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                className: "w-16 h-16 rounded-2xl bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4 border border-[#E5E6EC] dark:border-gray-700/30",
                                children: getFilterIcon(activeFilter)
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                lineNumber: 310,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h3", {
                                className: "text-lg font-medium mb-2 text-gray-700 dark:text-gray-300",
                                children: [
                                    "No ",
                                    activeFilter === 'all' ? 'items' : activeFilter + ' items',
                                    " yet"
                                ]
                            }, void 0, true, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                lineNumber: 313,
                                columnNumber: 15
                            }, undefined),
                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                                className: "text-sm max-w-md",
                                children: "Tool results will appear here as you interact with the agent."
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                lineNumber: 316,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, "empty-state", true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 303,
                        columnNumber: 13
                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "space-y-8",
                        children: [
                            activeFilter === 'all' && renderPlanButton(),
                            Object.entries(groupedResults).map((param)=>{
                                let [dateGroup, results] = param;
                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "mb-8",
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h3", {
                                            className: "text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",
                                            children: dateGroup === 'today' ? 'Today' : dateGroup === 'yesterday' ? 'Yesterday' : 'Older'
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 327,
                                            columnNumber: 19
                                        }, undefined),
                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                            className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                            children: results.map((result)=>{
                                                var _result_content_find_text, _result_content_find, _result_content_find1;
                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
                                                    variants: cardVariants,
                                                    initial: "initial",
                                                    animate: "animate",
                                                    whileHover: "hover",
                                                    exit: "exit",
                                                    onClick: ()=>handleResultClick(result),
                                                    onMouseEnter: ()=>setHoveredItemId(result.id),
                                                    onMouseLeave: ()=>setHoveredItemId(null),
                                                    className: "bg-white dark:bg-gray-800 rounded-xl border border-[#E5E6EC] dark:border-gray-700/30 overflow-hidden cursor-pointer transition-all duration-200",
                                                    children: [
                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                            className: "p-4",
                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                className: "flex items-start",
                                                                children: [
                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                        className: "w-10 h-10 rounded-xl relative flex items-center justify-center mr-3 flex-shrink-0 overflow-hidden",
                                                                        children: [
                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: `absolute inset-0 opacity-20 ${result.type === 'search' ? 'bg-gradient-to-br from-blue-400 to-indigo-500' : result.type === 'browser' ? 'bg-gradient-to-br from-purple-400 to-pink-500' : result.type === 'command' ? 'bg-gradient-to-br from-green-400 to-emerald-500' : result.type === 'file' ? 'bg-gradient-to-br from-yellow-400 to-amber-500' : result.type === 'image' ? 'bg-gradient-to-br from-red-400 to-rose-500' : result.type === 'browser_vision_control' ? 'bg-gradient-to-br from-cyan-400 to-teal-500' : 'bg-gradient-to-br from-gray-400 to-gray-500'}`
                                                                            }, void 0, false, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 353,
                                                                                columnNumber: 31
                                                                            }, undefined),
                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: "relative z-10 text-center",
                                                                                children: getToolIcon(result.type)
                                                                            }, void 0, false, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 370,
                                                                                columnNumber: 31
                                                                            }, undefined)
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                        lineNumber: 351,
                                                                        columnNumber: 29
                                                                    }, undefined),
                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                        className: "flex-1 min-w-0",
                                                                        children: [
                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: "flex items-start justify-between",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h4", {
                                                                                        className: "font-medium text-gray-900 dark:text-gray-100 mb-1 truncate pr-2",
                                                                                        children: result.name
                                                                                    }, void 0, false, {
                                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                        lineNumber: 376,
                                                                                        columnNumber: 33
                                                                                    }, undefined),
                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {
                                                                                        animate: {
                                                                                            opacity: hoveredItemId === result.id ? 1 : 0,
                                                                                            x: hoveredItemId === result.id ? 0 : 5
                                                                                        },
                                                                                        transition: {
                                                                                            duration: 0.2
                                                                                        },
                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiArrowRight, {
                                                                                            size: 16,
                                                                                            className: "text-gray-400 dark:text-gray-500"
                                                                                        }, void 0, false, {
                                                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                            lineNumber: 386,
                                                                                            columnNumber: 35
                                                                                        }, undefined)
                                                                                    }, void 0, false, {
                                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                        lineNumber: 379,
                                                                                        columnNumber: 33
                                                                                    }, undefined)
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 375,
                                                                                columnNumber: 31
                                                                            }, undefined),
                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: "flex items-center text-xs text-gray-500 dark:text-gray-400",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiClock, {
                                                                                        size: 12,
                                                                                        className: "mr-1"
                                                                                    }, void 0, false, {
                                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                        lineNumber: 393,
                                                                                        columnNumber: 33
                                                                                    }, undefined),
                                                                                    (0,_utils_formatters__WEBPACK_IMPORTED_MODULE_6__.formatTimestamp)(result.timestamp)
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 392,
                                                                                columnNumber: 31
                                                                            }, undefined),
                                                                            result.type === 'search' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: "mt-3 text-xs text-gray-600 dark:text-gray-300 rounded-md line-clamp-2",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                                                        className: "font-medium",
                                                                                        children: "Search:"
                                                                                    }, void 0, false, {
                                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                        lineNumber: 400,
                                                                                        columnNumber: 35
                                                                                    }, undefined),
                                                                                    ' ',
                                                                                    typeof result.content === 'string' ? result.content.substring(0, 100) : Array.isArray(result.content) && result.content.some((p)=>p.name === 'QUERY') ? (_result_content_find = result.content.find((p)=>p.name === 'QUERY')) === null || _result_content_find === void 0 ? void 0 : (_result_content_find_text = _result_content_find.text) === null || _result_content_find_text === void 0 ? void 0 : _result_content_find_text.substring(0, 100) : 'Search results'
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 399,
                                                                                columnNumber: 33
                                                                            }, undefined),
                                                                            result.type === 'command' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: "mt-3 text-xs text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-md line-clamp-1 font-mono",
                                                                                children: typeof result.content === 'object' ? result.content.command || 'Command executed' : Array.isArray(result.content) && result.content.some((p)=>p.name === 'COMMAND') ? (_result_content_find1 = result.content.find((p)=>p.name === 'COMMAND')) === null || _result_content_find1 === void 0 ? void 0 : _result_content_find1.text : 'Command executed'
                                                                            }, void 0, false, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 413,
                                                                                columnNumber: 33
                                                                            }, undefined),
                                                                            result.type === 'browser' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                                className: "mt-3 text-xs text-gray-600 dark:text-gray-300 flex items-center",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiMonitor, {
                                                                                        size: 12,
                                                                                        className: "mr-1"
                                                                                    }, void 0, false, {
                                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                        lineNumber: 425,
                                                                                        columnNumber: 35
                                                                                    }, undefined),
                                                                                    typeof result.content === 'object' && result.content.url ? result.content.url.substring(0, 40) + (result.content.url.length > 40 ? '...' : '') : 'Browser navigation'
                                                                                ]
                                                                            }, void 0, true, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 424,
                                                                                columnNumber: 33
                                                                            }, undefined)
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                        lineNumber: 374,
                                                                        columnNumber: 29
                                                                    }, undefined)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                lineNumber: 350,
                                                                columnNumber: 27
                                                            }, undefined)
                                                        }, void 0, false, {
                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                            lineNumber: 349,
                                                            columnNumber: 25
                                                        }, undefined),
                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                            className: "bg-gray-50 dark:bg-gray-700/30 px-4 py-2 border-t border-[#E5E6EC] dark:border-gray-700/30",
                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                className: "flex items-center justify-between",
                                                                children: [
                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                        className: "flex items-center text-xs",
                                                                        children: [
                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                                                className: `w-2 h-2 rounded-full mr-1.5 ${result.error ? 'bg-gray-400 dark:bg-gray-500' : 'bg-gray-400 dark:bg-gray-500'}`
                                                                            }, void 0, false, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 439,
                                                                                columnNumber: 31
                                                                            }, undefined),
                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                                                className: "text-gray-500 dark:text-gray-400",
                                                                                children: result.type
                                                                            }, void 0, false, {
                                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                lineNumber: 446,
                                                                                columnNumber: 31
                                                                            }, undefined)
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                        lineNumber: 438,
                                                                        columnNumber: 29
                                                                    }, undefined),
                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                                                        className: "flex items-center text-xs",
                                                                        children: result.error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                                            className: "text-gray-500 dark:text-gray-400 flex items-center",
                                                                            children: [
                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiX, {
                                                                                    size: 12,
                                                                                    className: "mr-1"
                                                                                }, void 0, false, {
                                                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                    lineNumber: 453,
                                                                                    columnNumber: 35
                                                                                }, undefined),
                                                                                "Error"
                                                                            ]
                                                                        }, void 0, true, {
                                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                            lineNumber: 452,
                                                                            columnNumber: 33
                                                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                                                            className: "text-gray-500 dark:text-gray-400 flex items-center",
                                                                            children: [
                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.FiCheck, {
                                                                                    size: 12,
                                                                                    className: "mr-1"
                                                                                }, void 0, false, {
                                                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                                    lineNumber: 458,
                                                                                    columnNumber: 35
                                                                                }, undefined),
                                                                                "Success"
                                                                            ]
                                                                        }, void 0, true, {
                                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                            lineNumber: 457,
                                                                            columnNumber: 33
                                                                        }, undefined)
                                                                    }, void 0, false, {
                                                                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                        lineNumber: 450,
                                                                        columnNumber: 29
                                                                    }, undefined)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                                lineNumber: 437,
                                                                columnNumber: 27
                                                            }, undefined)
                                                        }, void 0, false, {
                                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                            lineNumber: 436,
                                                            columnNumber: 25
                                                        }, undefined)
                                                    ]
                                                }, result.id, true, {
                                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                                    lineNumber: 337,
                                                    columnNumber: 23
                                                }, undefined);
                                            })
                                        }, void 0, false, {
                                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                            lineNumber: 335,
                                            columnNumber: 19
                                        }, undefined)
                                    ]
                                }, dateGroup, true, {
                                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                                    lineNumber: 326,
                                    columnNumber: 17
                                }, undefined);
                            })
                        ]
                    }, void 0, true, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                        lineNumber: 321,
                        columnNumber: 13
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                    lineNumber: 301,
                    columnNumber: 9
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
                lineNumber: 300,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspaceContent.tsx",
        lineNumber: 268,
        columnNumber: 5
    }, undefined);
};
_s(WorkspaceContent, "IVRUvjIOhUFFhL3tgkAUolRnLTs=", false, function() {
    return [
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        _hooks_useTool__WEBPACK_IMPORTED_MODULE_3__.useTool,
        _hooks_usePlan__WEBPACK_IMPORTED_MODULE_4__.usePlan,
        _hooks_usePro__WEBPACK_IMPORTED_MODULE_5__.usePro
    ];
});
_c = WorkspaceContent;
var _c;
$RefreshReg$(_c, "WorkspaceContent");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),
"./src/v2/components/Workspace/WorkspacePanel.tsx": (function (module, __webpack_exports__, __webpack_require__) {
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
  WorkspacePanel: () => (WorkspacePanel)
});
/* ESM import */var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-dev-runtime.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");
/* ESM import */var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* ESM import */var _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./src/v2/hooks/useSession.ts");
/* ESM import */var _WorkspaceContent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./src/v2/components/Workspace/WorkspaceContent.tsx");
/* ESM import */var _WorkspaceDetail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./src/v2/components/Workspace/WorkspaceDetail.tsx");
/* ESM import */var _PlanView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./src/v2/components/Workspace/PlanView.tsx");
/* ESM import */var _hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./src/v2/hooks/useReplay.ts");
/* ESM import */var _Replay_TimelineSlider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./src/v2/components/Replay/TimelineSlider.tsx");
/* ESM import */var _Replay_ReplayControls__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./src/v2/components/Replay/ReplayControls.tsx");
/* ESM import */var _hooks_usePro__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./src/v2/hooks/usePro.ts");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* ESM import */var framer_motion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("../node_modules/.pnpm/framer-motion@10.18.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* ESM import */var _Workspace_css__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./src/v2/components/Workspace/Workspace.css");
/* provided dependency */ var $ReactRefreshRuntime$ = __webpack_require__("../node_modules/.pnpm/@rspack+plugin-react-refresh@1.0.3_react-refresh@0.16.0/node_modules/@rspack/plugin-react-refresh/client/reactRefresh.js");

var _s = $RefreshSig$();











/**
 * WorkspacePanel Component - Container for workspace content
 */ const WorkspacePanel = ()=>{
    _s();
    const { activeSessionId, activePanelContent, setActivePanelContent } = (0,_hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession)();
    const { replayState } = (0,_hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__.useReplay)();
    const isProMode = (0,_hooks_usePro__WEBPACK_IMPORTED_MODULE_9__.usePro)();
    // 检查是否在查看计划，同时确保只有在 Pro 模式下才允许查看计划
    const isViewingPlan = isProMode && (activePanelContent === null || activePanelContent === void 0 ? void 0 : activePanelContent.type) === 'plan';
    const isReplayActive = replayState.isActive;
    if (!activeSessionId) {
        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "flex items-center justify-center h-full text-gray-500 dark:text-gray-400 text-sm p-4 text-center",
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "text-center p-6 max-w-md",
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        className: "w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-6",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("svg", {
                            className: "w-8 h-8 text-gray-400 dark:text-gray-500",
                            fill: "none",
                            viewBox: "0 0 24 24",
                            stroke: "currentColor",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 1.5,
                                d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                            }, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                                lineNumber: 36,
                                columnNumber: 15
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                            lineNumber: 30,
                            columnNumber: 13
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                        lineNumber: 29,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("h3", {
                        className: "text-lg font-medium mb-2",
                        children: "No active session"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                        lineNumber: 44,
                        columnNumber: 11
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("p", {
                        className: "text-sm text-gray-500 dark:text-gray-400",
                        children: "Create or select a session to start working"
                    }, void 0, false, {
                        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                        lineNumber: 45,
                        columnNumber: 11
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                lineNumber: 28,
                columnNumber: 9
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
            lineNumber: 27,
            columnNumber: 7
        }, undefined);
    }
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "flex flex-col h-full",
        children: [
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                className: "flex-1 overflow-hidden",
                children: isViewingPlan ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PlanView__WEBPACK_IMPORTED_MODULE_5__.PlanView, {
                    onBack: ()=>setActivePanelContent(null)
                }, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                    lineNumber: 58,
                    columnNumber: 11
                }, undefined) : activePanelContent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WorkspaceDetail__WEBPACK_IMPORTED_MODULE_4__.WorkspaceDetail, {}, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                    lineNumber: 60,
                    columnNumber: 11
                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WorkspaceContent__WEBPACK_IMPORTED_MODULE_3__.WorkspaceContent, {}, void 0, false, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                    lineNumber: 62,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                lineNumber: 56,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_11__.AnimatePresence, {
                children: isReplayActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_12__.motion.div, {
                    initial: {
                        opacity: 0,
                        y: 20
                    },
                    animate: {
                        opacity: 1,
                        y: 0
                    },
                    exit: {
                        opacity: 0,
                        y: 20
                    },
                    transition: {
                        duration: 0.3
                    },
                    className: "p-4 border-t border-gray-100/40 dark:border-gray-700/20 bg-gray-50/50 dark:bg-gray-900/30",
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Replay_TimelineSlider__WEBPACK_IMPORTED_MODULE_7__.TimelineSlider, {}, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                            lineNumber: 77,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "flex justify-center mt-3",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Replay_ReplayControls__WEBPACK_IMPORTED_MODULE_8__.ReplayControls, {}, void 0, false, {
                                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                                lineNumber: 81,
                                columnNumber: 15
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                            lineNumber: 80,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                    lineNumber: 69,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
                lineNumber: 67,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/chenhaoli/workspace/code/UI-TARS-desktop-5/multimodal/agent-tars-web-ui/src/v2/components/Workspace/WorkspacePanel.tsx",
        lineNumber: 54,
        columnNumber: 5
    }, undefined);
};
_s(WorkspacePanel, "qdjywBb1NZdzGvu2GuEozoZJsic=", false, function() {
    return [
        _hooks_useSession__WEBPACK_IMPORTED_MODULE_2__.useSession,
        _hooks_useReplay__WEBPACK_IMPORTED_MODULE_6__.useReplay,
        _hooks_usePro__WEBPACK_IMPORTED_MODULE_9__.usePro
    ];
});
_c = WorkspacePanel;
var _c;
$RefreshReg$(_c, "WorkspacePanel");

function $RefreshSig$() {
  return $ReactRefreshRuntime$.createSignatureFunctionForTransform();
}
function $RefreshReg$(type, id) {
  $ReactRefreshRuntime$.register(type, module.id + "_" + id);
}
Promise.resolve().then(function() {
  $ReactRefreshRuntime$.refresh(module.id, module.hot);
});


}),

},function(__webpack_require__) {
// webpack/runtime/get_full_hash
(() => {
__webpack_require__.h = () => ("03a58642db0abd8f")
})();

}
);
//# sourceMappingURL=index.170b07e7ffd1c3c0.hot-update.js.map